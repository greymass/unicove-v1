var D0=Object.defineProperty;var z0=(t,e,r)=>e in t?D0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ef=(t,e,r)=>(z0(t,typeof e!="symbol"?e+"":e,r),r);import{a9 as Jc}from"./index-e79fb213.js";import{d as un,r as O0,w as Pi}from"./index-7caa81a8.js";var li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function q0(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),r}var ua={exports:{}};const $0={},U0=Object.freeze(Object.defineProperty({__proto__:null,default:$0},Symbol.toStringTag,{value:"Module"})),Xc=q0(U0);var jo;ua.exports=function(e){return jo||(jo=new Pr(null)),jo.generate(e)};function Pr(t){this.rand=t}ua.exports.Rand=Pr;Pr.prototype.generate=function(e){return this._rand(e)};Pr.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Pr.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Pr.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Pr.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Mf=Xc;if(typeof Mf.randomBytes!="function")throw new Error("Not supported");Pr.prototype._rand=function(e){return Mf.randomBytes(e)}}catch{}var Qt={},ae={},Ci=Yc;function Yc(t,e){if(!t)throw new Error(e||"Assertion failed")}Yc.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)};var ji={exports:{}};typeof Object.create=="function"?ji.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ji.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}};var F0=Ci,H0=ji.exports;ae.inherits=H0;function V0(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function K0(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var a=t.charCodeAt(n);a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):V0(t,n)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}ae.toArray=K0;function j0(t){for(var e="",r=0;r<t.length;r++)e+=ed(t[r].toString(16));return e}ae.toHex=j0;function Qc(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}ae.htonl=Qc;function W0(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=Qc(n)),r+=td(n.toString(16))}return r}ae.toHex32=W0;function ed(t){return t.length===1?"0"+t:t}ae.zero2=ed;function td(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}ae.zero8=td;function Z0(t,e,r,i){var n=r-e;F0(n%4===0);for(var a=new Array(n/4),o=0,s=e;o<a.length;o++,s+=4){var l;i==="big"?l=t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]:l=t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s],a[o]=l>>>0}return a}ae.join32=Z0;function G0(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var a=t[i];e==="big"?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=a&255):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=a&255)}return r}ae.split32=G0;function J0(t,e){return t>>>e|t<<32-e}ae.rotr32=J0;function X0(t,e){return t<<e|t>>>32-e}ae.rotl32=X0;function Y0(t,e){return t+e>>>0}ae.sum32=Y0;function Q0(t,e,r){return t+e+r>>>0}ae.sum32_3=Q0;function el(t,e,r,i){return t+e+r+i>>>0}ae.sum32_4=el;function tl(t,e,r,i,n){return t+e+r+i+n>>>0}ae.sum32_5=tl;function rl(t,e,r,i){var n=t[e],a=t[e+1],o=i+a>>>0,s=(o<i?1:0)+r+n;t[e]=s>>>0,t[e+1]=o}ae.sum64=rl;function il(t,e,r,i){var n=e+i>>>0,a=(n<e?1:0)+t+r;return a>>>0}ae.sum64_hi=il;function nl(t,e,r,i){var n=e+i;return n>>>0}ae.sum64_lo=nl;function al(t,e,r,i,n,a,o,s){var l=0,c=e;c=c+i>>>0,l+=c<e?1:0,c=c+a>>>0,l+=c<a?1:0,c=c+s>>>0,l+=c<s?1:0;var h=t+r+n+o+l;return h>>>0}ae.sum64_4_hi=al;function ol(t,e,r,i,n,a,o,s){var l=e+i+a+s;return l>>>0}ae.sum64_4_lo=ol;function sl(t,e,r,i,n,a,o,s,l,c){var h=0,g=e;g=g+i>>>0,h+=g<e?1:0,g=g+a>>>0,h+=g<a?1:0,g=g+s>>>0,h+=g<s?1:0,g=g+c>>>0,h+=g<c?1:0;var E=t+r+n+o+l+h;return E>>>0}ae.sum64_5_hi=sl;function fl(t,e,r,i,n,a,o,s,l,c){var h=e+i+a+s+c;return h>>>0}ae.sum64_5_lo=fl;function cl(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}ae.rotr64_hi=cl;function dl(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}ae.rotr64_lo=dl;function ll(t,e,r){return t>>>r}ae.shr64_hi=ll;function hl(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}ae.shr64_lo=hl;var pn={},If=ae,ul=Ci;function no(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}pn.BlockHash=no;no.prototype.update=function(e,r){if(e=If.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=If.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};no.prototype.digest=function(e){return this.update(this._pad()),ul(this.pending===null),this._digest(e)};no.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var a=1;a<i;a++)n[a]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)n[a++]=0;n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=e>>>24&255,n[a++]=e>>>16&255,n[a++]=e>>>8&255,n[a++]=e&255}else for(n[a++]=e&255,n[a++]=e>>>8&255,n[a++]=e>>>16&255,n[a++]=e>>>24&255,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,o=8;o<this.padLength;o++)n[a++]=0;return n};var bn={},lr={},pl=ae,er=pl.rotr32;function bl(t,e,r,i){if(t===0)return rd(e,r,i);if(t===1||t===3)return nd(e,r,i);if(t===2)return id(e,r,i)}lr.ft_1=bl;function rd(t,e,r){return t&e^~t&r}lr.ch32=rd;function id(t,e,r){return t&e^t&r^e&r}lr.maj32=id;function nd(t,e,r){return t^e^r}lr.p32=nd;function ml(t){return er(t,2)^er(t,13)^er(t,22)}lr.s0_256=ml;function vl(t){return er(t,6)^er(t,11)^er(t,25)}lr.s1_256=vl;function yl(t){return er(t,7)^er(t,18)^t>>>3}lr.g0_256=yl;function gl(t){return er(t,17)^er(t,19)^t>>>10}lr.g1_256=gl;var Wi=ae,_l=pn,wl=lr,Wo=Wi.rotl32,En=Wi.sum32,xl=Wi.sum32_5,Sl=wl.ft_1,ad=_l.BlockHash,Al=[1518500249,1859775393,2400959708,3395469782];function ir(){if(!(this instanceof ir))return new ir;ad.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Wi.inherits(ir,ad);var kl=ir;ir.blockSize=512;ir.outSize=160;ir.hmacStrength=80;ir.padLength=64;ir.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=Wo(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var a=this.h[0],o=this.h[1],s=this.h[2],l=this.h[3],c=this.h[4];for(n=0;n<i.length;n++){var h=~~(n/20),g=xl(Wo(a,5),Sl(h,o,s,l),c,i[n],Al[h]);c=l,l=s,s=Wo(o,30),o=a,a=g}this.h[0]=En(this.h[0],a),this.h[1]=En(this.h[1],o),this.h[2]=En(this.h[2],s),this.h[3]=En(this.h[3],l),this.h[4]=En(this.h[4],c)};ir.prototype._digest=function(e){return e==="hex"?Wi.toHex32(this.h,"big"):Wi.split32(this.h,"big")};var Zi=ae,El=pn,mn=lr,Ml=Ci,Ut=Zi.sum32,Il=Zi.sum32_4,Tl=Zi.sum32_5,Rl=mn.ch32,Pl=mn.maj32,Cl=mn.s0_256,Nl=mn.s1_256,Bl=mn.g0_256,Dl=mn.g1_256,od=El.BlockHash,zl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function nr(){if(!(this instanceof nr))return new nr;od.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=zl,this.W=new Array(64)}Zi.inherits(nr,od);var sd=nr;nr.blockSize=512;nr.outSize=256;nr.hmacStrength=192;nr.padLength=64;nr.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=Il(Dl(i[n-2]),i[n-7],Bl(i[n-15]),i[n-16]);var a=this.h[0],o=this.h[1],s=this.h[2],l=this.h[3],c=this.h[4],h=this.h[5],g=this.h[6],E=this.h[7];for(Ml(this.k.length===i.length),n=0;n<i.length;n++){var k=Tl(E,Nl(c),Rl(c,h,g),this.k[n],i[n]),M=Ut(Cl(a),Pl(a,o,s));E=g,g=h,h=c,c=Ut(l,k),l=s,s=o,o=a,a=Ut(k,M)}this.h[0]=Ut(this.h[0],a),this.h[1]=Ut(this.h[1],o),this.h[2]=Ut(this.h[2],s),this.h[3]=Ut(this.h[3],l),this.h[4]=Ut(this.h[4],c),this.h[5]=Ut(this.h[5],h),this.h[6]=Ut(this.h[6],g),this.h[7]=Ut(this.h[7],E)};nr.prototype._digest=function(e){return e==="hex"?Zi.toHex32(this.h,"big"):Zi.split32(this.h,"big")};var xs=ae,fd=sd;function gr(){if(!(this instanceof gr))return new gr;fd.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}xs.inherits(gr,fd);var Ol=gr;gr.blockSize=512;gr.outSize=224;gr.hmacStrength=192;gr.padLength=64;gr.prototype._digest=function(e){return e==="hex"?xs.toHex32(this.h.slice(0,7),"big"):xs.split32(this.h.slice(0,7),"big")};var kt=ae,Ll=pn,ql=Ci,tr=kt.rotr64_hi,rr=kt.rotr64_lo,cd=kt.shr64_hi,dd=kt.shr64_lo,Er=kt.sum64,Zo=kt.sum64_hi,Go=kt.sum64_lo,$l=kt.sum64_4_hi,Ul=kt.sum64_4_lo,Fl=kt.sum64_5_hi,Hl=kt.sum64_5_lo,ld=Ll.BlockHash,Vl=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Kt(){if(!(this instanceof Kt))return new Kt;ld.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Vl,this.W=new Array(160)}kt.inherits(Kt,ld);var hd=Kt;Kt.blockSize=1024;Kt.outSize=512;Kt.hmacStrength=192;Kt.padLength=128;Kt.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var a=th(i[n-4],i[n-3]),o=rh(i[n-4],i[n-3]),s=i[n-14],l=i[n-13],c=Ql(i[n-30],i[n-29]),h=eh(i[n-30],i[n-29]),g=i[n-32],E=i[n-31];i[n]=$l(a,o,s,l,c,h,g,E),i[n+1]=Ul(a,o,s,l,c,h,g,E)}};Kt.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],l=this.h[4],c=this.h[5],h=this.h[6],g=this.h[7],E=this.h[8],k=this.h[9],M=this.h[10],T=this.h[11],R=this.h[12],I=this.h[13],P=this.h[14],B=this.h[15];ql(this.k.length===i.length);for(var N=0;N<i.length;N+=2){var K=P,ee=B,$=Xl(E,k),j=Yl(E,k),F=Kl(E,k,M,T,R),V=jl(E,k,M,T,R,I),w=this.k[N],f=this.k[N+1],u=i[N],m=i[N+1],v=Fl(K,ee,$,j,F,V,w,f,u,m),S=Hl(K,ee,$,j,F,V,w,f,u,m);K=Gl(n,a),ee=Jl(n,a),$=Wl(n,a,o,s,l),j=Zl(n,a,o,s,l,c);var b=Zo(K,ee,$,j),A=Go(K,ee,$,j);P=R,B=I,R=M,I=T,M=E,T=k,E=Zo(h,g,v,S),k=Go(g,g,v,S),h=l,g=c,l=o,c=s,o=n,s=a,n=Zo(v,S,b,A),a=Go(v,S,b,A)}Er(this.h,0,n,a),Er(this.h,2,o,s),Er(this.h,4,l,c),Er(this.h,6,h,g),Er(this.h,8,E,k),Er(this.h,10,M,T),Er(this.h,12,R,I),Er(this.h,14,P,B)};Kt.prototype._digest=function(e){return e==="hex"?kt.toHex32(this.h,"big"):kt.split32(this.h,"big")};function Kl(t,e,r,i,n){var a=t&r^~t&n;return a<0&&(a+=4294967296),a}function jl(t,e,r,i,n,a){var o=e&i^~e&a;return o<0&&(o+=4294967296),o}function Wl(t,e,r,i,n){var a=t&r^t&n^r&n;return a<0&&(a+=4294967296),a}function Zl(t,e,r,i,n,a){var o=e&i^e&a^i&a;return o<0&&(o+=4294967296),o}function Gl(t,e){var r=tr(t,e,28),i=tr(e,t,2),n=tr(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function Jl(t,e){var r=rr(t,e,28),i=rr(e,t,2),n=rr(e,t,7),a=r^i^n;return a<0&&(a+=4294967296),a}function Xl(t,e){var r=tr(t,e,14),i=tr(t,e,18),n=tr(e,t,9),a=r^i^n;return a<0&&(a+=4294967296),a}function Yl(t,e){var r=rr(t,e,14),i=rr(t,e,18),n=rr(e,t,9),a=r^i^n;return a<0&&(a+=4294967296),a}function Ql(t,e){var r=tr(t,e,1),i=tr(t,e,8),n=cd(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function eh(t,e){var r=rr(t,e,1),i=rr(t,e,8),n=dd(t,e,7),a=r^i^n;return a<0&&(a+=4294967296),a}function th(t,e){var r=tr(t,e,19),i=tr(e,t,29),n=cd(t,e,6),a=r^i^n;return a<0&&(a+=4294967296),a}function rh(t,e){var r=rr(t,e,19),i=rr(e,t,29),n=dd(t,e,6),a=r^i^n;return a<0&&(a+=4294967296),a}var Ss=ae,ud=hd;function _r(){if(!(this instanceof _r))return new _r;ud.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ss.inherits(_r,ud);var ih=_r;_r.blockSize=1024;_r.outSize=384;_r.hmacStrength=192;_r.padLength=128;_r.prototype._digest=function(e){return e==="hex"?Ss.toHex32(this.h.slice(0,12),"big"):Ss.split32(this.h.slice(0,12),"big")};bn.sha1=kl;bn.sha224=Ol;bn.sha256=sd;bn.sha384=ih;bn.sha512=hd;var pd={},pi=ae,nh=pn,Ia=pi.rotl32,Tf=pi.sum32,Mn=pi.sum32_3,Rf=pi.sum32_4,bd=nh.BlockHash;function ar(){if(!(this instanceof ar))return new ar;bd.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}pi.inherits(ar,bd);pd.ripemd160=ar;ar.blockSize=512;ar.outSize=160;ar.hmacStrength=192;ar.padLength=64;ar.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],a=this.h[2],o=this.h[3],s=this.h[4],l=i,c=n,h=a,g=o,E=s,k=0;k<80;k++){var M=Tf(Ia(Rf(i,Pf(k,n,a,o),e[sh[k]+r],ah(k)),ch[k]),s);i=s,s=o,o=Ia(a,10),a=n,n=M,M=Tf(Ia(Rf(l,Pf(79-k,c,h,g),e[fh[k]+r],oh(k)),dh[k]),E),l=E,E=g,g=Ia(h,10),h=c,c=M}M=Mn(this.h[1],a,g),this.h[1]=Mn(this.h[2],o,E),this.h[2]=Mn(this.h[3],s,l),this.h[3]=Mn(this.h[4],i,c),this.h[4]=Mn(this.h[0],n,h),this.h[0]=M};ar.prototype._digest=function(e){return e==="hex"?pi.toHex32(this.h,"little"):pi.split32(this.h,"little")};function Pf(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function ah(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function oh(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var sh=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],fh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ch=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],dh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],lh=ae,hh=Ci;function Gi(t,e,r){if(!(this instanceof Gi))return new Gi(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(lh.toArray(e,r))}var uh=Gi;Gi.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),hh(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Gi.prototype.update=function(e,r){return this.inner.update(e,r),this};Gi.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=ae,e.common=pn,e.sha=bn,e.ripemd=pd,e.hmac=uh,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Qt);var jt={exports:{}};(function(t){(function(e,r){function i(w,f){if(!w)throw new Error(f||"Assertion failed")}function n(w,f){w.super_=f;var u=function(){};u.prototype=f.prototype,w.prototype=new u,w.prototype.constructor=w}function a(w,f,u){if(a.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((f==="le"||f==="be")&&(u=f,f=10),this._init(w||0,f||10,u||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Xc.Buffer}catch{}a.isBN=function(f){return f instanceof a?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===a.wordSize&&Array.isArray(f.words)},a.max=function(f,u){return f.cmp(u)>0?f:u},a.min=function(f,u){return f.cmp(u)<0?f:u},a.prototype._init=function(f,u,m){if(typeof f=="number")return this._initNumber(f,u,m);if(typeof f=="object")return this._initArray(f,u,m);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),f=f.toString().replace(/\s+/g,"");var v=0;f[0]==="-"&&(v++,this.negative=1),v<f.length&&(u===16?this._parseHex(f,v,m):(this._parseBase(f,u,v),m==="le"&&this._initArray(this.toArray(),u,m)))},a.prototype._initNumber=function(f,u,m){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(i(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),u,m)},a.prototype._initArray=function(f,u,m){if(i(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S,b,A=0;if(m==="be")for(v=f.length-1,S=0;v>=0;v-=3)b=f[v]|f[v-1]<<8|f[v-2]<<16,this.words[S]|=b<<A&67108863,this.words[S+1]=b>>>26-A&67108863,A+=24,A>=26&&(A-=26,S++);else if(m==="le")for(v=0,S=0;v<f.length;v+=3)b=f[v]|f[v+1]<<8|f[v+2]<<16,this.words[S]|=b<<A&67108863,this.words[S+1]=b>>>26-A&67108863,A+=24,A>=26&&(A-=26,S++);return this.strip()};function s(w,f){var u=w.charCodeAt(f);return u>=65&&u<=70?u-55:u>=97&&u<=102?u-87:u-48&15}function l(w,f,u){var m=s(w,u);return u-1>=f&&(m|=s(w,u-1)<<4),m}a.prototype._parseHex=function(f,u,m){this.length=Math.ceil((f.length-u)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var S=0,b=0,A;if(m==="be")for(v=f.length-1;v>=u;v-=2)A=l(f,u,v)<<S,this.words[b]|=A&67108863,S>=18?(S-=18,b+=1,this.words[b]|=A>>>26):S+=8;else{var y=f.length-u;for(v=y%2===0?u+1:u;v<f.length;v+=2)A=l(f,u,v)<<S,this.words[b]|=A&67108863,S>=18?(S-=18,b+=1,this.words[b]|=A>>>26):S+=8}this.strip()};function c(w,f,u,m){for(var v=0,S=Math.min(w.length,u),b=f;b<S;b++){var A=w.charCodeAt(b)-48;v*=m,A>=49?v+=A-49+10:A>=17?v+=A-17+10:v+=A}return v}a.prototype._parseBase=function(f,u,m){this.words=[0],this.length=1;for(var v=0,S=1;S<=67108863;S*=u)v++;v--,S=S/u|0;for(var b=f.length-m,A=b%v,y=Math.min(b,b-A)+m,d=0,x=m;x<y;x+=v)d=c(f,x,x+v,u),this.imuln(S),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(A!==0){var L=1;for(d=c(f,x,f.length,u),x=0;x<A;x++)L*=u;this.imuln(L),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},a.prototype.copy=function(f){f.words=new Array(this.length);for(var u=0;u<this.length;u++)f.words[u]=this.words[u];f.length=this.length,f.negative=this.negative,f.red=this.red},a.prototype.clone=function(){var f=new a(null);return this.copy(f),f},a.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(f,u){f=f||10,u=u|0||1;var m;if(f===16||f==="hex"){m="";for(var v=0,S=0,b=0;b<this.length;b++){var A=this.words[b],y=((A<<v|S)&16777215).toString(16);S=A>>>24-v&16777215,S!==0||b!==this.length-1?m=h[6-y.length]+y+m:m=y+m,v+=2,v>=26&&(v-=26,b--)}for(S!==0&&(m=S.toString(16)+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(f===(f|0)&&f>=2&&f<=36){var d=g[f],x=E[f];m="";var L=this.clone();for(L.negative=0;!L.isZero();){var W=L.modn(x).toString(f);L=L.idivn(x),L.isZero()?m=W+m:m=h[d-W.length]+W+m}for(this.isZero()&&(m="0"+m);m.length%u!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(f,u){return i(typeof o<"u"),this.toArrayLike(o,f,u)},a.prototype.toArray=function(f,u){return this.toArrayLike(Array,f,u)},a.prototype.toArrayLike=function(f,u,m){var v=this.byteLength(),S=m||Math.max(1,v);i(v<=S,"byte array longer than desired length"),i(S>0,"Requested array length <= 0"),this.strip();var b=u==="le",A=new f(S),y,d,x=this.clone();if(b){for(d=0;!x.isZero();d++)y=x.andln(255),x.iushrn(8),A[d]=y;for(;d<S;d++)A[d]=0}else{for(d=0;d<S-v;d++)A[d]=0;for(d=0;!x.isZero();d++)y=x.andln(255),x.iushrn(8),A[S-d-1]=y}return A},Math.clz32?a.prototype._countBits=function(f){return 32-Math.clz32(f)}:a.prototype._countBits=function(f){var u=f,m=0;return u>=4096&&(m+=13,u>>>=13),u>=64&&(m+=7,u>>>=7),u>=8&&(m+=4,u>>>=4),u>=2&&(m+=2,u>>>=2),m+u},a.prototype._zeroBits=function(f){if(f===0)return 26;var u=f,m=0;return(u&8191)===0&&(m+=13,u>>>=13),(u&127)===0&&(m+=7,u>>>=7),(u&15)===0&&(m+=4,u>>>=4),(u&3)===0&&(m+=2,u>>>=2),(u&1)===0&&m++,m},a.prototype.bitLength=function(){var f=this.words[this.length-1],u=this._countBits(f);return(this.length-1)*26+u};function k(w){for(var f=new Array(w.bitLength()),u=0;u<f.length;u++){var m=u/26|0,v=u%26;f[u]=(w.words[m]&1<<v)>>>v}return f}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,u=0;u<this.length;u++){var m=this._zeroBits(this.words[u]);if(f+=m,m!==26)break}return f},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},a.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var u=0;u<f.length;u++)this.words[u]=this.words[u]|f.words[u];return this.strip()},a.prototype.ior=function(f){return i((this.negative|f.negative)===0),this.iuor(f)},a.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},a.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},a.prototype.iuand=function(f){var u;this.length>f.length?u=f:u=this;for(var m=0;m<u.length;m++)this.words[m]=this.words[m]&f.words[m];return this.length=u.length,this.strip()},a.prototype.iand=function(f){return i((this.negative|f.negative)===0),this.iuand(f)},a.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},a.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},a.prototype.iuxor=function(f){var u,m;this.length>f.length?(u=this,m=f):(u=f,m=this);for(var v=0;v<m.length;v++)this.words[v]=u.words[v]^m.words[v];if(this!==u)for(;v<u.length;v++)this.words[v]=u.words[v];return this.length=u.length,this.strip()},a.prototype.ixor=function(f){return i((this.negative|f.negative)===0),this.iuxor(f)},a.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},a.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},a.prototype.inotn=function(f){i(typeof f=="number"&&f>=0);var u=Math.ceil(f/26)|0,m=f%26;this._expand(u),m>0&&u--;for(var v=0;v<u;v++)this.words[v]=~this.words[v]&67108863;return m>0&&(this.words[v]=~this.words[v]&67108863>>26-m),this.strip()},a.prototype.notn=function(f){return this.clone().inotn(f)},a.prototype.setn=function(f,u){i(typeof f=="number"&&f>=0);var m=f/26|0,v=f%26;return this._expand(m+1),u?this.words[m]=this.words[m]|1<<v:this.words[m]=this.words[m]&~(1<<v),this.strip()},a.prototype.iadd=function(f){var u;if(this.negative!==0&&f.negative===0)return this.negative=0,u=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,u=this.isub(f),f.negative=1,u._normSign();var m,v;this.length>f.length?(m=this,v=f):(m=f,v=this);for(var S=0,b=0;b<v.length;b++)u=(m.words[b]|0)+(v.words[b]|0)+S,this.words[b]=u&67108863,S=u>>>26;for(;S!==0&&b<m.length;b++)u=(m.words[b]|0)+S,this.words[b]=u&67108863,S=u>>>26;if(this.length=m.length,S!==0)this.words[this.length]=S,this.length++;else if(m!==this)for(;b<m.length;b++)this.words[b]=m.words[b];return this},a.prototype.add=function(f){var u;return f.negative!==0&&this.negative===0?(f.negative=0,u=this.sub(f),f.negative^=1,u):f.negative===0&&this.negative!==0?(this.negative=0,u=f.sub(this),this.negative=1,u):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},a.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var u=this.iadd(f);return f.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var m=this.cmp(f);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,S;m>0?(v=this,S=f):(v=f,S=this);for(var b=0,A=0;A<S.length;A++)u=(v.words[A]|0)-(S.words[A]|0)+b,b=u>>26,this.words[A]=u&67108863;for(;b!==0&&A<v.length;A++)u=(v.words[A]|0)+b,b=u>>26,this.words[A]=u&67108863;if(b===0&&A<v.length&&v!==this)for(;A<v.length;A++)this.words[A]=v.words[A];return this.length=Math.max(this.length,A),v!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(f){return this.clone().isub(f)};function M(w,f,u){u.negative=f.negative^w.negative;var m=w.length+f.length|0;u.length=m,m=m-1|0;var v=w.words[0]|0,S=f.words[0]|0,b=v*S,A=b&67108863,y=b/67108864|0;u.words[0]=A;for(var d=1;d<m;d++){for(var x=y>>>26,L=y&67108863,W=Math.min(d,f.length-1),Z=Math.max(0,d-w.length+1);Z<=W;Z++){var G=d-Z|0;v=w.words[G]|0,S=f.words[Z]|0,b=v*S+L,x+=b/67108864|0,L=b&67108863}u.words[d]=L|0,y=x|0}return y!==0?u.words[d]=y|0:u.length--,u.strip()}var T=function(f,u,m){var v=f.words,S=u.words,b=m.words,A=0,y,d,x,L=v[0]|0,W=L&8191,Z=L>>>13,G=v[1]|0,ne=G&8191,le=G>>>13,J=v[2]|0,z=J&8191,me=J>>>13,kr=v[3]|0,ge=kr&8191,Le=kr>>>13,Aa=v[4]|0,Me=Aa&8191,Ie=Aa>>>13,ka=v[5]|0,Te=ka&8191,Re=ka>>>13,Ea=v[6]|0,Pe=Ea&8191,Ce=Ea>>>13,Ma=v[7]|0,Ne=Ma&8191,Be=Ma>>>13,D=v[8]|0,C=D&8191,U=D>>>13,Y=v[9]|0,te=Y&8191,re=Y>>>13,qe=S[0]|0,ie=qe&8191,he=qe>>>13,Pt=S[1]|0,ue=Pt&8191,ve=Pt>>>13,ur=S[2]|0,_e=ur&8191,Ae=ur>>>13,_t=S[3]|0,Ue=_t&8191,Fe=_t>>>13,_f=S[4]|0,He=_f&8191,Ve=_f>>>13,wf=S[5]|0,Ke=wf&8191,je=wf>>>13,xf=S[6]|0,We=xf&8191,Ze=xf>>>13,Sf=S[7]|0,Ge=Sf&8191,Je=Sf>>>13,Af=S[8]|0,Xe=Af&8191,Ye=Af>>>13,kf=S[9]|0,Qe=kf&8191,et=kf>>>13;m.negative=f.negative^u.negative,m.length=19,y=Math.imul(W,ie),d=Math.imul(W,he),d=d+Math.imul(Z,ie)|0,x=Math.imul(Z,he);var Mo=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Mo>>>26)|0,Mo&=67108863,y=Math.imul(ne,ie),d=Math.imul(ne,he),d=d+Math.imul(le,ie)|0,x=Math.imul(le,he),y=y+Math.imul(W,ue)|0,d=d+Math.imul(W,ve)|0,d=d+Math.imul(Z,ue)|0,x=x+Math.imul(Z,ve)|0;var Io=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Io>>>26)|0,Io&=67108863,y=Math.imul(z,ie),d=Math.imul(z,he),d=d+Math.imul(me,ie)|0,x=Math.imul(me,he),y=y+Math.imul(ne,ue)|0,d=d+Math.imul(ne,ve)|0,d=d+Math.imul(le,ue)|0,x=x+Math.imul(le,ve)|0,y=y+Math.imul(W,_e)|0,d=d+Math.imul(W,Ae)|0,d=d+Math.imul(Z,_e)|0,x=x+Math.imul(Z,Ae)|0;var To=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(To>>>26)|0,To&=67108863,y=Math.imul(ge,ie),d=Math.imul(ge,he),d=d+Math.imul(Le,ie)|0,x=Math.imul(Le,he),y=y+Math.imul(z,ue)|0,d=d+Math.imul(z,ve)|0,d=d+Math.imul(me,ue)|0,x=x+Math.imul(me,ve)|0,y=y+Math.imul(ne,_e)|0,d=d+Math.imul(ne,Ae)|0,d=d+Math.imul(le,_e)|0,x=x+Math.imul(le,Ae)|0,y=y+Math.imul(W,Ue)|0,d=d+Math.imul(W,Fe)|0,d=d+Math.imul(Z,Ue)|0,x=x+Math.imul(Z,Fe)|0;var Ro=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Ro>>>26)|0,Ro&=67108863,y=Math.imul(Me,ie),d=Math.imul(Me,he),d=d+Math.imul(Ie,ie)|0,x=Math.imul(Ie,he),y=y+Math.imul(ge,ue)|0,d=d+Math.imul(ge,ve)|0,d=d+Math.imul(Le,ue)|0,x=x+Math.imul(Le,ve)|0,y=y+Math.imul(z,_e)|0,d=d+Math.imul(z,Ae)|0,d=d+Math.imul(me,_e)|0,x=x+Math.imul(me,Ae)|0,y=y+Math.imul(ne,Ue)|0,d=d+Math.imul(ne,Fe)|0,d=d+Math.imul(le,Ue)|0,x=x+Math.imul(le,Fe)|0,y=y+Math.imul(W,He)|0,d=d+Math.imul(W,Ve)|0,d=d+Math.imul(Z,He)|0,x=x+Math.imul(Z,Ve)|0;var Po=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Po>>>26)|0,Po&=67108863,y=Math.imul(Te,ie),d=Math.imul(Te,he),d=d+Math.imul(Re,ie)|0,x=Math.imul(Re,he),y=y+Math.imul(Me,ue)|0,d=d+Math.imul(Me,ve)|0,d=d+Math.imul(Ie,ue)|0,x=x+Math.imul(Ie,ve)|0,y=y+Math.imul(ge,_e)|0,d=d+Math.imul(ge,Ae)|0,d=d+Math.imul(Le,_e)|0,x=x+Math.imul(Le,Ae)|0,y=y+Math.imul(z,Ue)|0,d=d+Math.imul(z,Fe)|0,d=d+Math.imul(me,Ue)|0,x=x+Math.imul(me,Fe)|0,y=y+Math.imul(ne,He)|0,d=d+Math.imul(ne,Ve)|0,d=d+Math.imul(le,He)|0,x=x+Math.imul(le,Ve)|0,y=y+Math.imul(W,Ke)|0,d=d+Math.imul(W,je)|0,d=d+Math.imul(Z,Ke)|0,x=x+Math.imul(Z,je)|0;var Co=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Co>>>26)|0,Co&=67108863,y=Math.imul(Pe,ie),d=Math.imul(Pe,he),d=d+Math.imul(Ce,ie)|0,x=Math.imul(Ce,he),y=y+Math.imul(Te,ue)|0,d=d+Math.imul(Te,ve)|0,d=d+Math.imul(Re,ue)|0,x=x+Math.imul(Re,ve)|0,y=y+Math.imul(Me,_e)|0,d=d+Math.imul(Me,Ae)|0,d=d+Math.imul(Ie,_e)|0,x=x+Math.imul(Ie,Ae)|0,y=y+Math.imul(ge,Ue)|0,d=d+Math.imul(ge,Fe)|0,d=d+Math.imul(Le,Ue)|0,x=x+Math.imul(Le,Fe)|0,y=y+Math.imul(z,He)|0,d=d+Math.imul(z,Ve)|0,d=d+Math.imul(me,He)|0,x=x+Math.imul(me,Ve)|0,y=y+Math.imul(ne,Ke)|0,d=d+Math.imul(ne,je)|0,d=d+Math.imul(le,Ke)|0,x=x+Math.imul(le,je)|0,y=y+Math.imul(W,We)|0,d=d+Math.imul(W,Ze)|0,d=d+Math.imul(Z,We)|0,x=x+Math.imul(Z,Ze)|0;var No=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(No>>>26)|0,No&=67108863,y=Math.imul(Ne,ie),d=Math.imul(Ne,he),d=d+Math.imul(Be,ie)|0,x=Math.imul(Be,he),y=y+Math.imul(Pe,ue)|0,d=d+Math.imul(Pe,ve)|0,d=d+Math.imul(Ce,ue)|0,x=x+Math.imul(Ce,ve)|0,y=y+Math.imul(Te,_e)|0,d=d+Math.imul(Te,Ae)|0,d=d+Math.imul(Re,_e)|0,x=x+Math.imul(Re,Ae)|0,y=y+Math.imul(Me,Ue)|0,d=d+Math.imul(Me,Fe)|0,d=d+Math.imul(Ie,Ue)|0,x=x+Math.imul(Ie,Fe)|0,y=y+Math.imul(ge,He)|0,d=d+Math.imul(ge,Ve)|0,d=d+Math.imul(Le,He)|0,x=x+Math.imul(Le,Ve)|0,y=y+Math.imul(z,Ke)|0,d=d+Math.imul(z,je)|0,d=d+Math.imul(me,Ke)|0,x=x+Math.imul(me,je)|0,y=y+Math.imul(ne,We)|0,d=d+Math.imul(ne,Ze)|0,d=d+Math.imul(le,We)|0,x=x+Math.imul(le,Ze)|0,y=y+Math.imul(W,Ge)|0,d=d+Math.imul(W,Je)|0,d=d+Math.imul(Z,Ge)|0,x=x+Math.imul(Z,Je)|0;var Bo=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Bo>>>26)|0,Bo&=67108863,y=Math.imul(C,ie),d=Math.imul(C,he),d=d+Math.imul(U,ie)|0,x=Math.imul(U,he),y=y+Math.imul(Ne,ue)|0,d=d+Math.imul(Ne,ve)|0,d=d+Math.imul(Be,ue)|0,x=x+Math.imul(Be,ve)|0,y=y+Math.imul(Pe,_e)|0,d=d+Math.imul(Pe,Ae)|0,d=d+Math.imul(Ce,_e)|0,x=x+Math.imul(Ce,Ae)|0,y=y+Math.imul(Te,Ue)|0,d=d+Math.imul(Te,Fe)|0,d=d+Math.imul(Re,Ue)|0,x=x+Math.imul(Re,Fe)|0,y=y+Math.imul(Me,He)|0,d=d+Math.imul(Me,Ve)|0,d=d+Math.imul(Ie,He)|0,x=x+Math.imul(Ie,Ve)|0,y=y+Math.imul(ge,Ke)|0,d=d+Math.imul(ge,je)|0,d=d+Math.imul(Le,Ke)|0,x=x+Math.imul(Le,je)|0,y=y+Math.imul(z,We)|0,d=d+Math.imul(z,Ze)|0,d=d+Math.imul(me,We)|0,x=x+Math.imul(me,Ze)|0,y=y+Math.imul(ne,Ge)|0,d=d+Math.imul(ne,Je)|0,d=d+Math.imul(le,Ge)|0,x=x+Math.imul(le,Je)|0,y=y+Math.imul(W,Xe)|0,d=d+Math.imul(W,Ye)|0,d=d+Math.imul(Z,Xe)|0,x=x+Math.imul(Z,Ye)|0;var Do=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Do>>>26)|0,Do&=67108863,y=Math.imul(te,ie),d=Math.imul(te,he),d=d+Math.imul(re,ie)|0,x=Math.imul(re,he),y=y+Math.imul(C,ue)|0,d=d+Math.imul(C,ve)|0,d=d+Math.imul(U,ue)|0,x=x+Math.imul(U,ve)|0,y=y+Math.imul(Ne,_e)|0,d=d+Math.imul(Ne,Ae)|0,d=d+Math.imul(Be,_e)|0,x=x+Math.imul(Be,Ae)|0,y=y+Math.imul(Pe,Ue)|0,d=d+Math.imul(Pe,Fe)|0,d=d+Math.imul(Ce,Ue)|0,x=x+Math.imul(Ce,Fe)|0,y=y+Math.imul(Te,He)|0,d=d+Math.imul(Te,Ve)|0,d=d+Math.imul(Re,He)|0,x=x+Math.imul(Re,Ve)|0,y=y+Math.imul(Me,Ke)|0,d=d+Math.imul(Me,je)|0,d=d+Math.imul(Ie,Ke)|0,x=x+Math.imul(Ie,je)|0,y=y+Math.imul(ge,We)|0,d=d+Math.imul(ge,Ze)|0,d=d+Math.imul(Le,We)|0,x=x+Math.imul(Le,Ze)|0,y=y+Math.imul(z,Ge)|0,d=d+Math.imul(z,Je)|0,d=d+Math.imul(me,Ge)|0,x=x+Math.imul(me,Je)|0,y=y+Math.imul(ne,Xe)|0,d=d+Math.imul(ne,Ye)|0,d=d+Math.imul(le,Xe)|0,x=x+Math.imul(le,Ye)|0,y=y+Math.imul(W,Qe)|0,d=d+Math.imul(W,et)|0,d=d+Math.imul(Z,Qe)|0,x=x+Math.imul(Z,et)|0;var zo=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(zo>>>26)|0,zo&=67108863,y=Math.imul(te,ue),d=Math.imul(te,ve),d=d+Math.imul(re,ue)|0,x=Math.imul(re,ve),y=y+Math.imul(C,_e)|0,d=d+Math.imul(C,Ae)|0,d=d+Math.imul(U,_e)|0,x=x+Math.imul(U,Ae)|0,y=y+Math.imul(Ne,Ue)|0,d=d+Math.imul(Ne,Fe)|0,d=d+Math.imul(Be,Ue)|0,x=x+Math.imul(Be,Fe)|0,y=y+Math.imul(Pe,He)|0,d=d+Math.imul(Pe,Ve)|0,d=d+Math.imul(Ce,He)|0,x=x+Math.imul(Ce,Ve)|0,y=y+Math.imul(Te,Ke)|0,d=d+Math.imul(Te,je)|0,d=d+Math.imul(Re,Ke)|0,x=x+Math.imul(Re,je)|0,y=y+Math.imul(Me,We)|0,d=d+Math.imul(Me,Ze)|0,d=d+Math.imul(Ie,We)|0,x=x+Math.imul(Ie,Ze)|0,y=y+Math.imul(ge,Ge)|0,d=d+Math.imul(ge,Je)|0,d=d+Math.imul(Le,Ge)|0,x=x+Math.imul(Le,Je)|0,y=y+Math.imul(z,Xe)|0,d=d+Math.imul(z,Ye)|0,d=d+Math.imul(me,Xe)|0,x=x+Math.imul(me,Ye)|0,y=y+Math.imul(ne,Qe)|0,d=d+Math.imul(ne,et)|0,d=d+Math.imul(le,Qe)|0,x=x+Math.imul(le,et)|0;var Oo=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,y=Math.imul(te,_e),d=Math.imul(te,Ae),d=d+Math.imul(re,_e)|0,x=Math.imul(re,Ae),y=y+Math.imul(C,Ue)|0,d=d+Math.imul(C,Fe)|0,d=d+Math.imul(U,Ue)|0,x=x+Math.imul(U,Fe)|0,y=y+Math.imul(Ne,He)|0,d=d+Math.imul(Ne,Ve)|0,d=d+Math.imul(Be,He)|0,x=x+Math.imul(Be,Ve)|0,y=y+Math.imul(Pe,Ke)|0,d=d+Math.imul(Pe,je)|0,d=d+Math.imul(Ce,Ke)|0,x=x+Math.imul(Ce,je)|0,y=y+Math.imul(Te,We)|0,d=d+Math.imul(Te,Ze)|0,d=d+Math.imul(Re,We)|0,x=x+Math.imul(Re,Ze)|0,y=y+Math.imul(Me,Ge)|0,d=d+Math.imul(Me,Je)|0,d=d+Math.imul(Ie,Ge)|0,x=x+Math.imul(Ie,Je)|0,y=y+Math.imul(ge,Xe)|0,d=d+Math.imul(ge,Ye)|0,d=d+Math.imul(Le,Xe)|0,x=x+Math.imul(Le,Ye)|0,y=y+Math.imul(z,Qe)|0,d=d+Math.imul(z,et)|0,d=d+Math.imul(me,Qe)|0,x=x+Math.imul(me,et)|0;var Lo=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Lo>>>26)|0,Lo&=67108863,y=Math.imul(te,Ue),d=Math.imul(te,Fe),d=d+Math.imul(re,Ue)|0,x=Math.imul(re,Fe),y=y+Math.imul(C,He)|0,d=d+Math.imul(C,Ve)|0,d=d+Math.imul(U,He)|0,x=x+Math.imul(U,Ve)|0,y=y+Math.imul(Ne,Ke)|0,d=d+Math.imul(Ne,je)|0,d=d+Math.imul(Be,Ke)|0,x=x+Math.imul(Be,je)|0,y=y+Math.imul(Pe,We)|0,d=d+Math.imul(Pe,Ze)|0,d=d+Math.imul(Ce,We)|0,x=x+Math.imul(Ce,Ze)|0,y=y+Math.imul(Te,Ge)|0,d=d+Math.imul(Te,Je)|0,d=d+Math.imul(Re,Ge)|0,x=x+Math.imul(Re,Je)|0,y=y+Math.imul(Me,Xe)|0,d=d+Math.imul(Me,Ye)|0,d=d+Math.imul(Ie,Xe)|0,x=x+Math.imul(Ie,Ye)|0,y=y+Math.imul(ge,Qe)|0,d=d+Math.imul(ge,et)|0,d=d+Math.imul(Le,Qe)|0,x=x+Math.imul(Le,et)|0;var qo=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(qo>>>26)|0,qo&=67108863,y=Math.imul(te,He),d=Math.imul(te,Ve),d=d+Math.imul(re,He)|0,x=Math.imul(re,Ve),y=y+Math.imul(C,Ke)|0,d=d+Math.imul(C,je)|0,d=d+Math.imul(U,Ke)|0,x=x+Math.imul(U,je)|0,y=y+Math.imul(Ne,We)|0,d=d+Math.imul(Ne,Ze)|0,d=d+Math.imul(Be,We)|0,x=x+Math.imul(Be,Ze)|0,y=y+Math.imul(Pe,Ge)|0,d=d+Math.imul(Pe,Je)|0,d=d+Math.imul(Ce,Ge)|0,x=x+Math.imul(Ce,Je)|0,y=y+Math.imul(Te,Xe)|0,d=d+Math.imul(Te,Ye)|0,d=d+Math.imul(Re,Xe)|0,x=x+Math.imul(Re,Ye)|0,y=y+Math.imul(Me,Qe)|0,d=d+Math.imul(Me,et)|0,d=d+Math.imul(Ie,Qe)|0,x=x+Math.imul(Ie,et)|0;var $o=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+($o>>>26)|0,$o&=67108863,y=Math.imul(te,Ke),d=Math.imul(te,je),d=d+Math.imul(re,Ke)|0,x=Math.imul(re,je),y=y+Math.imul(C,We)|0,d=d+Math.imul(C,Ze)|0,d=d+Math.imul(U,We)|0,x=x+Math.imul(U,Ze)|0,y=y+Math.imul(Ne,Ge)|0,d=d+Math.imul(Ne,Je)|0,d=d+Math.imul(Be,Ge)|0,x=x+Math.imul(Be,Je)|0,y=y+Math.imul(Pe,Xe)|0,d=d+Math.imul(Pe,Ye)|0,d=d+Math.imul(Ce,Xe)|0,x=x+Math.imul(Ce,Ye)|0,y=y+Math.imul(Te,Qe)|0,d=d+Math.imul(Te,et)|0,d=d+Math.imul(Re,Qe)|0,x=x+Math.imul(Re,et)|0;var Uo=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Uo>>>26)|0,Uo&=67108863,y=Math.imul(te,We),d=Math.imul(te,Ze),d=d+Math.imul(re,We)|0,x=Math.imul(re,Ze),y=y+Math.imul(C,Ge)|0,d=d+Math.imul(C,Je)|0,d=d+Math.imul(U,Ge)|0,x=x+Math.imul(U,Je)|0,y=y+Math.imul(Ne,Xe)|0,d=d+Math.imul(Ne,Ye)|0,d=d+Math.imul(Be,Xe)|0,x=x+Math.imul(Be,Ye)|0,y=y+Math.imul(Pe,Qe)|0,d=d+Math.imul(Pe,et)|0,d=d+Math.imul(Ce,Qe)|0,x=x+Math.imul(Ce,et)|0;var Fo=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,y=Math.imul(te,Ge),d=Math.imul(te,Je),d=d+Math.imul(re,Ge)|0,x=Math.imul(re,Je),y=y+Math.imul(C,Xe)|0,d=d+Math.imul(C,Ye)|0,d=d+Math.imul(U,Xe)|0,x=x+Math.imul(U,Ye)|0,y=y+Math.imul(Ne,Qe)|0,d=d+Math.imul(Ne,et)|0,d=d+Math.imul(Be,Qe)|0,x=x+Math.imul(Be,et)|0;var Ho=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Ho>>>26)|0,Ho&=67108863,y=Math.imul(te,Xe),d=Math.imul(te,Ye),d=d+Math.imul(re,Xe)|0,x=Math.imul(re,Ye),y=y+Math.imul(C,Qe)|0,d=d+Math.imul(C,et)|0,d=d+Math.imul(U,Qe)|0,x=x+Math.imul(U,et)|0;var Vo=(A+y|0)+((d&8191)<<13)|0;A=(x+(d>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,y=Math.imul(te,Qe),d=Math.imul(te,et),d=d+Math.imul(re,Qe)|0,x=Math.imul(re,et);var Ko=(A+y|0)+((d&8191)<<13)|0;return A=(x+(d>>>13)|0)+(Ko>>>26)|0,Ko&=67108863,b[0]=Mo,b[1]=Io,b[2]=To,b[3]=Ro,b[4]=Po,b[5]=Co,b[6]=No,b[7]=Bo,b[8]=Do,b[9]=zo,b[10]=Oo,b[11]=Lo,b[12]=qo,b[13]=$o,b[14]=Uo,b[15]=Fo,b[16]=Ho,b[17]=Vo,b[18]=Ko,A!==0&&(b[19]=A,m.length++),m};Math.imul||(T=M);function R(w,f,u){u.negative=f.negative^w.negative,u.length=w.length+f.length;for(var m=0,v=0,S=0;S<u.length-1;S++){var b=v;v=0;for(var A=m&67108863,y=Math.min(S,f.length-1),d=Math.max(0,S-w.length+1);d<=y;d++){var x=S-d,L=w.words[x]|0,W=f.words[d]|0,Z=L*W,G=Z&67108863;b=b+(Z/67108864|0)|0,G=G+A|0,A=G&67108863,b=b+(G>>>26)|0,v+=b>>>26,b&=67108863}u.words[S]=A,m=b,b=v}return m!==0?u.words[S]=m:u.length--,u.strip()}function I(w,f,u){var m=new P;return m.mulp(w,f,u)}a.prototype.mulTo=function(f,u){var m,v=this.length+f.length;return this.length===10&&f.length===10?m=T(this,f,u):v<63?m=M(this,f,u):v<1024?m=R(this,f,u):m=I(this,f,u),m};function P(w,f){this.x=w,this.y=f}P.prototype.makeRBT=function(f){for(var u=new Array(f),m=a.prototype._countBits(f)-1,v=0;v<f;v++)u[v]=this.revBin(v,m,f);return u},P.prototype.revBin=function(f,u,m){if(f===0||f===m-1)return f;for(var v=0,S=0;S<u;S++)v|=(f&1)<<u-S-1,f>>=1;return v},P.prototype.permute=function(f,u,m,v,S,b){for(var A=0;A<b;A++)v[A]=u[f[A]],S[A]=m[f[A]]},P.prototype.transform=function(f,u,m,v,S,b){this.permute(b,f,u,m,v,S);for(var A=1;A<S;A<<=1)for(var y=A<<1,d=Math.cos(2*Math.PI/y),x=Math.sin(2*Math.PI/y),L=0;L<S;L+=y)for(var W=d,Z=x,G=0;G<A;G++){var ne=m[L+G],le=v[L+G],J=m[L+G+A],z=v[L+G+A],me=W*J-Z*z;z=W*z+Z*J,J=me,m[L+G]=ne+J,v[L+G]=le+z,m[L+G+A]=ne-J,v[L+G+A]=le-z,G!==y&&(me=d*W-x*Z,Z=d*Z+x*W,W=me)}},P.prototype.guessLen13b=function(f,u){var m=Math.max(u,f)|1,v=m&1,S=0;for(m=m/2|0;m;m=m>>>1)S++;return 1<<S+1+v},P.prototype.conjugate=function(f,u,m){if(!(m<=1))for(var v=0;v<m/2;v++){var S=f[v];f[v]=f[m-v-1],f[m-v-1]=S,S=u[v],u[v]=-u[m-v-1],u[m-v-1]=-S}},P.prototype.normalize13b=function(f,u){for(var m=0,v=0;v<u/2;v++){var S=Math.round(f[2*v+1]/u)*8192+Math.round(f[2*v]/u)+m;f[v]=S&67108863,S<67108864?m=0:m=S/67108864|0}return f},P.prototype.convert13b=function(f,u,m,v){for(var S=0,b=0;b<u;b++)S=S+(f[b]|0),m[2*b]=S&8191,S=S>>>13,m[2*b+1]=S&8191,S=S>>>13;for(b=2*u;b<v;++b)m[b]=0;i(S===0),i((S&-8192)===0)},P.prototype.stub=function(f){for(var u=new Array(f),m=0;m<f;m++)u[m]=0;return u},P.prototype.mulp=function(f,u,m){var v=2*this.guessLen13b(f.length,u.length),S=this.makeRBT(v),b=this.stub(v),A=new Array(v),y=new Array(v),d=new Array(v),x=new Array(v),L=new Array(v),W=new Array(v),Z=m.words;Z.length=v,this.convert13b(f.words,f.length,A,v),this.convert13b(u.words,u.length,x,v),this.transform(A,b,y,d,v,S),this.transform(x,b,L,W,v,S);for(var G=0;G<v;G++){var ne=y[G]*L[G]-d[G]*W[G];d[G]=y[G]*W[G]+d[G]*L[G],y[G]=ne}return this.conjugate(y,d,v),this.transform(y,d,Z,b,v,S),this.conjugate(Z,b,v),this.normalize13b(Z,v),m.negative=f.negative^u.negative,m.length=f.length+u.length,m.strip()},a.prototype.mul=function(f){var u=new a(null);return u.words=new Array(this.length+f.length),this.mulTo(f,u)},a.prototype.mulf=function(f){var u=new a(null);return u.words=new Array(this.length+f.length),I(this,f,u)},a.prototype.imul=function(f){return this.clone().mulTo(f,this)},a.prototype.imuln=function(f){i(typeof f=="number"),i(f<67108864);for(var u=0,m=0;m<this.length;m++){var v=(this.words[m]|0)*f,S=(v&67108863)+(u&67108863);u>>=26,u+=v/67108864|0,u+=S>>>26,this.words[m]=S&67108863}return u!==0&&(this.words[m]=u,this.length++),this},a.prototype.muln=function(f){return this.clone().imuln(f)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(f){var u=k(f);if(u.length===0)return new a(1);for(var m=this,v=0;v<u.length&&u[v]===0;v++,m=m.sqr());if(++v<u.length)for(var S=m.sqr();v<u.length;v++,S=S.sqr())u[v]!==0&&(m=m.mul(S));return m},a.prototype.iushln=function(f){i(typeof f=="number"&&f>=0);var u=f%26,m=(f-u)/26,v=67108863>>>26-u<<26-u,S;if(u!==0){var b=0;for(S=0;S<this.length;S++){var A=this.words[S]&v,y=(this.words[S]|0)-A<<u;this.words[S]=y|b,b=A>>>26-u}b&&(this.words[S]=b,this.length++)}if(m!==0){for(S=this.length-1;S>=0;S--)this.words[S+m]=this.words[S];for(S=0;S<m;S++)this.words[S]=0;this.length+=m}return this.strip()},a.prototype.ishln=function(f){return i(this.negative===0),this.iushln(f)},a.prototype.iushrn=function(f,u,m){i(typeof f=="number"&&f>=0);var v;u?v=(u-u%26)/26:v=0;var S=f%26,b=Math.min((f-S)/26,this.length),A=67108863^67108863>>>S<<S,y=m;if(v-=b,v=Math.max(0,v),y){for(var d=0;d<b;d++)y.words[d]=this.words[d];y.length=b}if(b!==0)if(this.length>b)for(this.length-=b,d=0;d<this.length;d++)this.words[d]=this.words[d+b];else this.words[0]=0,this.length=1;var x=0;for(d=this.length-1;d>=0&&(x!==0||d>=v);d--){var L=this.words[d]|0;this.words[d]=x<<26-S|L>>>S,x=L&A}return y&&x!==0&&(y.words[y.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(f,u,m){return i(this.negative===0),this.iushrn(f,u,m)},a.prototype.shln=function(f){return this.clone().ishln(f)},a.prototype.ushln=function(f){return this.clone().iushln(f)},a.prototype.shrn=function(f){return this.clone().ishrn(f)},a.prototype.ushrn=function(f){return this.clone().iushrn(f)},a.prototype.testn=function(f){i(typeof f=="number"&&f>=0);var u=f%26,m=(f-u)/26,v=1<<u;if(this.length<=m)return!1;var S=this.words[m];return!!(S&v)},a.prototype.imaskn=function(f){i(typeof f=="number"&&f>=0);var u=f%26,m=(f-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(u!==0&&m++,this.length=Math.min(m,this.length),u!==0){var v=67108863^67108863>>>u<<u;this.words[this.length-1]&=v}return this.strip()},a.prototype.maskn=function(f){return this.clone().imaskn(f)},a.prototype.iaddn=function(f){return i(typeof f=="number"),i(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},a.prototype._iaddn=function(f){this.words[0]+=f;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},a.prototype.isubn=function(f){if(i(typeof f=="number"),i(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this.strip()},a.prototype.addn=function(f){return this.clone().iaddn(f)},a.prototype.subn=function(f){return this.clone().isubn(f)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(f,u,m){var v=f.length+m,S;this._expand(v);var b,A=0;for(S=0;S<f.length;S++){b=(this.words[S+m]|0)+A;var y=(f.words[S]|0)*u;b-=y&67108863,A=(b>>26)-(y/67108864|0),this.words[S+m]=b&67108863}for(;S<this.length-m;S++)b=(this.words[S+m]|0)+A,A=b>>26,this.words[S+m]=b&67108863;if(A===0)return this.strip();for(i(A===-1),A=0,S=0;S<this.length;S++)b=-(this.words[S]|0)+A,A=b>>26,this.words[S]=b&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(f,u){var m=this.length-f.length,v=this.clone(),S=f,b=S.words[S.length-1]|0,A=this._countBits(b);m=26-A,m!==0&&(S=S.ushln(m),v.iushln(m),b=S.words[S.length-1]|0);var y=v.length-S.length,d;if(u!=="mod"){d=new a(null),d.length=y+1,d.words=new Array(d.length);for(var x=0;x<d.length;x++)d.words[x]=0}var L=v.clone()._ishlnsubmul(S,1,y);L.negative===0&&(v=L,d&&(d.words[y]=1));for(var W=y-1;W>=0;W--){var Z=(v.words[S.length+W]|0)*67108864+(v.words[S.length+W-1]|0);for(Z=Math.min(Z/b|0,67108863),v._ishlnsubmul(S,Z,W);v.negative!==0;)Z--,v.negative=0,v._ishlnsubmul(S,1,W),v.isZero()||(v.negative^=1);d&&(d.words[W]=Z)}return d&&d.strip(),v.strip(),u!=="div"&&m!==0&&v.iushrn(m),{div:d||null,mod:v}},a.prototype.divmod=function(f,u,m){if(i(!f.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var v,S,b;return this.negative!==0&&f.negative===0?(b=this.neg().divmod(f,u),u!=="mod"&&(v=b.div.neg()),u!=="div"&&(S=b.mod.neg(),m&&S.negative!==0&&S.iadd(f)),{div:v,mod:S}):this.negative===0&&f.negative!==0?(b=this.divmod(f.neg(),u),u!=="mod"&&(v=b.div.neg()),{div:v,mod:b.mod}):(this.negative&f.negative)!==0?(b=this.neg().divmod(f.neg(),u),u!=="div"&&(S=b.mod.neg(),m&&S.negative!==0&&S.isub(f)),{div:b.div,mod:S}):f.length>this.length||this.cmp(f)<0?{div:new a(0),mod:this}:f.length===1?u==="div"?{div:this.divn(f.words[0]),mod:null}:u==="mod"?{div:null,mod:new a(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new a(this.modn(f.words[0]))}:this._wordDiv(f,u)},a.prototype.div=function(f){return this.divmod(f,"div",!1).div},a.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},a.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},a.prototype.divRound=function(f){var u=this.divmod(f);if(u.mod.isZero())return u.div;var m=u.div.negative!==0?u.mod.isub(f):u.mod,v=f.ushrn(1),S=f.andln(1),b=m.cmp(v);return b<0||S===1&&b===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},a.prototype.modn=function(f){i(f<=67108863);for(var u=(1<<26)%f,m=0,v=this.length-1;v>=0;v--)m=(u*m+(this.words[v]|0))%f;return m},a.prototype.idivn=function(f){i(f<=67108863);for(var u=0,m=this.length-1;m>=0;m--){var v=(this.words[m]|0)+u*67108864;this.words[m]=v/f|0,u=v%f}return this.strip()},a.prototype.divn=function(f){return this.clone().idivn(f)},a.prototype.egcd=function(f){i(f.negative===0),i(!f.isZero());var u=this,m=f.clone();u.negative!==0?u=u.umod(f):u=u.clone();for(var v=new a(1),S=new a(0),b=new a(0),A=new a(1),y=0;u.isEven()&&m.isEven();)u.iushrn(1),m.iushrn(1),++y;for(var d=m.clone(),x=u.clone();!u.isZero();){for(var L=0,W=1;(u.words[0]&W)===0&&L<26;++L,W<<=1);if(L>0)for(u.iushrn(L);L-- >0;)(v.isOdd()||S.isOdd())&&(v.iadd(d),S.isub(x)),v.iushrn(1),S.iushrn(1);for(var Z=0,G=1;(m.words[0]&G)===0&&Z<26;++Z,G<<=1);if(Z>0)for(m.iushrn(Z);Z-- >0;)(b.isOdd()||A.isOdd())&&(b.iadd(d),A.isub(x)),b.iushrn(1),A.iushrn(1);u.cmp(m)>=0?(u.isub(m),v.isub(b),S.isub(A)):(m.isub(u),b.isub(v),A.isub(S))}return{a:b,b:A,gcd:m.iushln(y)}},a.prototype._invmp=function(f){i(f.negative===0),i(!f.isZero());var u=this,m=f.clone();u.negative!==0?u=u.umod(f):u=u.clone();for(var v=new a(1),S=new a(0),b=m.clone();u.cmpn(1)>0&&m.cmpn(1)>0;){for(var A=0,y=1;(u.words[0]&y)===0&&A<26;++A,y<<=1);if(A>0)for(u.iushrn(A);A-- >0;)v.isOdd()&&v.iadd(b),v.iushrn(1);for(var d=0,x=1;(m.words[0]&x)===0&&d<26;++d,x<<=1);if(d>0)for(m.iushrn(d);d-- >0;)S.isOdd()&&S.iadd(b),S.iushrn(1);u.cmp(m)>=0?(u.isub(m),v.isub(S)):(m.isub(u),S.isub(v))}var L;return u.cmpn(1)===0?L=v:L=S,L.cmpn(0)<0&&L.iadd(f),L},a.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var u=this.clone(),m=f.clone();u.negative=0,m.negative=0;for(var v=0;u.isEven()&&m.isEven();v++)u.iushrn(1),m.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;m.isEven();)m.iushrn(1);var S=u.cmp(m);if(S<0){var b=u;u=m,m=b}else if(S===0||m.cmpn(1)===0)break;u.isub(m)}while(!0);return m.iushln(v)},a.prototype.invm=function(f){return this.egcd(f).a.umod(f)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(f){return this.words[0]&f},a.prototype.bincn=function(f){i(typeof f=="number");var u=f%26,m=(f-u)/26,v=1<<u;if(this.length<=m)return this._expand(m+1),this.words[m]|=v,this;for(var S=v,b=m;S!==0&&b<this.length;b++){var A=this.words[b]|0;A+=S,S=A>>>26,A&=67108863,this.words[b]=A}return S!==0&&(this.words[b]=S,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(f){var u=f<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this.strip();var m;if(this.length>1)m=1;else{u&&(f=-f),i(f<=67108863,"Number is too big");var v=this.words[0]|0;m=v===f?0:v<f?-1:1}return this.negative!==0?-m|0:m},a.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var u=this.ucmp(f);return this.negative!==0?-u|0:u},a.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var u=0,m=this.length-1;m>=0;m--){var v=this.words[m]|0,S=f.words[m]|0;if(v!==S){v<S?u=-1:v>S&&(u=1);break}}return u},a.prototype.gtn=function(f){return this.cmpn(f)===1},a.prototype.gt=function(f){return this.cmp(f)===1},a.prototype.gten=function(f){return this.cmpn(f)>=0},a.prototype.gte=function(f){return this.cmp(f)>=0},a.prototype.ltn=function(f){return this.cmpn(f)===-1},a.prototype.lt=function(f){return this.cmp(f)===-1},a.prototype.lten=function(f){return this.cmpn(f)<=0},a.prototype.lte=function(f){return this.cmp(f)<=0},a.prototype.eqn=function(f){return this.cmpn(f)===0},a.prototype.eq=function(f){return this.cmp(f)===0},a.red=function(f){return new F(f)},a.prototype.toRed=function(f){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(f){return this.red=f,this},a.prototype.forceRed=function(f){return i(!this.red,"Already a number in reduction context"),this._forceRed(f)},a.prototype.redAdd=function(f){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},a.prototype.redIAdd=function(f){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},a.prototype.redSub=function(f){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},a.prototype.redISub=function(f){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},a.prototype.redShl=function(f){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},a.prototype.redMul=function(f){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},a.prototype.redIMul=function(f){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(f){return i(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var B={k256:null,p224:null,p192:null,p25519:null};function N(w,f){this.name=w,this.p=new a(f,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var f=new a(null);return f.words=new Array(Math.ceil(this.n/13)),f},N.prototype.ireduce=function(f){var u=f,m;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),m=u.bitLength();while(m>this.n);var v=m<this.n?-1:u.ucmp(this.p);return v===0?(u.words[0]=0,u.length=1):v>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},N.prototype.split=function(f,u){f.iushrn(this.n,0,u)},N.prototype.imulK=function(f){return f.imul(this.k)};function K(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(K,N),K.prototype.split=function(f,u){for(var m=4194303,v=Math.min(f.length,9),S=0;S<v;S++)u.words[S]=f.words[S];if(u.length=v,f.length<=9){f.words[0]=0,f.length=1;return}var b=f.words[9];for(u.words[u.length++]=b&m,S=10;S<f.length;S++){var A=f.words[S]|0;f.words[S-10]=(A&m)<<4|b>>>22,b=A}b>>>=22,f.words[S-10]=b,b===0&&f.length>10?f.length-=10:f.length-=9},K.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var u=0,m=0;m<f.length;m++){var v=f.words[m]|0;u+=v*977,f.words[m]=u&67108863,u=v*64+(u/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function ee(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(ee,N);function $(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n($,N);function j(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(j,N),j.prototype.imulK=function(f){for(var u=0,m=0;m<f.length;m++){var v=(f.words[m]|0)*19+u,S=v&67108863;v>>>=26,f.words[m]=S,u=v}return u!==0&&(f.words[f.length++]=u),f},a._prime=function(f){if(B[f])return B[f];var u;if(f==="k256")u=new K;else if(f==="p224")u=new ee;else if(f==="p192")u=new $;else if(f==="p25519")u=new j;else throw new Error("Unknown prime "+f);return B[f]=u,u};function F(w){if(typeof w=="string"){var f=a._prime(w);this.m=f.p,this.prime=f}else i(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}F.prototype._verify1=function(f){i(f.negative===0,"red works only with positives"),i(f.red,"red works only with red numbers")},F.prototype._verify2=function(f,u){i((f.negative|u.negative)===0,"red works only with positives"),i(f.red&&f.red===u.red,"red works only with red numbers")},F.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},F.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},F.prototype.add=function(f,u){this._verify2(f,u);var m=f.add(u);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},F.prototype.iadd=function(f,u){this._verify2(f,u);var m=f.iadd(u);return m.cmp(this.m)>=0&&m.isub(this.m),m},F.prototype.sub=function(f,u){this._verify2(f,u);var m=f.sub(u);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},F.prototype.isub=function(f,u){this._verify2(f,u);var m=f.isub(u);return m.cmpn(0)<0&&m.iadd(this.m),m},F.prototype.shl=function(f,u){return this._verify1(f),this.imod(f.ushln(u))},F.prototype.imul=function(f,u){return this._verify2(f,u),this.imod(f.imul(u))},F.prototype.mul=function(f,u){return this._verify2(f,u),this.imod(f.mul(u))},F.prototype.isqr=function(f){return this.imul(f,f.clone())},F.prototype.sqr=function(f){return this.mul(f,f)},F.prototype.sqrt=function(f){if(f.isZero())return f.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var m=this.m.add(new a(1)).iushrn(2);return this.pow(f,m)}for(var v=this.m.subn(1),S=0;!v.isZero()&&v.andln(1)===0;)S++,v.iushrn(1);i(!v.isZero());var b=new a(1).toRed(this),A=b.redNeg(),y=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new a(2*d*d).toRed(this);this.pow(d,y).cmp(A)!==0;)d.redIAdd(A);for(var x=this.pow(d,v),L=this.pow(f,v.addn(1).iushrn(1)),W=this.pow(f,v),Z=S;W.cmp(b)!==0;){for(var G=W,ne=0;G.cmp(b)!==0;ne++)G=G.redSqr();i(ne<Z);var le=this.pow(x,new a(1).iushln(Z-ne-1));L=L.redMul(le),x=le.redSqr(),W=W.redMul(x),Z=ne}return L},F.prototype.invm=function(f){var u=f._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},F.prototype.pow=function(f,u){if(u.isZero())return new a(1).toRed(this);if(u.cmpn(1)===0)return f.clone();var m=4,v=new Array(1<<m);v[0]=new a(1).toRed(this),v[1]=f;for(var S=2;S<v.length;S++)v[S]=this.mul(v[S-1],f);var b=v[0],A=0,y=0,d=u.bitLength()%26;for(d===0&&(d=26),S=u.length-1;S>=0;S--){for(var x=u.words[S],L=d-1;L>=0;L--){var W=x>>L&1;if(b!==v[0]&&(b=this.sqr(b)),W===0&&A===0){y=0;continue}A<<=1,A|=W,y++,!(y!==m&&(S!==0||L!==0))&&(b=this.mul(b,v[A]),y=0,A=0)}d=26}return b},F.prototype.convertTo=function(f){var u=f.umod(this.m);return u===f?u.clone():u},F.prototype.convertFrom=function(f){var u=f.clone();return u.red=null,u},a.mont=function(f){return new V(f)};function V(w){F.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(V,F),V.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},V.prototype.convertFrom=function(f){var u=this.imod(f.mul(this.rinv));return u.red=null,u},V.prototype.imul=function(f,u){if(f.isZero()||u.isZero())return f.words[0]=0,f.length=1,f;var m=f.imul(u),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=m.isub(v).iushrn(this.shift),b=S;return S.cmp(this.m)>=0?b=S.isub(this.m):S.cmpn(0)<0&&(b=S.iadd(this.m)),b._forceRed(this)},V.prototype.mul=function(f,u){if(f.isZero()||u.isZero())return new a(0)._forceRed(this);var m=f.mul(u),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=m.isub(v).iushrn(this.shift),b=S;return S.cmp(this.m)>=0?b=S.isub(this.m):S.cmpn(0)<0&&(b=S.iadd(this.m)),b._forceRed(this)},V.prototype.invm=function(f){var u=this.imod(f._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(t,li)})(jt);const Ft=jt.exports;var As={};const ph="elliptic",bh="6.5.4",mh="EC cryptography",vh="lib/elliptic.js",yh=["lib"],gh={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},_h={type:"git",url:"git@github.com:indutny/elliptic"},wh=["EC","Elliptic","curve","Cryptography"],xh="Fedor Indutny <fedor@indutny.com>",Sh="MIT",Ah={url:"https://github.com/indutny/elliptic/issues"},kh="https://github.com/indutny/elliptic",Eh={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},Mh={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},Ih={name:ph,version:bh,description:mh,main:vh,files:yh,scripts:gh,repository:_h,keywords:wh,author:xh,license:Sh,bugs:Ah,homepage:kh,devDependencies:Eh,dependencies:Mh};var Rt={},js={};(function(t){var e=t;function r(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var s=[];if(typeof a!="string"){for(var l=0;l<a.length;l++)s[l]=a[l]|0;return s}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var l=0;l<a.length;l+=2)s.push(parseInt(a[l]+a[l+1],16))}else for(var l=0;l<a.length;l++){var c=a.charCodeAt(l),h=c>>8,g=c&255;h?s.push(h,g):s.push(g)}return s}e.toArray=r;function i(a){return a.length===1?"0"+a:a}e.zero2=i;function n(a){for(var o="",s=0;s<a.length;s++)o+=i(a[s].toString(16));return o}e.toHex=n,e.encode=function(o,s){return s==="hex"?n(o):o}})(js);(function(t){var e=t,r=jt.exports,i=Ci,n=js;e.assert=i,e.toArray=n.toArray,e.zero2=n.zero2,e.toHex=n.toHex,e.encode=n.encode;function a(h,g,E){var k=new Array(Math.max(h.bitLength(),E)+1);k.fill(0);for(var M=1<<g+1,T=h.clone(),R=0;R<k.length;R++){var I,P=T.andln(M-1);T.isOdd()?(P>(M>>1)-1?I=(M>>1)-P:I=P,T.isubn(I)):I=0,k[R]=I,T.iushrn(1)}return k}e.getNAF=a;function o(h,g){var E=[[],[]];h=h.clone(),g=g.clone();for(var k=0,M=0,T;h.cmpn(-k)>0||g.cmpn(-M)>0;){var R=h.andln(3)+k&3,I=g.andln(3)+M&3;R===3&&(R=-1),I===3&&(I=-1);var P;(R&1)===0?P=0:(T=h.andln(7)+k&7,(T===3||T===5)&&I===2?P=-R:P=R),E[0].push(P);var B;(I&1)===0?B=0:(T=g.andln(7)+M&7,(T===3||T===5)&&R===2?B=-I:B=I),E[1].push(B),2*k===P+1&&(k=1-k),2*M===B+1&&(M=1-M),h.iushrn(1),g.iushrn(1)}return E}e.getJSF=o;function s(h,g,E){var k="_"+g;h.prototype[g]=function(){return this[k]!==void 0?this[k]:this[k]=E.call(this)}}e.cachedProperty=s;function l(h){return typeof h=="string"?e.toArray(h,"hex"):h}e.parseBytes=l;function c(h){return new r(h,"hex","le")}e.intFromLE=c})(Rt);var Ws={},fi=jt.exports,pa=Rt,Va=pa.getNAF,Th=pa.getJSF,Ka=pa.assert;function si(t,e){this.type=t,this.p=new fi(e.p,16),this.red=e.prime?fi.red(e.prime):fi.mont(this.p),this.zero=new fi(0).toRed(this.red),this.one=new fi(1).toRed(this.red),this.two=new fi(2).toRed(this.red),this.n=e.n&&new fi(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ao=si;si.prototype.point=function(){throw new Error("Not implemented")};si.prototype.validate=function(){throw new Error("Not implemented")};si.prototype._fixedNafMul=function(e,r){Ka(e.precomputed);var i=e._getDoubles(),n=Va(r,1,this._bitLength),a=(1<<i.step+1)-(i.step%2===0?2:1);a/=3;var o=[],s,l;for(s=0;s<n.length;s+=i.step){l=0;for(var c=s+i.step-1;c>=s;c--)l=(l<<1)+n[c];o.push(l)}for(var h=this.jpoint(null,null,null),g=this.jpoint(null,null,null),E=a;E>0;E--){for(s=0;s<o.length;s++)l=o[s],l===E?g=g.mixedAdd(i.points[s]):l===-E&&(g=g.mixedAdd(i.points[s].neg()));h=h.add(g)}return h.toP()};si.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var a=n.points,o=Va(r,i,this._bitLength),s=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,s=s.dblp(c),l<0)break;var h=o[l];Ka(h!==0),e.type==="affine"?h>0?s=s.mixedAdd(a[h-1>>1]):s=s.mixedAdd(a[-h-1>>1].neg()):h>0?s=s.add(a[h-1>>1]):s=s.add(a[-h-1>>1].neg())}return e.type==="affine"?s.toP():s};si.prototype._wnafMulAdd=function(e,r,i,n,a){var o=this._wnafT1,s=this._wnafT2,l=this._wnafT3,c=0,h,g,E;for(h=0;h<n;h++){E=r[h];var k=E._getNAFPoints(e);o[h]=k.wnd,s[h]=k.points}for(h=n-1;h>=1;h-=2){var M=h-1,T=h;if(o[M]!==1||o[T]!==1){l[M]=Va(i[M],o[M],this._bitLength),l[T]=Va(i[T],o[T],this._bitLength),c=Math.max(l[M].length,c),c=Math.max(l[T].length,c);continue}var R=[r[M],null,null,r[T]];r[M].y.cmp(r[T].y)===0?(R[1]=r[M].add(r[T]),R[2]=r[M].toJ().mixedAdd(r[T].neg())):r[M].y.cmp(r[T].y.redNeg())===0?(R[1]=r[M].toJ().mixedAdd(r[T]),R[2]=r[M].add(r[T].neg())):(R[1]=r[M].toJ().mixedAdd(r[T]),R[2]=r[M].toJ().mixedAdd(r[T].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],P=Th(i[M],i[T]);for(c=Math.max(P[0].length,c),l[M]=new Array(c),l[T]=new Array(c),g=0;g<c;g++){var B=P[0][g]|0,N=P[1][g]|0;l[M][g]=I[(B+1)*3+(N+1)],l[T][g]=0,s[M]=R}}var K=this.jpoint(null,null,null),ee=this._wnafT4;for(h=c;h>=0;h--){for(var $=0;h>=0;){var j=!0;for(g=0;g<n;g++)ee[g]=l[g][h]|0,ee[g]!==0&&(j=!1);if(!j)break;$++,h--}if(h>=0&&$++,K=K.dblp($),h<0)break;for(g=0;g<n;g++){var F=ee[g];F!==0&&(F>0?E=s[g][F-1>>1]:F<0&&(E=s[g][-F-1>>1].neg()),E.type==="affine"?K=K.mixedAdd(E):K=K.add(E))}}for(h=0;h<n;h++)s[h]=null;return a?K:K.toP()};function qt(t,e){this.curve=t,this.type=e,this.precomputed=null}si.BasePoint=qt;qt.prototype.eq=function(){throw new Error("Not implemented")};qt.prototype.validate=function(){return this.curve.validate(this)};si.prototype.decodePoint=function(e,r){e=pa.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?Ka(e[e.length-1]%2===0):e[0]===7&&Ka(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};qt.prototype.encodeCompressed=function(e){return this.encode(e,!0)};qt.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};qt.prototype.encode=function(e,r){return pa.encode(this._encode(r),e)};qt.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};qt.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};qt.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,a=0;a<r;a+=e){for(var o=0;o<e;o++)n=n.dbl();i.push(n)}return{step:e,points:i}};qt.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),a=1;a<i;a++)r[a]=r[a-1].add(n);return{wnd:e,points:r}};qt.prototype._getBeta=function(){return null};qt.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r};var Rh=Rt,ze=jt.exports,Zs=ji.exports,vn=ao,Ph=Rh.assert;function $t(t){vn.call(this,"short",t),this.a=new ze(t.a,16).toRed(this.red),this.b=new ze(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Zs($t,vn);var Ch=$t;$t.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new ze(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new ze(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?i=a[0]:(i=a[1],Ph(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(s){return{a:new ze(s.a,16),b:new ze(s.b,16)}}):o=this._getEndoBasis(i),{beta:r,lambda:i,basis:o}}};$t.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ze.mont(e),i=new ze(2).toRed(r).redInvm(),n=i.redNeg(),a=new ze(3).toRed(r).redNeg().redSqrt().redMul(i),o=n.redAdd(a).fromRed(),s=n.redSub(a).fromRed();return[o,s]};$t.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),a=new ze(1),o=new ze(0),s=new ze(0),l=new ze(1),c,h,g,E,k,M,T,R=0,I,P;i.cmpn(0)!==0;){var B=n.div(i);I=n.sub(B.mul(i)),P=s.sub(B.mul(a));var N=l.sub(B.mul(o));if(!g&&I.cmp(r)<0)c=T.neg(),h=a,g=I.neg(),E=P;else if(g&&++R===2)break;T=I,n=i,i=I,s=a,a=P,l=o,o=N}k=I.neg(),M=P;var K=g.sqr().add(E.sqr()),ee=k.sqr().add(M.sqr());return ee.cmp(K)>=0&&(k=c,M=h),g.negative&&(g=g.neg(),E=E.neg()),k.negative&&(k=k.neg(),M=M.neg()),[{a:g,b:E},{a:k,b:M}]};$t.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],a=n.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),s=a.mul(i.a),l=o.mul(n.a),c=a.mul(i.b),h=o.mul(n.b),g=e.sub(s).sub(l),E=c.add(h).neg();return{k1:g,k2:E}};$t.prototype.pointFromX=function(e,r){e=new ze(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var a=n.fromRed().isOdd();return(r&&!a||!r&&a)&&(n=n.redNeg()),this.point(e,n)};$t.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(a).cmpn(0)===0};$t.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,a=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(r[o]),l=e[o],c=l._getBeta();s.k1.negative&&(s.k1.ineg(),l=l.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[o*2]=l,n[o*2+1]=c,a[o*2]=s.k1,a[o*2+1]=s.k2}for(var h=this._wnafMulAdd(1,n,a,o*2,i),g=0;g<o*2;g++)n[g]=null,a[g]=null;return h};function pt(t,e,r,i){vn.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ze(e,16),this.y=new ze(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Zs(pt,vn.BasePoint);$t.prototype.point=function(e,r,i){return new pt(this,e,r,i)};$t.prototype.pointFromJSON=function(e,r){return pt.fromJSON(this,e,r)};pt.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(a){return i.point(a.x.redMul(i.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};pt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};pt.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function a(s){return e.point(s[0],s[1],i)}var o=r[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(a))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(a))}},n};pt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};pt.prototype.isInfinity=function(){return this.inf};pt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};pt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),a=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),o=a.redSqr().redISub(this.x.redAdd(this.x)),s=a.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)};pt.prototype.getX=function(){return this.x.fromRed()};pt.prototype.getY=function(){return this.y.fromRed()};pt.prototype.mul=function(e){return e=new ze(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};pt.prototype.mulAdd=function(e,r,i){var n=[this,r],a=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,a):this.curve._wnafMulAdd(1,n,a,2)};pt.prototype.jmulAdd=function(e,r,i){var n=[this,r],a=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,a,!0):this.curve._wnafMulAdd(1,n,a,2,!0)};pt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};pt.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(a){return a.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};pt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function yt(t,e,r,i){vn.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ze(0)):(this.x=new ze(e,16),this.y=new ze(r,16),this.z=new ze(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Zs(yt,vn.BasePoint);$t.prototype.jpoint=function(e,r,i){return new yt(this,e,r,i)};yt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};yt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};yt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),a=e.x.redMul(i),o=this.y.redMul(r.redMul(e.z)),s=e.y.redMul(i.redMul(this.z)),l=n.redSub(a),c=o.redSub(s);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=l.redSqr(),g=h.redMul(l),E=n.redMul(h),k=c.redSqr().redIAdd(g).redISub(E).redISub(E),M=c.redMul(E.redISub(k)).redISub(o.redMul(g)),T=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(k,M,T)};yt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),a=this.y,o=e.y.redMul(r).redMul(this.z),s=i.redSub(n),l=a.redSub(o);if(s.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),h=c.redMul(s),g=i.redMul(c),E=l.redSqr().redIAdd(h).redISub(g).redISub(g),k=l.redMul(g.redISub(E)).redISub(a.redMul(h)),M=this.z.redMul(s);return this.curve.jpoint(E,k,M)};yt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,a=this.curve.tinv,o=this.x,s=this.y,l=this.z,c=l.redSqr().redSqr(),h=s.redAdd(s);for(r=0;r<e;r++){var g=o.redSqr(),E=h.redSqr(),k=E.redSqr(),M=g.redAdd(g).redIAdd(g).redIAdd(n.redMul(c)),T=o.redMul(E),R=M.redSqr().redISub(T.redAdd(T)),I=T.redISub(R),P=M.redMul(I);P=P.redIAdd(P).redISub(k);var B=h.redMul(l);r+1<e&&(c=c.redMul(k)),o=R,l=B,h=P}return this.curve.jpoint(o,h.redMul(a),l)};yt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};yt.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var l=n.redAdd(n).redIAdd(n),c=l.redSqr().redISub(s).redISub(s),h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),e=c,r=l.redMul(s.redISub(c)).redISub(h),i=this.y.redAdd(this.y)}else{var g=this.x.redSqr(),E=this.y.redSqr(),k=E.redSqr(),M=this.x.redAdd(E).redSqr().redISub(g).redISub(k);M=M.redIAdd(M);var T=g.redAdd(g).redIAdd(g),R=T.redSqr(),I=k.redIAdd(k);I=I.redIAdd(I),I=I.redIAdd(I),e=R.redISub(M).redISub(M),r=T.redMul(M.redISub(e)).redISub(I),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};yt.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var l=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=l.redSqr().redISub(s).redISub(s);e=c;var h=o.redIAdd(o);h=h.redIAdd(h),h=h.redIAdd(h),r=l.redMul(s.redISub(c)).redISub(h),i=this.y.redAdd(this.y)}else{var g=this.z.redSqr(),E=this.y.redSqr(),k=this.x.redMul(E),M=this.x.redSub(g).redMul(this.x.redAdd(g));M=M.redAdd(M).redIAdd(M);var T=k.redIAdd(k);T=T.redIAdd(T);var R=T.redAdd(T);e=M.redSqr().redISub(R),i=this.y.redAdd(this.z).redSqr().redISub(E).redISub(g);var I=E.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=M.redMul(T.redISub(e)).redISub(I)}return this.curve.jpoint(e,r,i)};yt.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,a=n.redSqr().redSqr(),o=r.redSqr(),s=i.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(a)),c=r.redAdd(r);c=c.redIAdd(c);var h=c.redMul(s),g=l.redSqr().redISub(h.redAdd(h)),E=h.redISub(g),k=s.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var M=l.redMul(E).redISub(k),T=i.redAdd(i).redMul(n);return this.curve.jpoint(g,M,T)};yt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),a=e.redAdd(e).redIAdd(e),o=a.redSqr(),s=this.x.redAdd(r).redSqr().redISub(e).redISub(n);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(o);var l=s.redSqr(),c=n.redIAdd(n);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var h=a.redIAdd(s).redSqr().redISub(o).redISub(l).redISub(c),g=r.redMul(h);g=g.redIAdd(g),g=g.redIAdd(g);var E=this.x.redMul(l).redISub(g);E=E.redIAdd(E),E=E.redIAdd(E);var k=this.y.redMul(h.redMul(c.redISub(h)).redISub(s.redMul(l)));k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var M=this.z.redAdd(s).redSqr().redISub(i).redISub(l);return this.curve.jpoint(E,k,M)};yt.prototype.mul=function(e,r){return e=new ze(e,r),this.curve._wnafMul(this,e)};yt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),a=i.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(n)).cmpn(0)===0};yt.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),a=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(a),this.x.cmp(i)===0)return!0}};yt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};yt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Hi=jt.exports,md=ji.exports,oo=ao,Nh=Rt;function yn(t){oo.call(this,"mont",t),this.a=new Hi(t.a,16).toRed(this.red),this.b=new Hi(t.b,16).toRed(this.red),this.i4=new Hi(4).toRed(this.red).redInvm(),this.two=new Hi(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}md(yn,oo);var Bh=yn;yn.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),a=n.redSqrt();return a.redSqr().cmp(n)===0};function ht(t,e,r){oo.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Hi(e,16),this.z=new Hi(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}md(ht,oo.BasePoint);yn.prototype.decodePoint=function(e,r){return this.point(Nh.toArray(e,r),1)};yn.prototype.point=function(e,r){return new ht(this,e,r)};yn.prototype.pointFromJSON=function(e){return ht.fromJSON(this,e)};ht.prototype.precompute=function(){};ht.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};ht.fromJSON=function(e,r){return new ht(e,r[0],r[1]||e.one)};ht.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ht.prototype.isInfinity=function(){return this.z.cmpn(0)===0};ht.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),a=r.redSub(n),o=r.redMul(n),s=a.redMul(n.redAdd(this.curve.a24.redMul(a)));return this.curve.point(o,s)};ht.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};ht.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),a=e.x.redAdd(e.z),o=e.x.redSub(e.z),s=o.redMul(i),l=a.redMul(n),c=r.z.redMul(s.redAdd(l).redSqr()),h=r.x.redMul(s.redISub(l).redSqr());return this.curve.point(c,h)};ht.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),a=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var s=o.length-1;s>=0;s--)o[s]===0?(i=i.diffAdd(n,a),n=n.dbl()):(n=i.diffAdd(n,a),i=i.dbl());return n};ht.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};ht.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};ht.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};ht.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};ht.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Dh=Rt,vr=jt.exports,vd=ji.exports,so=ao,zh=Dh.assert;function hr(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,so.call(this,"edwards",t),this.a=new vr(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new vr(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new vr(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),zh(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}vd(hr,so);var Oh=hr;hr.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};hr.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};hr.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};hr.prototype.pointFromX=function(e,r){e=new vr(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),a=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=n.redMul(a.redInvm()),s=o.redSqrt();if(s.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var l=s.fromRed().isOdd();return(r&&!l||!r&&l)&&(s=s.redNeg()),this.point(e,s)};hr.prototype.pointFromY=function(e,r){e=new vr(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),a=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(a.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(s.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return s.fromRed().isOdd()!==r&&(s=s.redNeg()),this.point(s,e)};hr.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(a)===0};function we(t,e,r,i,n){so.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new vr(e,16),this.y=new vr(r,16),this.z=i?new vr(i,16):this.curve.one,this.t=n&&new vr(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}vd(we,so.BasePoint);hr.prototype.pointFromJSON=function(e){return we.fromJSON(this,e)};hr.prototype.point=function(e,r,i,n){return new we(this,e,r,i,n)};we.fromJSON=function(e,r){return new we(e,r[0],r[1],r[2])};we.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};we.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};we.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=n.redAdd(r),s=o.redSub(i),l=n.redSub(r),c=a.redMul(s),h=o.redMul(l),g=a.redMul(l),E=s.redMul(o);return this.curve.point(c,h,E,g)};we.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,a,o,s,l,c;if(this.curve.twisted){s=this.curve._mulA(r);var h=s.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(h.redSub(this.curve.two)),a=h.redMul(s.redSub(i)),o=h.redSqr().redSub(h).redSub(h)):(l=this.z.redSqr(),c=h.redSub(l).redISub(l),n=e.redSub(r).redISub(i).redMul(c),a=h.redMul(s.redSub(i)),o=h.redMul(c))}else s=r.redAdd(i),l=this.curve._mulC(this.z).redSqr(),c=s.redSub(l).redSub(l),n=this.curve._mulC(e.redISub(s)).redMul(c),a=this.curve._mulC(s).redMul(r.redISub(i)),o=s.redMul(c);return this.curve.point(n,a,o)};we.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};we.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),o=i.redSub(r),s=a.redSub(n),l=a.redAdd(n),c=i.redAdd(r),h=o.redMul(s),g=l.redMul(c),E=o.redMul(c),k=s.redMul(l);return this.curve.point(h,g,k,E)};we.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(n).redMul(a),s=i.redSub(o),l=i.redAdd(o),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(a),h=r.redMul(s).redMul(c),g,E;return this.curve.twisted?(g=r.redMul(l).redMul(a.redSub(this.curve._mulA(n))),E=s.redMul(l)):(g=r.redMul(l).redMul(a.redSub(n)),E=this.curve._mulC(s).redMul(l)),this.curve.point(h,g,E)};we.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};we.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};we.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};we.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};we.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};we.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};we.prototype.getX=function(){return this.normalize(),this.x.fromRed()};we.prototype.getY=function(){return this.normalize(),this.y.fromRed()};we.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};we.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};we.prototype.toP=we.prototype.normalize;we.prototype.mixedAdd=we.prototype.add;(function(t){var e=t;e.base=ao,e.short=Ch,e.mont=Bh,e.edwards=Oh})(Ws);var fo={},Jo,Cf;function Lh(){return Cf||(Cf=1,Jo={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Jo}(function(t){var e=t,r=Qt,i=Ws,n=Rt,a=n.assert;function o(c){c.type==="short"?this.curve=new i.short(c):c.type==="edwards"?this.curve=new i.edwards(c):this.curve=new i.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function s(c,h){Object.defineProperty(e,c,{configurable:!0,enumerable:!0,get:function(){var g=new o(h);return Object.defineProperty(e,c,{configurable:!0,enumerable:!0,value:g}),g}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=Lh()}catch{l=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})})(fo);var qh=Qt,hi=js,yd=Ci;function Vr(t){if(!(this instanceof Vr))return new Vr(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=hi.toArray(t.entropy,t.entropyEnc||"hex"),r=hi.toArray(t.nonce,t.nonceEnc||"hex"),i=hi.toArray(t.pers,t.persEnc||"hex");yd(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}var $h=Vr;Vr.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};Vr.prototype._hmac=function(){return new qh.hmac(this.hash,this.K)};Vr.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Vr.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=hi.toArray(e,r),i=hi.toArray(i,n),yd(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};Vr.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=hi.toArray(i,n||"hex"),this._update(i));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var o=a.slice(0,e);return this._update(i),this._reseed++,hi.encode(o,r)};var Uh=jt.exports,Fh=Rt,ks=Fh.assert;function gt(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Hh=gt;gt.fromPublic=function(e,r,i){return r instanceof gt?r:new gt(e,{pub:r,pubEnc:i})};gt.fromPrivate=function(e,r,i){return r instanceof gt?r:new gt(e,{priv:r,privEnc:i})};gt.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};gt.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};gt.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};gt.prototype._importPrivate=function(e,r){this.priv=new Uh(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};gt.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?ks(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&ks(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};gt.prototype.derive=function(e){return e.validate()||ks(e.validate(),"public point not validated"),e.mul(this.priv).getX()};gt.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};gt.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};gt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ja=jt.exports,Gs=Rt,Vh=Gs.assert;function co(t,e){if(t instanceof co)return t;this._importDER(t,e)||(Vh(t.r&&t.s,"Signature without r or s"),this.r=new ja(t.r,16),this.s=new ja(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Kh=co;function jh(){this.place=0}function Xo(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,a=0,o=e.place;a<i;a++,o++)n<<=8,n|=t[o],n>>>=0;return n<=127?!1:(e.place=o,n)}function Nf(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}co.prototype._importDER=function(e,r){e=Gs.toArray(e,r);var i=new jh;if(e[i.place++]!==48)return!1;var n=Xo(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var a=Xo(e,i);if(a===!1)return!1;var o=e.slice(i.place,a+i.place);if(i.place+=a,e[i.place++]!==2)return!1;var s=Xo(e,i);if(s===!1||e.length!==s+i.place)return!1;var l=e.slice(i.place,s+i.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new ja(o),this.s=new ja(l),this.recoveryParam=null,!0};function Yo(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}co.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=Nf(r),i=Nf(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];Yo(n,r.length),n=n.concat(r),n.push(2),Yo(n,i.length);var a=n.concat(i),o=[48];return Yo(o,a.length),o=o.concat(a),Gs.encode(o,e)};var ui=jt.exports,gd=$h,Wh=Rt,Qo=fo,Zh=ua.exports,_d=Wh.assert,Js=Hh,lo=Kh;function Bt(t){if(!(this instanceof Bt))return new Bt(t);typeof t=="string"&&(_d(Object.prototype.hasOwnProperty.call(Qo,t),"Unknown curve "+t),t=Qo[t]),t instanceof Qo.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Gh=Bt;Bt.prototype.keyPair=function(e){return new Js(this,e)};Bt.prototype.keyFromPrivate=function(e,r){return Js.fromPrivate(this,e,r)};Bt.prototype.keyFromPublic=function(e,r){return Js.fromPublic(this,e,r)};Bt.prototype.genKeyPair=function(e){e||(e={});for(var r=new gd({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Zh(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new ui(2));;){var a=new ui(r.generate(i));if(!(a.cmp(n)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Bt.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Bt.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new ui(e,16));for(var a=this.n.byteLength(),o=r.getPrivate().toArray("be",a),s=e.toArray("be",a),l=new gd({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new ui(1)),h=0;;h++){var g=n.k?n.k(h):new ui(l.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(c)>=0)){var E=this.g.mul(g);if(!E.isInfinity()){var k=E.getX(),M=k.umod(this.n);if(M.cmpn(0)!==0){var T=g.invm(this.n).mul(M.mul(r.getPrivate()).iadd(e));if(T=T.umod(this.n),T.cmpn(0)!==0){var R=(E.getY().isOdd()?1:0)|(k.cmp(M)!==0?2:0);return n.canonical&&T.cmp(this.nh)>0&&(T=this.n.sub(T),R^=1),new lo({r:M,s:T,recoveryParam:R})}}}}}};Bt.prototype.verify=function(e,r,i,n){e=this._truncateToN(new ui(e,16)),i=this.keyFromPublic(i,n),r=new lo(r,"hex");var a=r.r,o=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s=o.invm(this.n),l=s.mul(e).umod(this.n),c=s.mul(a).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(l,i.getPublic(),c),h.isInfinity()?!1:h.eqXToP(a)):(h=this.g.mulAdd(l,i.getPublic(),c),h.isInfinity()?!1:h.getX().umod(this.n).cmp(a)===0)};Bt.prototype.recoverPubKey=function(t,e,r,i){_d((3&r)===r,"The recovery param is more than two bits"),e=new lo(e,i);var n=this.n,a=new ui(t),o=e.r,s=e.s,l=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var h=e.r.invm(n),g=n.sub(a).mul(h).umod(n),E=s.mul(h).umod(n);return this.g.mulAdd(g,o,E)};Bt.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new lo(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var a;try{a=this.recoverPubKey(t,e,n)}catch{continue}if(a.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var ba=Rt,wd=ba.assert,Bf=ba.parseBytes,gn=ba.cachedProperty;function lt(t,e){this.eddsa=t,this._secret=Bf(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Bf(e.pub)}lt.fromPublic=function(e,r){return r instanceof lt?r:new lt(e,{pub:r})};lt.fromSecret=function(e,r){return r instanceof lt?r:new lt(e,{secret:r})};lt.prototype.secret=function(){return this._secret};gn(lt,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});gn(lt,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});gn(lt,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});gn(lt,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});gn(lt,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});gn(lt,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});lt.prototype.sign=function(e){return wd(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};lt.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};lt.prototype.getSecret=function(e){return wd(this._secret,"KeyPair is public only"),ba.encode(this.secret(),e)};lt.prototype.getPublic=function(e){return ba.encode(this.pubBytes(),e)};var Jh=lt,Xh=jt.exports,ho=Rt,Yh=ho.assert,uo=ho.cachedProperty,Qh=ho.parseBytes;function Ni(t,e){this.eddsa=t,typeof e!="object"&&(e=Qh(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Yh(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Xh&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}uo(Ni,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});uo(Ni,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});uo(Ni,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});uo(Ni,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ni.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ni.prototype.toHex=function(){return ho.encode(this.toBytes(),"hex").toUpperCase()};var eu=Ni,tu=Qt,ru=fo,Ji=Rt,iu=Ji.assert,xd=Ji.parseBytes,Sd=Jh,Df=eu;function Et(t){if(iu(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Et))return new Et(t);t=ru[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=tu.sha512}var nu=Et;Et.prototype.sign=function(e,r){e=xd(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),a=this.g.mul(n),o=this.encodePoint(a),s=this.hashInt(o,i.pubBytes(),e).mul(i.priv()),l=n.add(s).umod(this.curve.n);return this.makeSignature({R:a,S:l,Rencoded:o})};Et.prototype.verify=function(e,r,i){e=xd(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),a=this.hashInt(r.Rencoded(),n.pubBytes(),e),o=this.g.mul(r.S()),s=r.R().add(n.pub().mul(a));return s.eq(o)};Et.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Ji.intFromLE(e.digest()).umod(this.curve.n)};Et.prototype.keyFromPublic=function(e){return Sd.fromPublic(this,e)};Et.prototype.keyFromSecret=function(e){return Sd.fromSecret(this,e)};Et.prototype.makeSignature=function(e){return e instanceof Df?e:new Df(this,e)};Et.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Et.prototype.decodePoint=function(e){e=Ji.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&-129),n=(e[r]&128)!==0,a=Ji.intFromLE(i);return this.curve.pointFromY(a,n)};Et.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Et.prototype.decodeInt=function(e){return Ji.intFromLE(e)};Et.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=Ih.version,e.utils=Rt,e.rand=ua.exports,e.curve=Ws,e.curves=fo,e.ec=Gh,e.eddsa=nu})(As);function _(t,e,r,i){var n=arguments.length,a=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(n<3?o(a):n>3?o(e,r,a):o(e,r))||a);return n>3&&a&&Object.defineProperty(e,r,a),a}/**
 * EOSIO Core v0.6.0
 * https://github.com/greymass/eosio-core
 *
 * @license
 * Copyright (c) 2020 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */function Wa(t,e){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}function au(t,e){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!t[i].equals(e[i]))return!1;return!0}const Cr={};function Ad(){Cr.enc=new Array(255),Cr.dec={};for(let t=0;t<=255;++t){const e=t.toString(16).padStart(2,"0");Cr.enc[t]=e,Cr.dec[e]=t}}function kd(t){Cr.enc||Ad();const e=t.length,r=new Array(e);for(let i=0;i<e;++i)r[i]=Cr.enc[t[i]];return r.join("")}function ou(t){if(Cr.dec||Ad(),typeof t!="string")throw new Error("Expected string containing hex digits");if(t.length%2)throw new Error("Odd number of hex digits");t=t.toLowerCase();const e=t.length/2,r=new Uint8Array(e);for(let i=0;i<e;i++){const n=Cr.dec[t[i*2]+t[i*2+1]];if(n===void 0)throw new Error("Expected hex string");r[i]=n}return r}function po(t){return ua.exports(t)}let zf=!1;function Q(t,e){if(t instanceof e)return!0;if(t==null||typeof t!="object")return!1;const r=e.__className||e.abiName;if(!r)return!1;let i=t.constructor,n=!1;for(;i&&!n;){const a=i.__className||i.abiName;if(!a)break;n=r==a,i=Object.getPrototypeOf(i)}return n&&!zf&&(console.warn(`Detected alien instance of ${r}, this usually means more than one version of @greymass/eosio has been included in your bundle.`),zf=!0),n}class X{constructor(e=new Uint8Array){this.array=e}static from(e,r){return Q(e,this)?e:typeof e=="string"?this.fromString(e,r):ArrayBuffer.isView(e)?new this(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)):Q(e.array,Uint8Array)?new this(e.array):new this(new Uint8Array(e))}static fromString(e,r="hex"){if(r==="hex"){const i=ou(e);return new this(i)}else if(r=="utf8"){const i=new TextEncoder;return new this(i.encode(e))}else throw new Error(`Unknown encoding: ${r}`)}static fromABI(e){const r=e.readVaruint32();return new this(e.readArray(r))}static abiDefault(){return new X}static equal(e,r){return this.from(e).equals(this.from(r))}static random(e){return new this(po(e))}static isBytes(e){return!!(Q(e,X)||Q(e,Uint8Array)||Array.isArray(e)&&e.every(r=>typeof r=="number")||typeof e=="string"&&(/[\da-f]/i.test(e)||e===""))}get hexString(){return kd(this.array)}get utf8String(){return new TextDecoder().decode(this.array)}append(e){e=X.from(e);const r=this.array.byteLength+e.array.byteLength,i=new ArrayBuffer(r),n=new Uint8Array(i);n.set(this.array),n.set(e.array,this.array.byteLength),this.array=n}appending(e){const r=new X(this.array);return r.append(e),r}droppingFirst(e=1){return new X(this.array.subarray(e))}copy(){const e=new ArrayBuffer(this.array.byteLength),r=new Uint8Array(e);return r.set(this.array),new X(r)}equals(e){return Wa(this.array,X.from(e).array)}toString(e="hex"){if(e==="hex")return this.hexString;if(e==="utf8")return this.utf8String;throw new Error(`Unknown encoding: ${e}`)}toABI(e){e.writeVaruint32(this.array.byteLength),e.writeArray(this.array)}toJSON(){return this.hexString}}X.abiName="bytes";class _n{constructor(e){const r=this.constructor.byteSize;if(e.byteLength!==r)throw new Error(`Checksum size mismatch, expected ${r} bytes got ${e.byteLength}`);this.array=e}static from(e){return Q(e,this)?e:Q(e,_n)?new this(e.array):new this(X.from(e).array)}static fromABI(e){return new this(e.readArray(this.byteSize))}static abiDefault(){return new this(new Uint8Array(this.byteSize))}equals(e){const r=this.constructor;try{return Wa(this.array,r.from(e).array)}catch{return!1}}get hexString(){return kd(this.array)}toABI(e){e.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}}_n.abiName="__checksum";class ke extends _n{static from(e){return super.from(e)}static hash(e){const r=new Uint8Array(Qt.sha256().update(X.from(e).array).digest());return new ke(r)}}ke.abiName="checksum256";ke.byteSize=32;class Bi extends _n{static from(e){return super.from(e)}static hash(e){const r=new Uint8Array(Qt.sha512().update(X.from(e).array).digest());return new Bi(r)}}Bi.abiName="checksum512";Bi.byteSize=64;class bi extends _n{static from(e){return super.from(e)}static hash(e){const r=new Uint8Array(Qt.ripemd160().update(X.from(e).array).digest());return new bi(r)}}bi.abiName="checksum160";bi.byteSize=20;var de;(function(t){t.K1="K1",t.R1="R1",t.WA="WA"})(de||(de={}));(function(t){function e(i){switch(i){case t.K1:return 0;case t.R1:return 1;case t.WA:return 2;default:throw new Error(`Unknown curve type: ${i}`)}}t.indexFor=e;function r(i){let n;switch(typeof i!="number"?n=t.indexFor(i):n=i,n){case 0:return t.K1;case 1:return t.R1;case 2:return t.WA;default:throw new Error("Unknown curve type")}}t.from=r})(de||(de={}));class ce{constructor(e){const r=this.constructor;if(r.isSigned===void 0||r.byteWidth===void 0)throw new Error("Cannot instantiate abstract class Int");if(e.gt(r.max))throw new Error(`Number ${e} overflows ${r.abiName}`);if(e.lt(r.min))throw new Error(`Number ${e} underflows ${r.abiName}`);this.value=e}static get max(){return new Ft(2).pow(new Ft(this.byteWidth*8-(this.isSigned?1:0))).isubn(1)}static get min(){return this.isSigned?this.max.ineg().isubn(1):new Ft(0)}static add(e,r,i="truncate"){return ce.operator(e,r,i,(n,a)=>n.add(a))}static sub(e,r,i){return ce.operator(e,r,i,(n,a)=>n.sub(a))}static mul(e,r,i){return ce.operator(e,r,i,(n,a)=>n.mul(a))}static div(e,r,i){return ce.operator(e,r,i,(n,a)=>{if(a.isZero())throw new Error("Division by zero");return n.div(a)})}static divRound(e,r,i){return ce.operator(e,r,i,(n,a)=>{if(a.isZero())throw new Error("Division by zero");return n.divRound(a)})}static divCeil(e,r,i){return ce.operator(e,r,i,(n,a)=>{if(a.isZero())throw new Error("Division by zero");const o=n.divmod(a);return o.mod.isZero()?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)})}static operator(e,r,i="truncate",n){const{a,b:o}=cu(e,r),s=a.constructor,l=n(a.value,o.value);return s.from(l,i)}static from(e,r){if(Q(e,this))return e;let i=this,n;if(Q(e,ce))i=e.constructor,n=e.value.clone();else if(e instanceof Uint8Array)n=new Ft(e,void 0,"le"),i.isSigned&&(n=n.fromTwos(i.byteWidth*8));else{if(typeof e=="string"&&!/[0-9]+/.test(e)||typeof e=="number"&&!Number.isFinite(e))throw new Error("Invalid number");n=Ft.isBN(e)?e.clone():new Ft(e,10),n.isNeg()&&!i.isSigned&&(i={byteWidth:i.byteWidth,isSigned:!0})}switch(r){case"clamp":n=su(n,this.min,this.max);break;case"truncate":n=fu(n,i,this);break}return new this(n)}static fromABI(e){return this.from(e.readArray(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){return this.from(po(this.byteWidth))}cast(e,r="truncate"){return this.constructor===e?this:e.from(this,r)}get byteArray(){const e=this.constructor;return(e.isSigned?this.value.toTwos(e.byteWidth*8):this.value).toArrayLike(Uint8Array,"le",e.byteWidth)}equals(e,r=!1){const i=this.constructor;if(r===!0&&Q(e,ce)){const n=e.constructor;if(i.byteWidth!==n.byteWidth||i.isSigned!==n.isSigned)return!1}try{return this.value.eq(i.from(e).value)}catch{return!1}}add(e){this.value=this.operator(e,ce.add).value}adding(e){return this.operator(e,ce.add)}subtract(e){this.value=this.operator(e,ce.sub).value}subtracting(e){return this.operator(e,ce.sub)}multiply(e){this.value=this.operator(e,ce.mul).value}multiplying(e){return this.operator(e,ce.mul)}divide(e,r){this.value=this.dividing(e,r).value}dividing(e,r){let i=ce.div;switch(r){case"ceil":i=ce.divCeil;break;case"round":i=ce.divRound;break}return this.operator(e,i)}operator(e,r){let i;return Q(e,ce)?i=e:i=wt.from(e,"truncate"),r(this,i).cast(this.constructor)}toNumber(){return this.value.toNumber()}toString(){return this.value.toString()}[Symbol.toPrimitive](e){return e==="number"?this.toNumber():this.toString()}toABI(e){e.writeArray(this.byteArray)}toJSON(){return this.value.bitLength()>32?this.value.toString():this.value.toNumber()}}ce.abiName="__int";class bo extends ce{}bo.abiName="int8";bo.byteWidth=1;bo.isSigned=!0;class mo extends ce{}mo.abiName="int16";mo.byteWidth=2;mo.isSigned=!0;class wr extends ce{}wr.abiName="int32";wr.byteWidth=4;wr.isSigned=!0;class wt extends ce{}wt.abiName="int64";wt.byteWidth=8;wt.isSigned=!0;class vo extends ce{}vo.abiName="int128";vo.byteWidth=16;vo.isSigned=!0;class Or extends ce{}Or.abiName="uint8";Or.byteWidth=1;Or.isSigned=!1;class Kr extends ce{}Kr.abiName="uint16";Kr.byteWidth=2;Kr.isSigned=!1;class Oe extends ce{}Oe.abiName="uint32";Oe.byteWidth=4;Oe.isSigned=!1;class ye extends ce{}ye.abiName="uint64";ye.byteWidth=8;ye.isSigned=!1;class Xi extends ce{}Xi.abiName="uint128";Xi.byteWidth=16;Xi.isSigned=!1;class yo extends ce{static fromABI(e){return new this(new Ft(e.readVarint32()))}toABI(e){e.writeVarint32(Number(this))}}yo.abiName="varint32";yo.byteWidth=32;yo.isSigned=!0;class go extends ce{static fromABI(e){return new this(new Ft(e.readVaruint32()))}toABI(e){e.writeVaruint32(Number(this))}}go.abiName="varuint32";go.byteWidth=32;go.isSigned=!1;function su(t,e,r){return Ft.min(Ft.max(t,e),r)}function fu(t,e,r){const i=t.isNeg()?255:0,a=(e.isSigned?t.toTwos(e.byteWidth*8):t).toArrayLike(Uint8Array,"le"),o=new Uint8Array(r.byteWidth);o.fill(i),o.set(a.slice(0,r.byteWidth));const s=new Ft(o,void 0,"le");return r.isSigned?s.fromTwos(r.byteWidth*8):s}function cu(t,e){t=Of(t),e=Of(e);const r=t.constructor,i=e.constructor;return r!==i&&(r.isSigned===i.isSigned?r.byteWidth>i.byteWidth?e=e.cast(r):i.byteWidth>r.byteWidth&&(t=t.cast(i)):r.isSigned===!1&&r.byteWidth>=i.byteWidth?e=e.cast(r):i.isSigned===!1&&i.byteWidth>=r.byteWidth?t=t.cast(i):r.isSigned===!0&&r.max.gte(i.max)&&r.min.lte(i.min)?e=e.cast(r):i.isSigned===!0&&i.max.gte(r.max)&&i.min.lte(r.min)&&(t=t.cast(i))),{a:t,b:e}}function Of(t){let e=t;return t.constructor.byteWidth<4&&(e=t.cast(wr)),e}function Xs(t){const e=[],r=[],i=[],n=new Set,a=l=>{let c;return typeof l.type!="string"?c=o(l.type):c=l.type,l.array===!0&&(c+="[]"),l.optional===!0&&(c+="?"),l.extension===!0&&(c+="$"),c},o=l=>{if(l.abiName){if(l.abiName==="__struct")throw new Error("Misconfigured Struct subclass, did you forget @Struct.type?")}else throw new Error("Encountered non-conforming type");if(n.has(l))return l.abiName;if(n.add(l),l.abiAlias)i.push({new_type_name:l.abiName,type:a(l.abiAlias)});else if(l.abiFields){const c=l.abiFields.map(g=>({name:g.name,type:a(g)})),h={base:l.abiBase?o(l.abiBase):"",name:l.abiName,fields:c};e.push(h)}else if(l.abiVariant){const c={name:l.abiName,types:l.abiVariant.map(a)};r.push(c)}return l.abiName},s=o(t);return{abi:De.from({structs:e,variants:r,types:i}),types:Array.from(n),root:s}}function Za(t){let e=typeof t.type=="string"?t.type:t.type.abiName;return t.array===!0&&(e+="[]"),t.optional===!0&&(e+="?"),t.extension===!0&&(e+="$"),e}function du(t){return typeof t!="string"&&t.abiName===void 0&&t.type!==void 0}function Ed(t){return typeof t=="string"?{type:t}:typeof t.abiName<"u"?{type:t}:t}const Md={abiName:"string",abiDefault:()=>"",fromABI:t=>t.readString(),from:t=>t,toABI:(t,e)=>{e.writeString(t)}},Id={abiName:"bool",abiDefault:()=>!1,fromABI:t=>t.readByte()===1,from:t=>t,toABI:(t,e)=>{e.writeByte(t===!0?1:0)}};function lu(){return[Id,Md,se,se.Symbol,se.SymbolCode,xo,X,bi,ke,Bi,Hn,wo,ef,_o,vo,mo,wr,wt,bo,H,ct,mt,tf,xr,Xi,Kr,Oe,ye,Or,yo,go]}function Es(t=[]){const e={},r=lu();for(const i of r)e[i.abiName]=i;for(const i of t){if(!i.abiName)throw new Error("Invalid type");e[i.abiName]=i}return e}function Ys(t){if(t.constructor&&t.constructor.abiName!==void 0)return t.constructor.abiName;if(Array.isArray(t)){const e=t.map(Ys),r=e[0];return!r||!e.every(i=>i===r)?void 0:r+"[]"}switch(typeof t){case"boolean":return"bool";case"string":return"string"}}function Ms(t,e="jsobj"){var r;if(t.constructor&&t.constructor.abiName!==void 0)return t.constructor;if(Array.isArray(t)){const n=t.map(o=>Ms(o,e)),a=n[0];return!a||!n.every(o=>o&&o.abiName===a.abiName)?void 0:a}const i=typeof t;if(i==="object"&&t!==null){const n=Object.keys(t).map(a=>({name:a,type:Ms(t[a],e+"_nested")}));return n.find(a=>!a.type)?void 0:(r=class extends p{},r.abiName=e,r.abiFields=n,r)}switch(i){case"boolean":return Id;case"string":return Md}}class Td extends Error{constructor(e,r){const i=e.codingPath.map(({field:n,type:a})=>typeof n=="number"?n:`${n}<${a.typeName}>`).join(".");super(`Decoding error at ${i}: ${r.message}`),this.stack=r.stack,this.ctx=e,this.underlyingError=r}}Td.__className="DecodingError";function mi(t){const e=Ed(t.type),r=Za(e),i=t.customTypes||[];let n;if(t.abi)n=De.from(t.abi);else try{let s;if(typeof e.type=="string"){const c=Es(i),h=new De.ResolvedType(e.type).name;if(s=c[h],!s)throw new Error(`Unknown type: ${e.type}`)}else s=e.type;const l=Xs(s);n=l.abi,i.push(...l.types)}catch(s){throw Error(`Unable to synthesize ABI for: ${r} (${s.message}). To decode non-class types you need to pass the ABI definition manually.`)}const a=n.resolveType(r);typeof e.type!="string"&&i.unshift(e.type);const o={types:Es(i),codingPath:[{field:"root",type:a}]};try{if(t.data){let s;if(Q(t.data,Yi))s=t.data;else{const l=X.from(t.data);s=new Yi(l.array)}return t.metadata&&(s.metadata=t.metadata),Oa(a,s,o)}else{if(t.object!==void 0)return Dn(t.object,a,o);if(t.json)return Dn(JSON.parse(t.json),a,o);throw new Error("Nothing to decode, you must set one of data, json, object")}}catch(s){throw new Td(o,s)}}const vi=Symbol("Resolved");function Oa(t,e,r){if(r.codingPath.length>32)throw new Error("Maximum decoding depth exceeded");if(t.isExtension&&!e.canRead())return zn(t,r);if(t.isOptional&&e.readByte()===0)return null;if(t.isArray){const n=e.readVaruint32(),a=[];for(let o=0;o<n;o++)r.codingPath.push({field:o,type:t}),a.push(i()),r.codingPath.pop();return a}else return i();function i(){const n=r.types[t.name];if(n&&n.fromABI)return n.fromABI(e);if(t.ref){r.codingPath.push({field:"",type:t.ref});const a=Oa(t.ref,e,r);return r.codingPath.pop(),a}else if(t.fields){const a=t.allFields;if(!a)throw new Error("Invalid struct fields");const o={};for(const s of a)r.codingPath.push({field:s.name,type:s.type}),o[s.name]=Oa(s.type,e,r),r.codingPath.pop();return n?(o[vi]=!0,n.from(o)):o}else if(t.variant){const a=e.readByte(),o=t.variant[a];if(!o)throw new Error(`Unknown variant idx: ${a}`);r.codingPath.push({field:`v${a}`,type:o});const s=[o.typeName,Oa(o,e,r)];return r.codingPath.pop(),n?n.from(s):s}else throw n?new Error("Invalid type"):new Error(t.name==="any"?"Unable to decode 'any' type from binary":"Unknown type")}}function Dn(t,e,r){if(t==null){if(e.isOptional)return null;if(e.isExtension)return zn(e,r);throw new Error(`Unexpectedly encountered ${t} for non-optional`)}else if(e.isArray){if(!Array.isArray(t))throw new Error("Expected array");const n=[],a=t.length;for(let o=0;o<a;o++)r.codingPath.push({field:o,type:e}),n.push(i(t[o])),r.codingPath.pop();return n}else return i(t);function i(n){const a=r.types[e.name];if(e.ref&&!a)return Dn(n,e.ref,r);if(e.fields){if(typeof n!="object")throw new Error("Expected object");if(typeof a=="function"&&Q(n,a))return n;const o=e.allFields;if(!o)throw new Error("Invalid struct fields");const s={};for(const l of o)r.codingPath.push({field:l.name,type:l.type}),s[l.name]=Dn(n[l.name],l.type,r),r.codingPath.pop();return a?(s[vi]=!0,a.from(s)):s}else if(e.variant){let o;Array.isArray(n)&&n.length===2&&typeof n[0]=="string"?(o=n[0],n=n[1]):Q(n,zt)?(o=n.variantName,n=n.value):o=Ys(n);const s=e.variant.findIndex(h=>h.typeName===o);if(s===-1)throw new Error(`Unknown variant type: ${o}`);const l=e.variant[s];r.codingPath.push({field:`v${s}`,type:l});const c=[l.typeName,Dn(n,l,r)];return r.codingPath.pop(),a?(c[vi]=!0,a.from(c)):c}else{if(!a){if(e.name==="any")return n;throw new Error("Unknown type")}return a.from(n)}}}function zn(t,e,r=new Set){if(t.isArray)return[];if(t.isOptional)return null;const i=e.types[t.name];if(i&&i.abiDefault)return i.abiDefault();if(r.has(t.name))throw new Error("Circular type reference");if(r.add(t.name),t.allFields){const n={};for(const a of t.allFields)e.codingPath.push({field:a.name,type:a.type}),n[a.name]=zn(a.type,e,r),e.codingPath.pop();return i?(n[vi]=!0,i.from(n)):n}if(t.variant&&t.variant.length>0){const n=[t.variant[0].typeName,zn(t.variant[0],e)];return i?(n[vi]=!0,i.from(n)):n}if(t.ref){e.codingPath.push({field:"",type:t.ref});const n=zn(t.ref,e,r);return e.codingPath.pop(),n}throw new Error("Unable to determine default value")}class Yi{constructor(e){this.array=e,this.pos=0,this.textDecoder=new TextDecoder("utf-8",{fatal:!0}),this.metadata={},this.data=new DataView(e.buffer,e.byteOffset,e.byteLength)}canRead(e=1){return!(this.pos+e>this.array.byteLength)}ensure(e){if(!this.canRead(e))throw new Error("Read past end of buffer")}setPosition(e){if(e<0||e>this.array.byteLength)throw new Error("Invalid position");this.pos=e}getPosition(){return this.pos}advance(e){this.ensure(e),this.pos+=e}readByte(){return this.ensure(1),this.array[this.pos++]}readFloat(e){this.ensure(e);let r;switch(e){case 4:r=this.data.getFloat32(this.pos,!0);break;case 8:r=this.data.getFloat64(this.pos,!0);break;default:throw new Error("Invalid float size")}return this.pos+=e,r}readVaruint32(){let e=0,r=0;for(;;){const i=this.readByte();if(e|=(i&127)<<r,r+=7,!(i&128))break}return e>>>0}readVarint32(){const e=this.readVaruint32();return e&1?~e>>1|2147483648:e>>>1}readArray(e){this.ensure(e);const r=this.array.subarray(this.pos,this.pos+e);return this.pos+=e,r}readString(){const e=this.readVaruint32();return this.textDecoder.decode(this.readArray(e))}}Yi.__className="ABIDecoder";class Rd extends Error{constructor(e,r){const i=e.codingPath.map(({field:n,type:a})=>typeof n=="number"?n:`${n}<${a.typeName}>`).join(".");super(`Encoding error at ${i}: ${r.message}`),this.stack=r.stack,this.ctx=e,this.underlyingError=r}}Rd.__className="EncodingError";function Dt(t){let e,r;typeof t.type=="string"?r=t.type:t.type&&du(t.type)?(typeof t.type.type!="string"&&(e=t.type.type),r=Za(t.type)):t.type&&t.type.abiName!==void 0?(e=t.type,r=t.type.abiName):(e=Ms(t.object),e&&(r=e.abiName,Array.isArray(t.object)&&(r+="[]")));const i=t.customTypes?t.customTypes.slice():[];if(e)i.unshift(e);else if(r){const l=new De.ResolvedType(r).name;e=i.find(c=>c.abiName===l)}let n;if(t.abi&&r)n=De.from(t.abi).resolveType(r);else if(e){const l=Xs(e);n=l.abi.resolveType(r||e.abiName),i.push(...l.types)}else if(r)n=new De.ResolvedType(r);else throw new Error("Unable to determine the type of the object to be encoded. To encode custom ABI types you must pass the type argument.");const a=Es(i),o=t.encoder||new Qs;t.metadata&&(o.metadata=t.metadata);const s={types:a,encoder:o,codingPath:[{field:"root",type:n}]};try{La(t.object,n,s)}catch(l){throw new Rd(s,l)}return X.from(o.getData())}function La(t,e,r){const i=t!=null;if(e.isOptional&&(r.encoder.writeByte(i?1:0),!i))return;if(e.isArray){if(!Array.isArray(t))throw new Error(`Expected array for: ${e.typeName}`);const a=t.length;r.encoder.writeVaruint32(a);for(let o=0;o<a;o++)r.codingPath.push({field:o,type:e}),n(t[o]),r.codingPath.pop()}else n(t);function n(a){const o=r.types[e.name];if(e.ref&&!o){La(a,e.ref,r);return}if(!i){if(e.isExtension)return;throw new Error(`Found ${a} for non-optional type: ${e.typeName}`)}if(o&&o.toABI)o.toABI(a,r.encoder);else if(typeof a.toABI=="function"&&a.constructor.abiName===e.name)a.toABI(r.encoder);else if(e.fields){if(typeof a!="object")throw new Error(`Expected object for: ${e.name}`);const s=e.allFields;if(!s)throw new Error("Invalid struct fields");for(const l of s)r.codingPath.push({field:l.name,type:l.type}),La(a[l.name],l.type,r),r.codingPath.pop()}else if(e.variant){let s;Array.isArray(a)&&a.length===2&&typeof a[0]=="string"?(s=a[0],a=a[1]):Q(a,zt)?(s=a.variantName,a=a.value):s=Ys(a);const l=e.variant.findIndex(h=>h.typeName===s);if(l===-1){const h=e.variant.map(g=>`'${g.typeName}'`).join(", ");throw new Error(`Unknown variant type '${s}', expected one of ${h}`)}const c=e.variant[l];r.encoder.writeVaruint32(l),r.codingPath.push({field:`v${l}`,type:c}),La(a,c,r),r.codingPath.pop()}else{if(!o)throw new Error(e.name==="any"?"Unable to encode any type to binary":"Unknown type");const s=o.from(a);if(!s.toABI)throw new Error(`Invalid type ${e.name}, no encoding methods implemented`);s.toABI(r.encoder)}}}class Qs{constructor(e=1024){this.pageSize=e,this.pos=0,this.textEncoder=new TextEncoder,this.metadata={};const r=new ArrayBuffer(e);this.data=new DataView(r),this.array=new Uint8Array(r)}ensure(e){if(this.data.byteLength>=this.pos+e)return;const r=Math.ceil(e/this.pageSize),i=this.data.byteLength+this.pageSize*r,n=new ArrayBuffer(i),a=new DataView(n),o=new Uint8Array(n);o.set(this.array),this.data=a,this.array=o}writeByte(e){this.ensure(1),this.array[this.pos++]=e}writeArray(e){const r=e.length;this.ensure(r),this.array.set(e,this.pos),this.pos+=r}writeFloat(e,r){switch(this.ensure(r),r){case 4:this.data.setFloat32(this.pos,e,!0);break;case 8:this.data.setFloat64(this.pos,e,!0);break;default:throw new Error("Invalid float size")}this.pos+=r}writeVaruint32(e){for(this.ensure(4);;)if(e>>>7)this.array[this.pos++]=128|e&127,e=e>>>7;else{this.array[this.pos++]=e;break}}writeVarint32(e){this.writeVaruint32(e<<1^e>>31)}writeString(e){const r=this.textEncoder.encode(e);this.writeVaruint32(r.byteLength),this.writeArray(r)}getData(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.pos)}getBytes(){return new X(this.getData())}}Qs.__className="ABIEncoder";class p{constructor(e){const r=this.constructor;for(const i of r.structFields)this[i.name]=e[i.name]}static from(e){return e[vi]===!0?new this(e):Q(e,this)?e:mi({object:e,type:this})}static get structFields(){const e=[],r=i=>{i.abiBase&&r(i.abiBase);for(const n of i.abiFields||[])e.push(n)};return r(this),e}equals(e){const r=this.constructor;return e.constructor&&typeof e.constructor.abiName=="string"&&e.constructor.abiName!==r.abiName?!1:Dt({object:this}).equals(Dt({object:r.from(e)}))}toJSON(){const e=this.constructor,r={};for(const i of e.structFields)r[i.name]=this[i.name];return r}}p.abiName="__struct";(function(t){const e=Symbol("FieldsOwner");function r(n){return function(a){return a.abiName=n,a}}t.type=r;function i(n,a){return a||(a={}),(o,s)=>{const l=o.constructor;l.abiFields?l.abiFields[e]!==l&&(l.abiBase=l.abiFields[e],l.abiFields=[],l.abiFields[e]=l):(l.abiFields=[],l.abiFields[e]=l),l.abiFields.push({...a,name:s,type:n})}}t.field=i})(p||(p={}));function Di(t){return function(e){return e.abiAlias={type:Object.getPrototypeOf(e.prototype).constructor},e.abiName=t,e}}class zt{constructor(e){const r=this.constructor.abiVariant;this.value=e[1];const i=r.map(Za).findIndex(n=>n===e[0]);if(0>i||r.length<=i)throw new Error(`Unknown variant ${e[0]}`);this.variantIdx=i}static from(e){return e[vi]?new this(e):Q(e,this)?e:mi({object:e,type:this})}equals(e){const i=this.constructor.from(e);return this.variantIdx!==i.variantIdx?!1:Dt({object:this}).equals(Dt({object:i}))}get variantName(){const e=this.constructor.abiVariant[this.variantIdx];return Za(e)}toJSON(){return[this.variantName,this.value]}}zt.abiName="__variant";zt.abiVariant=[];(function(t){function e(r,i){return function(n){return n.abiName=r,n.abiVariant=i.map(Ed),n}}t.type=e})(zt||(zt={}));class ma{constructor(e){if(!Number.isFinite(e))throw new Error("Invalid number");this.value=e}static from(e){return Q(e,this)?e:(typeof e=="string"?e=Number.parseFloat(e):Q(e,ma)&&(e=e.value),new this(e))}static fromABI(e){return new this(e.readFloat(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){const e=po(this.byteWidth),r=new Yi(e);return this.fromABI(r)}equals(e){const r=this.constructor;return this.value===r.from(e).value}toABI(e){const r=this.constructor;e.writeFloat(this.value,r.byteWidth)}toString(){return this.value.toString()}toJSON(){return this.toString()}}ma.abiName="__float";class ef extends ma{toString(){return this.value.toFixed(7)}}ef.abiName="float32";ef.byteWidth=4;class _o extends ma{}_o.abiName="float64";_o.byteWidth=8;class wo{constructor(e){if(e.array.length!==16)throw new Error("Invalid float128");this.data=e}static from(e){return Q(e,this)?e:(typeof e=="string"&&e.startsWith("0x")&&(e=e.slice(2)),new this(X.from(e)))}static fromABI(e){return new this(new X(e.readArray(this.byteWidth)))}static random(){const e=po(16),r=new Yi(e);return this.fromABI(r)}equals(e){const r=this.constructor;return this.data.equals(r.from(e).data)}toABI(e){e.writeArray(this.data.array)}toString(){return"0x"+this.data.hexString}toJSON(){return this.toString()}}wo.abiName="float128";wo.byteWidth=16;class H{constructor(e){this.value=e}get rawValue(){return this.value}static from(e){if(Q(e,H))return e;if(typeof e=="string")return new H(hu(e));if(Q(e,ye))return new H(e);throw new Error("Invalid name")}static fromABI(e){return new H(ye.fromABI(e))}static abiDefault(){return new this(ye.from(0))}equals(e){return this.value.equals(H.from(e).value)}toString(){return uu(this.value)}toABI(e){this.value.toABI(e)}toJSON(){return this.toString()}}H.abiName="name";H.pattern=/^[a-z1-5.]{0,13}$/;function hu(t){function e(n){return n>="a".charCodeAt(0)&&n<="z".charCodeAt(0)?n-"a".charCodeAt(0)+6:n>="1".charCodeAt(0)&&n<="5".charCodeAt(0)?n-"1".charCodeAt(0)+1:0}const r=new Uint8Array(8);let i=63;for(let n=0;n<t.length;++n){let a=e(t.charCodeAt(n));i<5&&(a=a<<1);for(let o=4;o>=0;--o)i>=0&&(r[Math.floor(i/8)]|=(a>>o&1)<<i%8,--i)}return ye.from(r)}function uu(t){const e=t.value.toArray("le",8);let r="";for(let i=63;i>=0;){let n=0;for(let a=0;a<5;++a)i>=0&&(n=n<<1|e[Math.floor(i/8)]>>i%8&1,--i);n>=6?r+=String.fromCharCode(n+"a".charCodeAt(0)-6):n>=1?r+=String.fromCharCode(n+"1".charCodeAt(0)-1):r+="."}for(;r.endsWith(".");)r=r.substr(0,r.length-1);return r}class wn{static from(e){return Q(e,this)?e:Q(e,wn)?this.fromMilliseconds(e.toMilliseconds()):Q(e,Date)?this.fromDate(e):typeof e=="string"?this.fromString(e):this.fromInteger(e)}static fromString(e){const r=Date.parse(e+"Z");if(!Number.isFinite(r))throw new Error("Invalid date string");return this.fromMilliseconds(r)}static fromDate(e){return this.fromMilliseconds(e.getTime())}static abiDefault(){return this.from(0)}toABI(e){this.value.toABI(e)}equals(e){const r=this.constructor;return this.toMilliseconds()===r.from(e).toMilliseconds()}toMilliseconds(){throw new Error("Not implemented")}toDate(){return new Date(this.toMilliseconds())}toJSON(){return this.toString()}}wn.abiName="__time_point_base";class tf extends wn{constructor(e){super(),this.value=e}static fromMilliseconds(e){return new this(wt.from(Math.round(e*1e3)))}static fromInteger(e){return new this(wt.from(e))}static fromABI(e){return new this(wt.fromABI(e))}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.dividing(1e3,"round"))}}tf.abiName="time_point";class xr extends wn{constructor(e){super(),this.value=e}static fromMilliseconds(e){return new this(Oe.from(Math.round(e/1e3)))}static fromInteger(e){return new this(Oe.from(e))}static fromABI(e){return new this(Oe.fromABI(e))}toString(){return this.toDate().toISOString().slice(0,-5)}toMilliseconds(){return Number(this.value.cast(ye).multiplying(1e3))}}xr.abiName="time_point_sec";class xo extends wn{constructor(e){super(),this.value=e}static fromMilliseconds(e){return new this(Oe.from(Math.round((e-9466848e5)/500)))}static fromInteger(e){return new this(Oe.from(e))}static fromABI(e){return new this(Oe.fromABI(e))}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.cast(ye).multiplying(500).adding(9466848e5))}}xo.abiName="block_timestamp_type";class De{constructor(e){this.version=e.version||De.version,this.types=e.types||[],this.variants=e.variants||[],this.structs=e.structs||[],this.actions=e.actions||[],this.tables=e.tables||[],this.ricardian_clauses=e.ricardian_clauses||[]}static from(e){return Q(e,De)?e:typeof e=="string"?new De(JSON.parse(e)):new De(e)}static fromABI(e){const r=e.readString(),i=[],n=e.readVaruint32();for(let R=0;R<n;R++)i.push({new_type_name:e.readString(),type:e.readString()});const a=[],o=e.readVaruint32();for(let R=0;R<o;R++){const I=e.readString(),P=e.readString(),B=e.readVaruint32(),N=[];for(let K=0;K<B;K++)N.push({name:e.readString(),type:e.readString()});a.push({base:P,name:I,fields:N})}const s=[],l=e.readVaruint32();for(let R=0;R<l;R++){const I=H.fromABI(e),P=e.readString(),B=e.readString();s.push({name:I,type:P,ricardian_contract:B})}const c=[],h=e.readVaruint32();for(let R=0;R<h;R++){const I=H.fromABI(e),P=e.readString(),B=[],N=e.readVaruint32();for(let j=0;j<N;j++)B.push(e.readString());const K=[],ee=e.readVaruint32();for(let j=0;j<ee;j++)K.push(e.readString());const $=e.readString();c.push({name:I,index_type:P,key_names:B,key_types:K,type:$})}const g=[],E=e.readVaruint32();for(let R=0;R<E;R++){const I=e.readString(),P=e.readString();g.push({id:I,body:P})}const k=e.readVaruint32();for(let R=0;R<k;R++)e.advance(8),e.advance(e.readVaruint32());const M=e.readVaruint32();for(let R=0;R<M;R++)e.advance(2),e.advance(e.readVaruint32());const T=[];if(e.canRead()){const R=e.readVaruint32();for(let I=0;I<R;I++){const P=e.readString(),B=[],N=e.readVaruint32();for(let K=0;K<N;K++)B.push(e.readString());T.push({name:P,types:B})}}return new De({version:r,types:i,structs:a,actions:s,tables:c,ricardian_clauses:g,variants:T})}toABI(e){e.writeString(this.version),e.writeVaruint32(this.types.length);for(const r of this.types)e.writeString(r.new_type_name),e.writeString(r.type);e.writeVaruint32(this.structs.length);for(const r of this.structs){e.writeString(r.name),e.writeString(r.base),e.writeVaruint32(r.fields.length);for(const i of r.fields)e.writeString(i.name),e.writeString(i.type)}e.writeVaruint32(this.actions.length);for(const r of this.actions)H.from(r.name).toABI(e),e.writeString(r.type),e.writeString(r.ricardian_contract);e.writeVaruint32(this.tables.length);for(const r of this.tables){H.from(r.name).toABI(e),e.writeString(r.index_type),e.writeVaruint32(r.key_names.length);for(const i of r.key_names)e.writeString(i);e.writeVaruint32(r.key_types.length);for(const i of r.key_types)e.writeString(i);e.writeString(r.type)}e.writeVaruint32(this.ricardian_clauses.length);for(const r of this.ricardian_clauses)e.writeString(r.id),e.writeString(r.body);e.writeVaruint32(0),e.writeVaruint32(0),e.writeVaruint32(this.variants.length);for(const r of this.variants){e.writeString(r.name),e.writeVaruint32(r.types.length);for(const i of r.types)e.writeString(i)}}resolveType(e){const r={};return this.resolve({name:e,types:r},{id:0})}resolveAll(){const e={},r={id:0};return{types:this.types.map(i=>this.resolve({name:i.new_type_name,types:e},r)),variants:this.variants.map(i=>this.resolve({name:i.name,types:e},r)),structs:this.structs.map(i=>this.resolve({name:i.name,types:e},r))}}resolve({name:e,types:r},i){const n=r[e];if(n)return n;const a=new De.ResolvedType(e,++i.id);r[a.typeName]=a;const o=this.types.find(c=>c.new_type_name==a.name);if(o)return a.ref=this.resolve({name:o.type,types:r},i),a;const s=this.getStruct(a.name);if(s)return s.base&&(a.base=this.resolve({name:s.base,types:r},i)),a.fields=s.fields.map(c=>({name:c.name,type:this.resolve({name:c.type,types:r},i)})),a;const l=this.getVariant(a.name);return l&&(a.variant=l.types.map(c=>this.resolve({name:c,types:r},i))),a}getStruct(e){return this.structs.find(r=>r.name==e)}getVariant(e){return this.variants.find(r=>r.name==e)}getActionType(e){const r=H.from(e).toString(),i=this.actions.find(n=>n.name.toString()===r);if(i)return i.type}equals(e){const r=De.from(e);return this.version!=r.version||this.types.length!=r.types.length||this.structs.length!=r.structs.length||this.actions.length!=r.actions.length||this.tables.length!=r.tables.length||this.ricardian_clauses.length!=r.ricardian_clauses.length||this.variants.length!=r.variants.length?!1:Dt({object:this}).equals(Dt({object:r}))}toJSON(){return{version:this.version,types:this.types,structs:this.structs,actions:this.actions,tables:this.tables,ricardian_clauses:this.ricardian_clauses,error_messages:[],abi_extensions:[],variants:this.variants}}}De.abiName="abi";De.version="eosio::abi/1.1";(function(t){class e{constructor(i,n=0){let a=i;a.endsWith("$")?(a=a.slice(0,-1),this.isExtension=!0):this.isExtension=!1,a.endsWith("?")?(a=a.slice(0,-1),this.isOptional=!0):this.isOptional=!1,a.endsWith("[]")?(a=a.slice(0,-2),this.isArray=!0):this.isArray=!1,this.id=n,this.name=a}get typeName(){let i=this.name;return this.isArray&&(i+="[]"),this.isOptional&&(i+="?"),this.isExtension&&(i+="$"),i}get allFields(){let i=this;const n=[],a=new Set;do{if(!i.fields||a.has(i.name))return;for(let o=i.fields.length-1;o>=0;o--)n.unshift(i.fields[o]);a.add(i.name),i=i.base}while(i!==void 0);return n}}t.ResolvedType=e})(De||(De={}));class se{constructor(e,r){this.units=e,this.symbol=r}static from(e,r){if(Q(e,se))return e;switch(typeof e){case"number":if(!r)throw new Error("Symbol is required when creating Asset from number");return this.fromFloat(e,r);case"string":return this.fromString(e);default:throw new Error("Invalid asset")}}static fromString(e){const r=(typeof e=="string"?e:"").split(" ");if(r.length!==2)throw new Error("Invalid asset string");const i=r[0].replace(".",""),n=(r[0].split(".")[1]||"").length,a=se.Symbol.fromParts(r[1],n);return new se(wt.from(i),a)}static fromFloat(e,r){const i=se.Symbol.from(r);return new se(i.convertFloat(e),i)}static fromUnits(e,r){return new se(wt.from(e),se.Symbol.from(r))}static fromABI(e){const r=wt.fromABI(e),i=se.Symbol.fromABI(e);return new se(r,i)}static abiDefault(){return new this(wt.from(0),se.Symbol.abiDefault())}equals(e){const{symbol:r,units:i}=se.from(e);return this.symbol.value.equals(r.value)&&this.units.equals(i)}get value(){return this.symbol.convertUnits(this.units)}set value(e){this.units=this.symbol.convertFloat(e)}toABI(e){this.units.toABI(e),this.symbol.toABI(e)}toString(){const e=this.units.toString().split("");let r=!1;e[0]==="-"&&(r=!0,e.shift());const i=this.symbol.precision;for(;e.length<=i;)e.unshift("0");i>0&&e.splice(e.length-i,0,".");let n=e.join("");return r&&(n="-"+n),n+" "+this.symbol.name}toJSON(){return this.toString()}}se.abiName="asset";(function(t){class e{constructor(n){if(Lf(n)>e.maxPrecision)throw new Error("Invalid asset symbol, precision too large");if(!e.symbolNamePattern.test(qf(n)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=n}static from(n){if(Q(n,e))return n;if(Q(n,ye))return new e(n);const a=n.split(",");if(a.length!==2)throw new Error("Invalid symbol string");const o=Number.parseInt(a[0]);return e.fromParts(a[1],o)}static fromParts(n,a){return new e(pu(n,a))}static fromABI(n){return new e(ye.fromABI(n))}static abiDefault(){return this.from("4,SYS")}equals(n){return this.value.equals(e.from(n).value)}get name(){return qf(this.value)}get precision(){return Lf(this.value)}get code(){return new r(ye.from(this.value.value.clone().iushrn(8)))}toABI(n){this.value.toABI(n)}convertUnits(n){return n.value.toNumber()/Math.pow(10,this.precision)}convertFloat(n){return wt.from(n.toFixed(this.precision).replace(".",""))}toString(){return`${this.precision},${this.name}`}toJSON(){return this.toString()}}e.abiName="symbol",e.symbolNamePattern=/^[A-Z]{1,7}$/,e.maxPrecision=18,t.Symbol=e;class r{constructor(n){this.value=n}static from(n){return Q(n,r)?n:(typeof n=="string"&&(n=ye.from(Cd(n))),new this(ye.from(n)))}static fromABI(n){return new r(ye.fromABI(n))}static abiDefault(){return this.from("SYS")}equals(n){return this.value.equals(r.from(n).value)}toABI(n){this.value.toABI(n)}toString(){return Pd(this.value.value.toArray("be"))}toJSON(){return this.toString()}}r.abiName="symbol_code",t.SymbolCode=r})(se||(se={}));class Hn{constructor(e,r){this.quantity=e,this.contract=r}static from(e){return Q(e,Hn)?e:new this(se.from(e.quantity),H.from(e.contract))}static fromABI(e){return new Hn(se.fromABI(e),H.fromABI(e))}equals(e){return this.quantity.equals(e.quantity)&&this.contract.equals(e.contract)}toABI(e){this.quantity.toABI(e),this.contract.toABI(e)}toJSON(){return{quantity:this.quantity,contract:this.contract}}}Hn.abiName="extended_asset";function Lf(t){return t.value.and(ye.from(255).value).toNumber()}function qf(t){const e=t.value.toArray("be").slice(0,-1);return Pd(e)}function Pd(t){return t.map(e=>String.fromCharCode(e)).reverse().join("")}function pu(t,e){const r=Cd(t),i=new Uint8Array(r.length+1);return i[0]=e,i.set(r,1),ye.from(i)}function Cd(t){const e=Math.min(t.length,7),r=new Uint8Array(e);for(let i=0;i<e;i++)r[i]=t.charCodeAt(i);return r}var St;(function(t){let e;(function(M){M.E_CHECKSUM="E_CHECKSUM",M.E_INVALID="E_INVALID"})(e=t.ErrorCode||(t.ErrorCode={}));class r extends Error{constructor(T,R,I={}){super(T),this.code=R,this.info=I}}r.__className="DecodingError",t.DecodingError=r;const i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n=new Int16Array(255).fill(-1);for(let M=0;M<58;++M)n[i.charCodeAt(M)]=M;function a(M,T){if(T==null)return g(M);const R=new Uint8Array(T);for(let I=0;I<M.length;++I){let P=n[M.charCodeAt(I)];if(P<0)throw new r("Invalid Base58 character encountered",e.E_INVALID,{char:M[I]});for(let B=0;B<T;++B){const N=R[B]*58+P;R[B]=N,P=N>>8}if(P)throw new r("Base58 value is out of range",e.E_INVALID)}return R.reverse(),new X(R)}t.decode=a;function o(M,T){const R=a(M,T!=null?T+4:T),I=R.array.subarray(0,-4),P=R.array.subarray(-4),B=k(I);if(!Wa(P,B))throw new r("Checksum mismatch",e.E_CHECKSUM,{actual:B,expected:P,data:I,hash:"double_sha256"});return new X(I)}t.decodeCheck=o;function s(M,T,R){const I=a(M,T!=null?T+4:T),P=I.array.subarray(0,-4),B=I.array.subarray(-4),N=E(P,R);if(!Wa(B,N))throw new r("Checksum mismatch",e.E_CHECKSUM,{actual:N,expected:B,data:P,hash:"ripemd160"});return new X(P)}t.decodeRipemd160Check=s;function l(M){M=X.from(M);const T=[];for(const R of M.array){let I=R;for(let P=0;P<T.length;++P){const B=(n[T[P]]<<8)+I;T[P]=i.charCodeAt(B%58),I=B/58|0}for(;I;)T.push(i.charCodeAt(I%58)),I=I/58|0}for(const R of M.array){if(R)break;T.push("1".charCodeAt(0))}return T.reverse(),String.fromCharCode(...T)}t.encode=l;function c(M){return M=X.from(M),M=M.appending(k(M.array)),l(M)}t.encodeCheck=c;function h(M,T){return M=X.from(M),M=M.appending(E(M.array,T)),l(M)}t.encodeRipemd160Check=h;function g(M){const T=[];for(let R=0;R<M.length;++R){let I=n[M.charCodeAt(R)];if(I<0)throw new r("Invalid Base58 character encountered",e.E_INVALID,{char:M[R]});for(let P=0;P<T.length;++P){const B=T[P]*58+I;T[P]=B&255,I=B>>8}I&&T.push(I)}for(const R of M)if(R==="1")T.push(0);else break;return T.reverse(),X.from(T)}function E(M,T){const R=Qt.ripemd160().update(M);return T&&R.update(T),new Uint8Array(R.digest().slice(0,4))}function k(M){const T=Qt.sha256().update(M).digest(),R=Qt.sha256().update(T).digest();return new Uint8Array(R.slice(0,4))}})(St||(St={}));class ct{constructor(e,r){this.type=e,this.data=r}static from(e){if(Q(e,ct))return e;if(typeof e=="object"&&e.type&&e.compressed)return new ct(de.from(e.type),new X(e.compressed));if(typeof e!="string")throw new Error("Invalid public key");if(e.startsWith("PUB_")){const r=e.split("_");if(r.length!==3)throw new Error("Invalid public key string");const i=de.from(r[1]),n=i===de.K1||i===de.R1?33:void 0,a=St.decodeRipemd160Check(r[2],n,i);return new ct(i,a)}else if(e.length>=50){const r=St.decodeRipemd160Check(e.slice(-50));return new ct(de.K1,r)}else throw new Error("Invalid public key string")}static fromABI(e){const r=de.from(e.readByte());if(r==de.WA){const i=e.getPosition();e.advance(33),e.advance(1),e.advance(e.readVaruint32());const n=e.getPosition()-i;e.setPosition(i);const a=X.from(e.readArray(n));return new ct(de.WA,a)}return new ct(r,new X(e.readArray(33)))}equals(e){const r=ct.from(e);return this.type===r.type&&this.data.equals(r.data)}toLegacyString(e="EOS"){if(this.type!==de.K1)throw new Error("Unable to create legacy formatted string for non-K1 key");return`${e}${St.encodeRipemd160Check(this.data)}`}toString(){return`PUB_${this.type}_${St.encodeRipemd160Check(this.data,this.type)}`}toABI(e){e.writeByte(de.indexFor(this.type)),e.writeArray(this.data.array)}toJSON(){return this.toString()}}ct.abiName="public_key";const es={};function xn(t){let e=es[t];if(!e)if(t==="K1")e=es[t]=new As.ec("secp256k1");else if(t==="R1")e=es[t]=new As.ec("p256");else throw new Error(`Unknown curve type: ${t}`);return e}function bu(t,e,r){const i=xn(r),n=t[0]-31,a=t.subarray(1,33),o=t.subarray(33),s=i.recoverPubKey(e,{r:a,s:o},n);return new Uint8Array(s.encodeCompressed())}function mu(t,e,r,i){const n=xn(i),a=t.subarray(1,33),o=t.subarray(33);return n.verify(e,{r:a,s:o},r)}class mt{constructor(e,r){this.type=e,this.data=r}static from(e){if(Q(e,mt))return e;if(typeof e=="object"&&e.r&&e.s){const r=new Uint8Array(65);let i=e.recid;const n=de.from(e.type);return(e.type===de.K1||e.type===de.R1)&&(i+=31),r[0]=i,r.set(e.r,1),r.set(e.s,33),new mt(n,new X(r))}if(typeof e!="string")throw new Error("Invalid signature");if(e.startsWith("SIG_")){const r=e.split("_");if(r.length!==3)throw new Error("Invalid signature string");const i=de.from(r[1]),n=i===de.K1||i===de.R1?65:void 0,a=St.decodeRipemd160Check(r[2],n,i);return new mt(i,a)}else throw new Error("Invalid signature string")}static fromABI(e){const r=de.from(e.readByte());if(r===de.WA){const i=e.getPosition();e.advance(65),e.advance(e.readVaruint32()),e.advance(e.readVaruint32());const n=e.getPosition()-i;e.setPosition(i);const a=X.from(e.readArray(n));return new mt(de.WA,a)}return new mt(r,new X(e.readArray(65)))}equals(e){const r=mt.from(e);return this.type===r.type&&this.data.equals(r.data)}recoverDigest(e){e=ke.from(e);const r=bu(this.data.array,e.array,this.type);return ct.from({compressed:r,type:this.type})}recoverMessage(e){return this.recoverDigest(ke.hash(e))}verifyDigest(e,r){return e=ke.from(e),mu(this.data.array,e.array,r.data.array,this.type)}verifyMessage(e,r){return this.verifyDigest(ke.hash(e),r)}toString(){return`SIG_${this.type}_${St.encodeRipemd160Check(this.data,this.type)}`}toABI(e){e.writeByte(de.indexFor(this.type)),e.writeArray(this.data.array)}toJSON(){return this.toString()}}mt.abiName="signature";function vu(t,e){const n=xn(e).keyFromPrivate(t).getPublic();return new Uint8Array(n.encodeCompressed())}function yu(t,e,r){const i=xn(r),n=i.keyFromPrivate(t),a=i.keyFromPublic(e).getPublic();return n.derive(a).toArrayLike(Uint8Array,"be")}function gu(t,e,r){const n=xn(r).keyFromPrivate(t);let a,o,s;if(r==="K1"){let l=1;do a=n.sign(e,{canonical:!0,pers:[l++]}),o=a.r.toArrayLike(Uint8Array,"be",32),s=a.s.toArrayLike(Uint8Array,"be",32);while(!_u(o,s))}else a=n.sign(e,{canonical:!0}),o=a.r.toArrayLike(Uint8Array,"be",32),s=a.s.toArrayLike(Uint8Array,"be",32);return{type:r,r:o,s,recid:a.recoveryParam||0}}function _u(t,e){return!(t[0]&128)&&!(t[0]===0&&!(t[1]&128))&&!(e[0]&128)&&!(e[0]===0&&!(e[1]&128))}function wu(t){return xn(t).genKeyPair().getPrivate().toArrayLike(Uint8Array,"be")}class Vn{constructor(e,r){this.type=e,this.data=r}static from(e){return Q(e,Vn)?e:this.fromString(e)}static fromString(e,r=!1){try{const{type:i,data:n}=xu(e);return new this(i,n)}catch(i){if(i.message=`Invalid private key (${i.message})`,r&&Q(i,St.DecodingError)&&i.code===St.ErrorCode.E_CHECKSUM){const n=e.startsWith("PVT_R1")?de.R1:de.K1;let a=new X(i.info.data);return a.array.length==33&&(a=a.droppingFirst()),new this(n,a)}throw i}}static generate(e){return new Vn(de.from(e),new X(wu(e)))}signDigest(e){return e=ke.from(e),mt.from(gu(this.data.array,e.array,this.type))}signMessage(e){return this.signDigest(ke.hash(e))}sharedSecret(e){const r=yu(this.data.array,e.data.array,this.type);return Bi.hash(r)}toPublic(){const e=vu(this.data.array,this.type);return ct.from({compressed:e,type:this.type})}toWif(){if(this.type!==de.K1)throw new Error("Unable to generate WIF for non-k1 key");return St.encodeCheck(X.from([128]).appending(this.data))}toString(){return`PVT_${this.type}_${St.encodeRipemd160Check(this.data,this.type)}`}toJSON(){return this.toString()}}function xu(t){const e=typeof t;if(e!=="string")throw new Error(`Expected string, got ${e}`);if(t.startsWith("PVT_")){const r=t.split("_");if(r.length!==3)throw new Error("Invalid PVT format");const i=de.from(r[1]);let n;switch(i){case de.K1:case de.R1:n=32;break}const a=St.decodeRipemd160Check(r[2],n,i);return{type:i,data:a}}else{const r=de.K1,i=St.decodeCheck(t);if(i.array[0]!==128)throw new Error("Invalid WIF");return{type:r,data:i.droppingFirst()}}}var Is;let $e=Is=class extends p{static from(e){if(typeof e=="string"){const r=e.split("@");if(r.length!==2&&r[0].length>0&&r[1].length>0)throw new Error("Invalid permission level string, should be in the format <actor>@<permission>");e={actor:r[0],permission:r[1]}}return super.from(e)}equals(e){const r=Is.from(e);return this.actor.equals(r.actor)&&this.permission.equals(r.permission)}toString(){return`${this.actor}@${this.permission}`}};_([p.field("name")],$e.prototype,"actor",void 0);_([p.field("name")],$e.prototype,"permission",void 0);$e=Is=_([p.type("permission_level")],$e);var Ts;let it=Ts=class extends p{static from(e,r){const i=e.data;if(!X.isBytes(i)){let n;if(r)n=De.from(r).getActionType(e.name);else if(!i.constructor||i.constructor.abiName===void 0)throw new Error("Missing ABI definition when creating action with untyped action data");e={...e,data:Dt({object:i,type:n,abi:r})}}return super.from(e)}equals(e){const r=Ts.from(e);return this.account.equals(r.account)&&this.name.equals(r.name)&&au(this.authorization,r.authorization)&&this.data.equals(r.data)}decodeData(e){if(typeof e=="string"||e.abiName)return mi({data:this.data,type:e});{const r=De.from(e),i=r.getActionType(this.name);if(!i)throw new Error(`Action ${this.name} does not exist in provided ABI`);return mi({data:this.data,type:i,abi:r})}}};_([p.field("name")],it.prototype,"account",void 0);_([p.field("name")],it.prototype,"name",void 0);_([p.field($e,{array:!0})],it.prototype,"authorization",void 0);_([p.field("bytes")],it.prototype,"data",void 0);it=Ts=_([p.type("action")],it);var Rs;let Kn=class extends p{};_([p.field("uint16")],Kn.prototype,"type",void 0);_([p.field("bytes")],Kn.prototype,"data",void 0);Kn=_([p.type("transaction_extension")],Kn);let or=class extends p{static from(e){return super.from({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...e})}};_([p.field("time_point_sec")],or.prototype,"expiration",void 0);_([p.field("uint16")],or.prototype,"ref_block_num",void 0);_([p.field("uint32")],or.prototype,"ref_block_prefix",void 0);_([p.field("varuint32")],or.prototype,"max_net_usage_words",void 0);_([p.field("uint8")],or.prototype,"max_cpu_usage_ms",void 0);_([p.field("varuint32")],or.prototype,"delay_sec",void 0);or=_([p.type("transaction_header")],or);let xt=Rs=class extends or{static from(e,r){const i=l=>{if(r)return Array.isArray(r)?r.filter(c=>H.from(c.contract).equals(l)).map(({abi:c})=>c)[0]:r},n=l=>it.from(l,i(l.account)),a=(e.actions||[]).map(n),o=(e.context_free_actions||[]).map(n),s={transaction_extensions:[],...e,context_free_actions:o,actions:a};return super.from(s)}equals(e){const r=Rs.from(e);return this.id.equals(r.id)}get id(){return ke.hash(Dt({object:this}))}signingDigest(e){const r=this.signingData(e);return ke.hash(r)}signingData(e){let r=X.from(ke.from(e).array);return r=r.appending(Dt({object:this})),r=r.appending(new Uint8Array(32)),r}};_([p.field(it,{array:!0})],xt.prototype,"context_free_actions",void 0);_([p.field(it,{array:!0})],xt.prototype,"actions",void 0);_([p.field(Kn,{array:!0})],xt.prototype,"transaction_extensions",void 0);xt=Rs=_([p.type("transaction")],xt);let yi=class extends xt{static from(e){return super.from({signatures:[],context_free_data:[],...e})}};_([p.field("signature[]")],yi.prototype,"signatures",void 0);_([p.field("bytes[]")],yi.prototype,"context_free_data",void 0);yi=_([p.type("signed_transaction")],yi);let jr=class extends p{static from(e){return super.from({signatures:[],packed_context_free_data:"",compression:0,...e})}static fromSigned(e){const r=xt.from(e);return this.from({signatures:e.signatures,packed_context_free_data:Dt({object:e.context_free_data,type:"bytes[]"}),packed_trx:Dt({object:r})})}getTransaction(){if(Number(this.compression)!==0)throw new Error("Transaction compression not supported yet");return mi({data:this.packed_trx,type:xt})}getSignedTransaction(){const e=this.getTransaction();return yi.from({...e,signatures:this.signatures})}};_([p.field("signature[]")],jr.prototype,"signatures",void 0);_([p.field("uint8")],jr.prototype,"compression",void 0);_([p.field("bytes")],jr.prototype,"packed_context_free_data",void 0);_([p.field("bytes")],jr.prototype,"packed_trx",void 0);jr=_([p.type("packed_transaction")],jr);let gi=class extends p{};_([p.field("string")],gi.prototype,"status",void 0);_([p.field("uint32")],gi.prototype,"cpu_usage_us",void 0);_([p.field("uint32")],gi.prototype,"net_usage_words",void 0);gi=_([p.type("transaction_receipt")],gi);var Ps;let jn=class extends Kr{};jn=_([Di("weight_type")],jn);let Wn=class extends p{};_([p.field(ct)],Wn.prototype,"key",void 0);_([p.field(jn)],Wn.prototype,"weight",void 0);Wn=_([p.type("key_weight")],Wn);let Zn=class extends p{};_([p.field($e)],Zn.prototype,"permission",void 0);_([p.field(jn)],Zn.prototype,"weight",void 0);Zn=_([p.type("permission_level_weight")],Zn);let Gn=class extends p{};_([p.field(Oe)],Gn.prototype,"wait_sec",void 0);_([p.field(jn)],Gn.prototype,"weight",void 0);Gn=_([p.type("wait_weight")],Gn);let Wr=Ps=class extends p{static from(e){if(Q(e,Ps))return e;const r=super.from({keys:[],accounts:[],waits:[],...e});return r.sort(),r}get waitThreshold(){return this.waits.reduce((e,r)=>e+r.weight.toNumber(),0)}get keyThreshold(){return this.threshold.toNumber()-this.waitThreshold}keyWeight(e){const r=this.keys.find(({key:i})=>i.equals(e));return r?r.weight.toNumber():0}hasPermission(e,r=!1){const i=r?1:this.keyThreshold;return this.keyWeight(e)>=i}sort(){this.keys.sort((e,r)=>String(e.key).localeCompare(String(r.key))),this.accounts.sort((e,r)=>String(e.permission).localeCompare(String(r.permission))),this.waits.sort((e,r)=>String(e.wait_sec).localeCompare(String(r.wait_sec)))}};_([p.field(Oe)],Wr.prototype,"threshold",void 0);_([p.field(Wn,{array:!0})],Wr.prototype,"keys",void 0);_([p.field(Zn,{array:!0})],Wr.prototype,"accounts",void 0);_([p.field(Gn,{array:!0})],Wr.prototype,"waits",void 0);Wr=Ps=_([p.type("authority")],Wr);var pe;(function(t){t.encode=Dt,t.decode=mi;function e(n){return Xs(n).abi}t.synthesize=e;function r(n){return JSON.stringify(n)}t.stringify=r;function i(n){const a=o=>{switch(typeof o){case"boolean":case"number":case"string":return o;case"object":{if(o===null)return o;if(typeof o.toJSON=="function")return a(o.toJSON());if(Array.isArray(o))return o.map(a);const s={};for(const l of Object.keys(o))s[l]=a(o[l]);return s}}};return a(n)}t.objectify=i})(pe||(pe={}));class Su{constructor(e,r={}){if(e=e.trim(),e.endsWith("/")&&(e=e.slice(0,-1)),this.url=e,r.fetch)this.fetch=r.fetch;else if(typeof window<"u"&&window.fetch)this.fetch=window.fetch.bind(window);else if(typeof global<"u"&&global.fetch)this.fetch=global.fetch.bind(global);else throw new Error("Missing fetch")}async call(e,r){const i=this.url+e,n=await this.fetch(i,{method:"POST",body:r!==void 0?JSON.stringify(r):void 0}),a=await n.text();let o;try{o=JSON.parse(a)}catch{}const s={};for(const[l,c]of n.headers.entries())s[l]=c;return{headers:s,status:n.status,json:o,text:a}}}let _i=class extends p{};_([p.field("name")],_i.prototype,"perm_name",void 0);_([p.field("name")],_i.prototype,"parent",void 0);_([p.field(Wr)],_i.prototype,"required_auth",void 0);_i=_([p.type("account_permission")],_i);let Zr=class extends p{};_([p.field("int64")],Zr.prototype,"used",void 0);_([p.field("int64")],Zr.prototype,"available",void 0);_([p.field("int64")],Zr.prototype,"max",void 0);Zr=_([p.type("account_resource_limit")],Zr);let Gr=class extends p{};_([p.field("name")],Gr.prototype,"owner",void 0);_([p.field("asset")],Gr.prototype,"net_weight",void 0);_([p.field("asset")],Gr.prototype,"cpu_weight",void 0);_([p.field("uint64")],Gr.prototype,"ram_bytes",void 0);Gr=_([p.type("account_total_resources")],Gr);let Jr=class extends p{};_([p.field("name")],Jr.prototype,"from",void 0);_([p.field("name")],Jr.prototype,"to",void 0);_([p.field("asset")],Jr.prototype,"net_weight",void 0);_([p.field("asset")],Jr.prototype,"cpu_weight",void 0);Jr=_([p.type("account_self_delegated_bandwidth")],Jr);let Xr=class extends p{};_([p.field("name")],Xr.prototype,"owner",void 0);_([p.field("time_point")],Xr.prototype,"request_time",void 0);_([p.field("asset")],Xr.prototype,"net_amount",void 0);_([p.field("asset")],Xr.prototype,"cpu_amount",void 0);Xr=_([p.type("account_refund_request")],Xr);let Ot=class extends p{};_([p.field("name")],Ot.prototype,"owner",void 0);_([p.field("name")],Ot.prototype,"proxy",void 0);_([p.field("name",{array:!0})],Ot.prototype,"producers",void 0);_([p.field("int64",{optional:!0})],Ot.prototype,"staked",void 0);_([p.field("bool")],Ot.prototype,"is_proxy",void 0);_([p.field("uint32",{optional:!0})],Ot.prototype,"flags1",void 0);_([p.field("uint32")],Ot.prototype,"reserved2",void 0);_([p.field("string")],Ot.prototype,"reserved3",void 0);Ot=_([p.type("account_voter_info")],Ot);let Yr=class extends p{};_([p.field("time_point",{optional:!0})],Yr.prototype,"key",void 0);_([p.field("int64",{optional:!0})],Yr.prototype,"value",void 0);_([p.field("time_point",{optional:!0})],Yr.prototype,"first",void 0);_([p.field("int64",{optional:!0})],Yr.prototype,"second",void 0);Yr=_([p.type("account_rex_info_maturities")],Yr);let sr=class extends p{};_([p.field("uint32")],sr.prototype,"version",void 0);_([p.field("name")],sr.prototype,"owner",void 0);_([p.field("asset")],sr.prototype,"vote_stake",void 0);_([p.field("asset")],sr.prototype,"rex_balance",void 0);_([p.field("int64")],sr.prototype,"matured_rex",void 0);_([p.field(Yr,{array:!0})],sr.prototype,"rex_maturities",void 0);sr=_([p.type("account_rex_info")],sr);let Ee=class extends p{getPermission(e){const r=H.from(e),i=this.permissions.find(n=>n.perm_name.equals(r));if(!i)throw new Error(`Unknown permission ${r} on account ${this.account_name}.`);return i}};_([p.field("name")],Ee.prototype,"account_name",void 0);_([p.field("uint32")],Ee.prototype,"head_block_num",void 0);_([p.field("time_point")],Ee.prototype,"head_block_time",void 0);_([p.field("bool")],Ee.prototype,"privileged",void 0);_([p.field("time_point")],Ee.prototype,"last_code_update",void 0);_([p.field("time_point")],Ee.prototype,"created",void 0);_([p.field("asset?")],Ee.prototype,"core_liquid_balance",void 0);_([p.field("int64")],Ee.prototype,"ram_quota",void 0);_([p.field("int64")],Ee.prototype,"net_weight",void 0);_([p.field("int64")],Ee.prototype,"cpu_weight",void 0);_([p.field(Zr)],Ee.prototype,"net_limit",void 0);_([p.field(Zr)],Ee.prototype,"cpu_limit",void 0);_([p.field("uint64")],Ee.prototype,"ram_usage",void 0);_([p.field(_i,{array:!0})],Ee.prototype,"permissions",void 0);_([p.field(Gr)],Ee.prototype,"total_resources",void 0);_([p.field(Jr,{optional:!0})],Ee.prototype,"self_delegated_bandwidth",void 0);_([p.field(Xr,{optional:!0})],Ee.prototype,"refund_request",void 0);_([p.field(Ot,{optional:!0})],Ee.prototype,"voter_info",void 0);_([p.field(sr,{optional:!0})],Ee.prototype,"rex_info",void 0);Ee=_([p.type("account_object")],Ee);let Qi=class extends p{};_([p.field("name")],Qi.prototype,"producer_name",void 0);_([p.field("public_key")],Qi.prototype,"block_signing_key",void 0);Qi=_([p.type("new_producers_entry")],Qi);let en=class extends p{};_([p.field("uint32")],en.prototype,"version",void 0);_([p.field(Qi,{array:!0})],en.prototype,"producers",void 0);en=_([p.type("new_producers")],en);let Jn=class extends p{};_([p.field("uint16")],Jn.prototype,"type",void 0);_([p.field("bytes")],Jn.prototype,"data",void 0);Jn=_([p.type("block_extension")],Jn);let tn=class extends p{};_([p.field("uint16")],tn.prototype,"type",void 0);_([p.field("bytes")],tn.prototype,"data",void 0);tn=_([p.type("header_extension")],tn);class rf{constructor(e,r){this.id=e,this.extra=r}static from(e){let r,i;return typeof e=="string"?(r=ke.from(e),i={}):(r=ke.from(e.id),i=e),new this(r,i)}get transaction(){if(this.extra.packed_trx)return pe.decode({data:this.extra.packed_trx,type:xt})}get signatures(){if(this.extra.signatures)return this.extra.signatures.map(mt.from)}equals(e){return this.id.equals(e.id)}toJSON(){return this.id}}rf.abiName="trx_variant";let Xn=class extends gi{get id(){return this.trx.id}};_([p.field(rf)],Xn.prototype,"trx",void 0);Xn=_([p.type("get_block_response_receipt")],Xn);let tt=class extends p{};_([p.field("time_point")],tt.prototype,"timestamp",void 0);_([p.field("name")],tt.prototype,"producer",void 0);_([p.field("uint16")],tt.prototype,"confirmed",void 0);_([p.field("checksum256")],tt.prototype,"previous",void 0);_([p.field("checksum256")],tt.prototype,"transaction_mroot",void 0);_([p.field("checksum256")],tt.prototype,"action_mroot",void 0);_([p.field("uint32")],tt.prototype,"schedule_version",void 0);_([p.field(en,{optional:!0})],tt.prototype,"new_producers",void 0);_([p.field("header_extension",{optional:!0})],tt.prototype,"header_extensions",void 0);_([p.field("any",{optional:!0})],tt.prototype,"new_protocol_features",void 0);_([p.field("signature")],tt.prototype,"producer_signature",void 0);_([p.field(Xn,{array:!0})],tt.prototype,"transactions",void 0);_([p.field("block_extension",{optional:!0})],tt.prototype,"block_extensions",void 0);_([p.field("checksum256")],tt.prototype,"id",void 0);_([p.field("uint32")],tt.prototype,"block_num",void 0);_([p.field("uint32")],tt.prototype,"ref_block_prefix",void 0);tt=_([p.type("get_block_response")],tt);let rn=class extends p{};_([p.field("name")],rn.prototype,"producer_name",void 0);_([p.field("any")],rn.prototype,"authority",void 0);rn=_([p.type("active_schedule_producer_authority")],rn);let nn=class extends p{};_([p.field("name")],nn.prototype,"producer_name",void 0);_([p.field(rn)],nn.prototype,"authority",void 0);nn=_([p.type("active_schedule_producer")],nn);let Yn=class extends p{};_([p.field("uint32")],Yn.prototype,"version",void 0);_([p.field(nn,{array:!0})],Yn.prototype,"producers",void 0);Yn=_([p.type("active_schedule")],Yn);let It=class extends p{};_([p.field("time_point")],It.prototype,"timestamp",void 0);_([p.field("name")],It.prototype,"producer",void 0);_([p.field("uint16")],It.prototype,"confirmed",void 0);_([p.field("checksum256")],It.prototype,"previous",void 0);_([p.field("checksum256")],It.prototype,"transaction_mroot",void 0);_([p.field("checksum256")],It.prototype,"action_mroot",void 0);_([p.field("uint32")],It.prototype,"schedule_version",void 0);_([p.field(tn,{array:!0,optional:!0})],It.prototype,"header_extensions",void 0);_([p.field("signature")],It.prototype,"producer_signature",void 0);It=_([p.type("block_state_header")],It);let ut=class extends p{};_([p.field("uint32")],ut.prototype,"block_num",void 0);_([p.field("uint32")],ut.prototype,"dpos_proposed_irreversible_blocknum",void 0);_([p.field("uint32")],ut.prototype,"dpos_irreversible_blocknum",void 0);_([p.field("checksum256")],ut.prototype,"id",void 0);_([p.field(It)],ut.prototype,"header",void 0);_([p.field("any")],ut.prototype,"active_schedule",void 0);_([p.field("any")],ut.prototype,"blockroot_merkle",void 0);_([p.field("any")],ut.prototype,"producer_to_last_produced",void 0);_([p.field("any")],ut.prototype,"producer_to_last_implied_irb",void 0);_([p.field("any")],ut.prototype,"valid_block_signing_authority",void 0);_([p.field("any")],ut.prototype,"confirm_count",void 0);_([p.field("any")],ut.prototype,"pending_schedule",void 0);_([p.field("any")],ut.prototype,"activated_protocol_features",void 0);_([p.field("any")],ut.prototype,"additional_signatures",void 0);ut=_([p.type("get_block_header_state_response")],ut);let nt=class extends p{getTransactionHeader(e=120){const r=xr.fromMilliseconds(this.head_block_time.toMilliseconds()+e*1e3),n=this.last_irreversible_block_id.array.subarray(8,12),a=new Uint32Array(n.buffer,n.byteOffset,1)[0];return or.from({expiration:r,ref_block_num:Number(this.last_irreversible_block_num)&65535,ref_block_prefix:a})}};_([p.field("string")],nt.prototype,"server_version",void 0);_([p.field("checksum256")],nt.prototype,"chain_id",void 0);_([p.field("uint32")],nt.prototype,"head_block_num",void 0);_([p.field("uint32")],nt.prototype,"last_irreversible_block_num",void 0);_([p.field("checksum256")],nt.prototype,"last_irreversible_block_id",void 0);_([p.field("checksum256")],nt.prototype,"head_block_id",void 0);_([p.field("time_point")],nt.prototype,"head_block_time",void 0);_([p.field("name")],nt.prototype,"head_block_producer",void 0);_([p.field("uint64")],nt.prototype,"virtual_block_cpu_limit",void 0);_([p.field("uint64")],nt.prototype,"virtual_block_net_limit",void 0);_([p.field("uint64")],nt.prototype,"block_cpu_limit",void 0);_([p.field("uint64")],nt.prototype,"block_net_limit",void 0);_([p.field("string?")],nt.prototype,"server_version_string",void 0);_([p.field("uint32?")],nt.prototype,"fork_db_head_block_num",void 0);_([p.field("checksum256?")],nt.prototype,"fork_db_head_block_id",void 0);nt=_([p.type("get_info_response")],nt);let Sr=class extends p{};_([p.field("name")],Sr.prototype,"code",void 0);_([p.field("name")],Sr.prototype,"scope",void 0);_([p.field("name")],Sr.prototype,"table",void 0);_([p.field("name")],Sr.prototype,"payer",void 0);_([p.field("uint32")],Sr.prototype,"count",void 0);Sr=_([p.type("get_table_by_scope_response_row")],Sr);let an=class extends p{};_([p.field(Sr,{array:!0})],an.prototype,"rows",void 0);_([p.field("string")],an.prototype,"more",void 0);an=_([p.type("get_table_by_scope_response")],an);let fr=class extends p{};_([p.field(ye)],fr.prototype,"global_action_seq",void 0);_([p.field(wt)],fr.prototype,"account_action_seq",void 0);_([p.field(Oe)],fr.prototype,"block_num",void 0);_([p.field(xo)],fr.prototype,"block_time",void 0);_([p.field("any")],fr.prototype,"action_trace",void 0);_([p.field("boolean?")],fr.prototype,"irrevirsible",void 0);fr=_([p.type("ordered_action_result")],fr);let Qr=class extends p{};_([p.field(fr,{array:!0})],Qr.prototype,"actions",void 0);_([p.field(wr)],Qr.prototype,"last_irreversible_block",void 0);_([p.field(wr)],Qr.prototype,"head_block_num",void 0);_([p.field("boolean?")],Qr.prototype,"time_limit_exceeded_error",void 0);Qr=_([p.type("get_actions_response")],Qr);let Cs=class extends p{};Cs=_([p.type("transaction_trace")],Cs);let Tt=class extends p{};_([p.field("any")],Tt.prototype,"actions",void 0);_([p.field("any")],Tt.prototype,"context_free_actions",void 0);_([p.field("any")],Tt.prototype,"context_free_data",void 0);_([p.field("number")],Tt.prototype,"delay_sec",void 0);_([p.field("string")],Tt.prototype,"expiration",void 0);_([p.field("number")],Tt.prototype,"max_cpu_usage_ms",void 0);_([p.field("number")],Tt.prototype,"max_net_usage_words",void 0);_([p.field("number")],Tt.prototype,"ref_block_num",void 0);_([p.field("number")],Tt.prototype,"ref_block_prefix",void 0);_([p.field("string",{array:!0})],Tt.prototype,"signatures",void 0);Tt=_([p.type("trx")],Tt);let Qn=class extends p{};_([p.field(gi)],Qn.prototype,"receipt",void 0);_([p.field("trx")],Qn.prototype,"trx",void 0);Qn=_([p.type("transaction_info")],Qn);let cr=class extends p{};_([p.field(ke)],cr.prototype,"id",void 0);_([p.field(Oe)],cr.prototype,"block_num",void 0);_([p.field(xo)],cr.prototype,"block_time",void 0);_([p.field(Oe)],cr.prototype,"last_irreversible_block",void 0);_([p.field("any?")],cr.prototype,"traces",void 0);_([p.field("any")],cr.prototype,"trx",void 0);cr=_([p.type("get_transaction_response")],cr);let ea=class extends p{};_([p.field("name",{array:!0})],ea.prototype,"account_names",void 0);ea=_([p.type("get_key_accounts_response")],ea);let ta=class extends p{};_([p.field("name",{array:!0})],ta.prototype,"controlled_accounts",void 0);ta=_([p.type("get_controlled_accounts_response")],ta);var Au=Object.freeze({__proto__:null,get AccountPermission(){return _i},get AccountResourceLimit(){return Zr},get AccountTotalResources(){return Gr},get AccountSelfDelegatedBandwidth(){return Jr},get AccountRefundRequest(){return Xr},get AccountVoterInfo(){return Ot},get AccountRexInfoMaturities(){return Yr},get AccountRexInfo(){return sr},get AccountObject(){return Ee},get NewProducersEntry(){return Qi},get NewProducers(){return en},get BlockExtension(){return Jn},get HeaderExtension(){return tn},TrxVariant:rf,get GetBlockResponseTransactionReceipt(){return Xn},get GetBlockResponse(){return tt},get ActiveScheduleProducerAuthority(){return rn},get ActiveScheduleProducer(){return nn},get ActiveSchedule(){return Yn},get BlockStateHeader(){return It},get GetBlockHeaderStateResponse(){return ut},get GetInfoResponse(){return nt},get GetTableByScopeResponseRow(){return Sr},get GetTableByScopeResponse(){return an},get OrderedActionsResult(){return fr},get GetActionsResponse(){return Qr},get TransactionTrace(){return Cs},get Trx(){return Tt},get TransactionInfo(){return Qn},get GetTransactionResponse(){return cr},get GetKeyAccountsResponse(){return ea},get GetControlledAccountsResponse(){return ta}});class ku{constructor(e){this.client=e}async get_abi(e){return this.client.call({path:"/v1/chain/get_abi",params:{account_name:H.from(e)}})}async get_account(e){return this.client.call({path:"/v1/chain/get_account",params:{account_name:H.from(e)},responseType:Ee})}async get_block(e){return this.client.call({path:"/v1/chain/get_block",params:{block_num_or_id:e},responseType:tt})}async get_block_header_state(e){return this.client.call({path:"/v1/chain/get_block_header_state",params:{block_num_or_id:e},responseType:ut})}async get_currency_balance(e,r,i){const n={account:H.from(r),code:H.from(e)};return i&&(n.symbol=i),this.client.call({path:"/v1/chain/get_currency_balance",params:n,responseType:"asset[]"})}async get_info(){return this.client.call({path:"/v1/chain/get_info",responseType:nt})}async push_transaction(e){return Q(e,jr)||(e=jr.fromSigned(yi.from(e))),this.client.call({path:"/v1/chain/push_transaction",params:e})}async get_table_rows(e){const r=e.type;let i=e.key_type;const n=e.lower_bound||e.upper_bound;!i&&n&&(Q(n,ye)?i="i64":Q(n,Xi)?i="i128":Q(n,ke)?i="sha256":Q(n,bi)&&(i="ripemd160")),i||(i="name");let a=e.json;a===void 0&&(a=r===void 0);let o=e.upper_bound;o&&typeof o!="string"&&(o=String(o));let s=e.lower_bound;s&&typeof s!="string"&&(s=String(s));let l=e.scope;typeof l>"u"?l=String(H.from(e.code)):typeof l!="string"&&(l=String(l));let{rows:c,more:h,next_key:g}=await this.client.call({path:"/v1/chain/get_table_rows",params:{...e,code:H.from(e.code),table:H.from(e.table),limit:e.limit!==void 0?Oe.from(e.limit):void 0,scope:l,key_type:i,json:a,upper_bound:o,lower_bound:s}}),E;if(e.show_payer&&(E=[],c=c.map(({data:k,payer:M})=>(E.push(H.from(M)),k))),r&&(a?c=c.map(k=>typeof k=="string"&&X.isBytes(k)?pe.decode({data:X.from(k),type:r}):pe.decode({object:k,type:r})):c=c.map(k=>X.from(k)).map(k=>pe.decode({data:k,type:r}))),g&&g.length>0){let k;switch(i){case"i64":k=ye;break;case"i128":k=Xi;break;case"name":k=H;break;case"float64":k=_o;break;case"float128":k=wo;break;case"sha256":k=ke;break;case"ripemd160":k=bi;break;default:throw new Error(`Unsupported key type: ${i}`)}k===H?g=H.from(pe.decode({object:g,type:ye})):g=pe.decode({object:g,type:k})}else g=void 0;return{rows:c,more:h,next_key:g,ram_payers:E}}async get_table_by_scope(e){return this.client.call({path:"/v1/chain/get_table_by_scope",params:e,responseType:an})}}class Eu{constructor(e){this.client=e}async get_actions(e,r,i){return this.client.call({path:"/v1/history/get_actions",params:{account_name:H.from(e),pos:wr.from(r),offset:wr.from(i)},responseType:Qr})}async get_transaction(e,r={}){return this.client.call({path:"/v1/history/get_transaction",params:{id:ke.from(e),block_num_hint:r.blockNumHint&&Oe.from(r.blockNumHint),traces:r.excludeTraces===!0?!1:void 0},responseType:cr})}async get_key_accounts(e){return this.client.call({path:"/v1/history/get_key_accounts",params:{public_key:ct.from(e)},responseType:ea})}async get_controlled_accounts(e){return this.client.call({path:"/v1/history/get_controlled_accounts",params:{controlling_account:H.from(e)},responseType:ta})}}class va extends Error{constructor(e,r){let i;r.json&&r.json.error?i=`${va.formatError(r.json.error)} at ${e}`:i=`HTTP ${r.status} at ${e}`,super(i),this.path=e,this.response=r}static formatError(e){return e.what==="unspecified"&&e.details[0].file&&e.details[0].file==="http_plugin.cpp"&&e.details[0].message.slice(0,11)==="unknown key"?"Account not found":e.what==="unspecified"&&e.details&&e.details.length>0?e.details[0].message:e.what&&e.what.length>0?e.what:"Unknown API error"}get error(){const{json:e}=this.response;return e?e.error:void 0}get name(){const{error:e}=this;return e?e.name:"unspecified"}get code(){const{error:e}=this;return e?e.code:0}get details(){const{error:e}=this;return e?e.details:[]}}va.__className="APIError";class nf{constructor(e){if(this.v1={chain:new ku(this),history:new Eu(this)},e.provider)this.provider=e.provider;else if(e.url)this.provider=new Su(e.url,e);else throw new Error("Missing url or provider")}async call(e){const r=await this.provider.call(e.path,e.params),{json:i}=r;if(Math.floor(r.status/100)!==2||i&&typeof i.error=="object")throw new va(e.path,r);return e.responseType?mi({type:e.responseType,object:r.json}):r.json||r.text}}nf.__className="APIClient";var Mu=Object.freeze({__proto__:null,v1:Au});/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Iu=4,$f=0,Uf=1,Tu=2;function Sn(t){let e=t.length;for(;--e>=0;)t[e]=0}const Ru=0,Nd=1,Pu=2,Cu=3,Nu=258,af=29,ya=256,ra=ya+1+af,Ki=30,of=19,Bd=2*ra+1,ci=15,ts=16,Bu=7,sf=256,Dd=16,zd=17,Od=18,Ns=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),qa=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Du=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ld=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zu=512,br=new Array((ra+2)*2);Sn(br);const On=new Array(Ki*2);Sn(On);const ia=new Array(zu);Sn(ia);const na=new Array(Nu-Cu+1);Sn(na);const ff=new Array(af);Sn(ff);const Ga=new Array(Ki);Sn(Ga);function rs(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}let qd,$d,Ud;function is(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const Fd=t=>t<256?ia[t]:ia[256+(t>>>7)],aa=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},At=(t,e,r)=>{t.bi_valid>ts-r?(t.bi_buf|=e<<t.bi_valid&65535,aa(t,t.bi_buf),t.bi_buf=e>>ts-t.bi_valid,t.bi_valid+=r-ts):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},Jt=(t,e,r)=>{At(t,r[e*2],r[e*2+1])},Hd=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},Ou=t=>{t.bi_valid===16?(aa(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},Lu=(t,e)=>{const r=e.dyn_tree,i=e.max_code,n=e.stat_desc.static_tree,a=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,h,g,E,k,M,T=0;for(E=0;E<=ci;E++)t.bl_count[E]=0;for(r[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<Bd;c++)h=t.heap[c],E=r[r[h*2+1]*2+1]+1,E>l&&(E=l,T++),r[h*2+1]=E,!(h>i)&&(t.bl_count[E]++,k=0,h>=s&&(k=o[h-s]),M=r[h*2],t.opt_len+=M*(E+k),a&&(t.static_len+=M*(n[h*2+1]+k)));if(T!==0){do{for(E=l-1;t.bl_count[E]===0;)E--;t.bl_count[E]--,t.bl_count[E+1]+=2,t.bl_count[l]--,T-=2}while(T>0);for(E=l;E!==0;E--)for(h=t.bl_count[E];h!==0;)g=t.heap[--c],!(g>i)&&(r[g*2+1]!==E&&(t.opt_len+=(E-r[g*2+1])*r[g*2],r[g*2+1]=E),h--)}},Vd=(t,e,r)=>{const i=new Array(ci+1);let n=0,a,o;for(a=1;a<=ci;a++)i[a]=n=n+r[a-1]<<1;for(o=0;o<=e;o++){let s=t[o*2+1];s!==0&&(t[o*2]=Hd(i[s]++,s))}},qu=()=>{let t,e,r,i,n;const a=new Array(ci+1);for(r=0,i=0;i<af-1;i++)for(ff[i]=r,t=0;t<1<<Ns[i];t++)na[r++]=i;for(na[r-1]=i,n=0,i=0;i<16;i++)for(Ga[i]=n,t=0;t<1<<qa[i];t++)ia[n++]=i;for(n>>=7;i<Ki;i++)for(Ga[i]=n<<7,t=0;t<1<<qa[i]-7;t++)ia[256+n++]=i;for(e=0;e<=ci;e++)a[e]=0;for(t=0;t<=143;)br[t*2+1]=8,t++,a[8]++;for(;t<=255;)br[t*2+1]=9,t++,a[9]++;for(;t<=279;)br[t*2+1]=7,t++,a[7]++;for(;t<=287;)br[t*2+1]=8,t++,a[8]++;for(Vd(br,ra+1,a),t=0;t<Ki;t++)On[t*2+1]=5,On[t*2]=Hd(t,5);qd=new rs(br,Ns,ya+1,ra,ci),$d=new rs(On,qa,0,Ki,ci),Ud=new rs(new Array(0),Du,0,of,Bu)},Kd=t=>{let e;for(e=0;e<ra;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Ki;e++)t.dyn_dtree[e*2]=0;for(e=0;e<of;e++)t.bl_tree[e*2]=0;t.dyn_ltree[sf*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},jd=t=>{t.bi_valid>8?aa(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},$u=(t,e,r,i)=>{jd(t),i&&(aa(t,r),aa(t,~r)),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},Ff=(t,e,r,i)=>{const n=e*2,a=r*2;return t[n]<t[a]||t[n]===t[a]&&i[e]<=i[r]},ns=(t,e,r)=>{const i=t.heap[r];let n=r<<1;for(;n<=t.heap_len&&(n<t.heap_len&&Ff(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!Ff(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i},Hf=(t,e,r)=>{let i,n,a=0,o,s;if(t.last_lit!==0)do i=t.pending_buf[t.d_buf+a*2]<<8|t.pending_buf[t.d_buf+a*2+1],n=t.pending_buf[t.l_buf+a],a++,i===0?Jt(t,n,e):(o=na[n],Jt(t,o+ya+1,e),s=Ns[o],s!==0&&(n-=ff[o],At(t,n,s)),i--,o=Fd(i),Jt(t,o,r),s=qa[o],s!==0&&(i-=Ga[o],At(t,i,s)));while(a<t.last_lit);Jt(t,sf,e)},Bs=(t,e)=>{const r=e.dyn_tree,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,a=e.stat_desc.elems;let o,s,l=-1,c;for(t.heap_len=0,t.heap_max=Bd,o=0;o<a;o++)r[o*2]!==0?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):r[o*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=l<2?++l:0,r[c*2]=1,t.depth[c]=0,t.opt_len--,n&&(t.static_len-=i[c*2+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)ns(t,r,o);c=a;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],ns(t,r,1),s=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=s,r[c*2]=r[o*2]+r[s*2],t.depth[c]=(t.depth[o]>=t.depth[s]?t.depth[o]:t.depth[s])+1,r[o*2+1]=r[s*2+1]=c,t.heap[1]=c++,ns(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Lu(t,e),Vd(r,l,t.bl_count)},Vf=(t,e,r)=>{let i,n=-1,a,o=e[0*2+1],s=0,l=7,c=4;for(o===0&&(l=138,c=3),e[(r+1)*2+1]=65535,i=0;i<=r;i++)a=o,o=e[(i+1)*2+1],!(++s<l&&a===o)&&(s<c?t.bl_tree[a*2]+=s:a!==0?(a!==n&&t.bl_tree[a*2]++,t.bl_tree[Dd*2]++):s<=10?t.bl_tree[zd*2]++:t.bl_tree[Od*2]++,s=0,n=a,o===0?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4))},Kf=(t,e,r)=>{let i,n=-1,a,o=e[0*2+1],s=0,l=7,c=4;for(o===0&&(l=138,c=3),i=0;i<=r;i++)if(a=o,o=e[(i+1)*2+1],!(++s<l&&a===o)){if(s<c)do Jt(t,a,t.bl_tree);while(--s!==0);else a!==0?(a!==n&&(Jt(t,a,t.bl_tree),s--),Jt(t,Dd,t.bl_tree),At(t,s-3,2)):s<=10?(Jt(t,zd,t.bl_tree),At(t,s-3,3)):(Jt(t,Od,t.bl_tree),At(t,s-11,7));s=0,n=a,o===0?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4)}},Uu=t=>{let e;for(Vf(t,t.dyn_ltree,t.l_desc.max_code),Vf(t,t.dyn_dtree,t.d_desc.max_code),Bs(t,t.bl_desc),e=of-1;e>=3&&t.bl_tree[Ld[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},Fu=(t,e,r,i)=>{let n;for(At(t,e-257,5),At(t,r-1,5),At(t,i-4,4),n=0;n<i;n++)At(t,t.bl_tree[Ld[n]*2+1],3);Kf(t,t.dyn_ltree,e-1),Kf(t,t.dyn_dtree,r-1)},Hu=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return $f;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Uf;for(r=32;r<ya;r++)if(t.dyn_ltree[r*2]!==0)return Uf;return $f};let jf=!1;const Vu=t=>{jf||(qu(),jf=!0),t.l_desc=new is(t.dyn_ltree,qd),t.d_desc=new is(t.dyn_dtree,$d),t.bl_desc=new is(t.bl_tree,Ud),t.bi_buf=0,t.bi_valid=0,Kd(t)},Wd=(t,e,r,i)=>{At(t,(Ru<<1)+(i?1:0),3),$u(t,e,r,!0)},Ku=t=>{At(t,Nd<<1,3),Jt(t,sf,br),Ou(t)},ju=(t,e,r,i)=>{let n,a,o=0;t.level>0?(t.strm.data_type===Tu&&(t.strm.data_type=Hu(t)),Bs(t,t.l_desc),Bs(t,t.d_desc),o=Uu(t),n=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=n&&(n=a)):n=a=r+5,r+4<=n&&e!==-1?Wd(t,e,r,i):t.strategy===Iu||a===n?(At(t,(Nd<<1)+(i?1:0),3),Hf(t,br,On)):(At(t,(Pu<<1)+(i?1:0),3),Fu(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),Hf(t,t.dyn_ltree,t.dyn_dtree)),Kd(t),i&&jd(t)},Wu=(t,e,r)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=r&255,t.last_lit++,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(na[r]+ya+1)*2]++,t.dyn_dtree[Fd(e)*2]++),t.last_lit===t.lit_bufsize-1);var Zu=Vu,Gu=Wd,Ju=ju,Xu=Wu,Yu=Ku,Qu={_tr_init:Zu,_tr_stored_block:Gu,_tr_flush_block:Ju,_tr_tally:Xu,_tr_align:Yu};const e1=(t,e,r,i)=>{let n=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do n=n+e[i++]|0,a=a+n|0;while(--o);n%=65521,a%=65521}return n|a<<16|0};var oa=e1;const t1=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},r1=new Uint32Array(t1()),i1=(t,e,r,i)=>{const n=r1,a=i+r;t^=-1;for(let o=i;o<a;o++)t=t>>>8^n[(t^e[o])&255];return t^-1};var ft=i1,wi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:n1,_tr_stored_block:a1,_tr_flush_block:o1,_tr_tally:Lr,_tr_align:s1}=Qu,{Z_NO_FLUSH:Oi,Z_PARTIAL_FLUSH:f1,Z_FULL_FLUSH:c1,Z_FINISH:qr,Z_BLOCK:Wf,Z_OK:Xt,Z_STREAM_END:Zf,Z_STREAM_ERROR:Nt,Z_DATA_ERROR:d1,Z_BUF_ERROR:as,Z_DEFAULT_COMPRESSION:l1,Z_FILTERED:h1,Z_HUFFMAN_ONLY:Ta,Z_RLE:u1,Z_FIXED:p1,Z_DEFAULT_STRATEGY:b1,Z_UNKNOWN:m1,Z_DEFLATED:So}=zi,v1=9,y1=15,g1=8,_1=29,w1=256,Ds=w1+1+_1,x1=30,S1=19,A1=2*Ds+1,k1=15,oe=3,Nr=258,Vt=Nr+oe+1,E1=32,Ao=42,zs=69,$a=73,Ua=91,Fa=103,di=113,Pn=666,rt=1,ga=2,xi=3,An=4,M1=3,Br=(t,e)=>(t.msg=wi[e],e),Gf=t=>(t<<1)-(t>4?9:0),Tr=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let I1=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,$r=I1;const Ir=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},vt=(t,e)=>{o1(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ir(t.strm)},fe=(t,e)=>{t.pending_buf[t.pending++]=e},In=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},T1=(t,e,r,i)=>{let n=t.avail_in;return n>i&&(n=i),n===0?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),r),t.state.wrap===1?t.adler=oa(t.adler,e,n,r):t.state.wrap===2&&(t.adler=ft(t.adler,e,n,r)),t.next_in+=n,t.total_in+=n,n)},Zd=(t,e)=>{let r=t.max_chain_length,i=t.strstart,n,a,o=t.prev_length,s=t.nice_match;const l=t.strstart>t.w_size-Vt?t.strstart-(t.w_size-Vt):0,c=t.window,h=t.w_mask,g=t.prev,E=t.strstart+Nr;let k=c[i+o-1],M=c[i+o];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do if(n=e,!(c[n+o]!==M||c[n+o-1]!==k||c[n]!==c[i]||c[++n]!==c[i+1])){i+=2,n++;do;while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<E);if(a=Nr-(E-i),i=E-Nr,a>o){if(t.match_start=e,o=a,a>=s)break;k=c[i+o-1],M=c[i+o]}}while((e=g[e&h])>l&&--r!==0);return o<=t.lookahead?o:t.lookahead},Si=t=>{const e=t.w_size;let r,i,n,a,o;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Vt)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,i=t.hash_size,r=i;do n=t.head[--r],t.head[r]=n>=e?n-e:0;while(--i);i=e,r=i;do n=t.prev[--r],t.prev[r]=n>=e?n-e:0;while(--i);a+=e}if(t.strm.avail_in===0)break;if(i=T1(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=i,t.lookahead+t.insert>=oe)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=$r(t,t.ins_h,t.window[o+1]);t.insert&&(t.ins_h=$r(t,t.ins_h,t.window[o+oe-1]),t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<oe)););}while(t.lookahead<Vt&&t.strm.avail_in!==0)},R1=(t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Si(t),t.lookahead===0&&e===Oi)return rt;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const i=t.block_start+r;if((t.strstart===0||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,vt(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Vt&&(vt(t,!1),t.strm.avail_out===0))return rt}return t.insert=0,e===qr?(vt(t,!0),t.strm.avail_out===0?xi:An):(t.strstart>t.block_start&&(vt(t,!1),t.strm.avail_out===0),rt)},os=(t,e)=>{let r,i;for(;;){if(t.lookahead<Vt){if(Si(t),t.lookahead<Vt&&e===Oi)return rt;if(t.lookahead===0)break}if(r=0,t.lookahead>=oe&&(t.ins_h=$r(t,t.ins_h,t.window[t.strstart+oe-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-Vt&&(t.match_length=Zd(t,r)),t.match_length>=oe)if(i=Lr(t,t.strstart-t.match_start,t.match_length-oe),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=oe){t.match_length--;do t.strstart++,t.ins_h=$r(t,t.ins_h,t.window[t.strstart+oe-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=$r(t,t.ins_h,t.window[t.strstart+1]);else i=Lr(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(vt(t,!1),t.strm.avail_out===0))return rt}return t.insert=t.strstart<oe-1?t.strstart:oe-1,e===qr?(vt(t,!0),t.strm.avail_out===0?xi:An):t.last_lit&&(vt(t,!1),t.strm.avail_out===0)?rt:ga},Li=(t,e)=>{let r,i,n;for(;;){if(t.lookahead<Vt){if(Si(t),t.lookahead<Vt&&e===Oi)return rt;if(t.lookahead===0)break}if(r=0,t.lookahead>=oe&&(t.ins_h=$r(t,t.ins_h,t.window[t.strstart+oe-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=oe-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Vt&&(t.match_length=Zd(t,r),t.match_length<=5&&(t.strategy===h1||t.match_length===oe&&t.strstart-t.match_start>4096)&&(t.match_length=oe-1)),t.prev_length>=oe&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-oe,i=Lr(t,t.strstart-1-t.prev_match,t.prev_length-oe),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=n&&(t.ins_h=$r(t,t.ins_h,t.window[t.strstart+oe-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=oe-1,t.strstart++,i&&(vt(t,!1),t.strm.avail_out===0))return rt}else if(t.match_available){if(i=Lr(t,0,t.window[t.strstart-1]),i&&vt(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return rt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=Lr(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<oe-1?t.strstart:oe-1,e===qr?(vt(t,!0),t.strm.avail_out===0?xi:An):t.last_lit&&(vt(t,!1),t.strm.avail_out===0)?rt:ga},P1=(t,e)=>{let r,i,n,a;const o=t.window;for(;;){if(t.lookahead<=Nr){if(Si(t),t.lookahead<=Nr&&e===Oi)return rt;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=oe&&t.strstart>0&&(n=t.strstart-1,i=o[n],i===o[++n]&&i===o[++n]&&i===o[++n])){a=t.strstart+Nr;do;while(i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&n<a);t.match_length=Nr-(a-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=oe?(r=Lr(t,1,t.match_length-oe),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Lr(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(vt(t,!1),t.strm.avail_out===0))return rt}return t.insert=0,e===qr?(vt(t,!0),t.strm.avail_out===0?xi:An):t.last_lit&&(vt(t,!1),t.strm.avail_out===0)?rt:ga},C1=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(Si(t),t.lookahead===0)){if(e===Oi)return rt;break}if(t.match_length=0,r=Lr(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(vt(t,!1),t.strm.avail_out===0))return rt}return t.insert=0,e===qr?(vt(t,!0),t.strm.avail_out===0?xi:An):t.last_lit&&(vt(t,!1),t.strm.avail_out===0)?rt:ga};function Wt(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}const Cn=[new Wt(0,0,0,0,R1),new Wt(4,4,8,4,os),new Wt(4,5,16,8,os),new Wt(4,6,32,32,os),new Wt(4,4,16,16,Li),new Wt(8,16,32,32,Li),new Wt(8,16,128,128,Li),new Wt(8,32,128,256,Li),new Wt(32,128,258,1024,Li),new Wt(32,258,258,4096,Li)],N1=t=>{t.window_size=2*t.w_size,Tr(t.head),t.max_lazy_match=Cn[t.level].max_lazy,t.good_match=Cn[t.level].good_length,t.nice_match=Cn[t.level].nice_length,t.max_chain_length=Cn[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=oe-1,t.match_available=0,t.ins_h=0};function B1(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=So,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(A1*2),this.dyn_dtree=new Uint16Array((2*x1+1)*2),this.bl_tree=new Uint16Array((2*S1+1)*2),Tr(this.dyn_ltree),Tr(this.dyn_dtree),Tr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(k1+1),this.heap=new Uint16Array(2*Ds+1),Tr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ds+1),Tr(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Gd=t=>{if(!t||!t.state)return Br(t,Nt);t.total_in=t.total_out=0,t.data_type=m1;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Ao:di,t.adler=e.wrap===2?0:1,e.last_flush=Oi,n1(e),Xt},Jd=t=>{const e=Gd(t);return e===Xt&&N1(t.state),e},D1=(t,e)=>!t||!t.state||t.state.wrap!==2?Nt:(t.state.gzhead=e,Xt),Xd=(t,e,r,i,n,a)=>{if(!t)return Nt;let o=1;if(e===l1&&(e=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),n<1||n>v1||r!==So||i<8||i>15||e<0||e>9||a<0||a>p1)return Br(t,Nt);i===8&&(i=9);const s=new B1;return t.state=s,s.strm=t,s.wrap=o,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=n+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+oe-1)/oe),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<n+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=(1+2)*s.lit_bufsize,s.level=e,s.strategy=a,s.method=r,Jd(t)},z1=(t,e)=>Xd(t,e,So,y1,g1,b1),O1=(t,e)=>{let r,i;if(!t||!t.state||e>Wf||e<0)return t?Br(t,Nt):Nt;const n=t.state;if(!t.output||!t.input&&t.avail_in!==0||n.status===Pn&&e!==qr)return Br(t,t.avail_out===0?as:Nt);n.strm=t;const a=n.last_flush;if(n.last_flush=e,n.status===Ao)if(n.wrap===2)t.adler=0,fe(n,31),fe(n,139),fe(n,8),n.gzhead?(fe(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),fe(n,n.gzhead.time&255),fe(n,n.gzhead.time>>8&255),fe(n,n.gzhead.time>>16&255),fe(n,n.gzhead.time>>24&255),fe(n,n.level===9?2:n.strategy>=Ta||n.level<2?4:0),fe(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(fe(n,n.gzhead.extra.length&255),fe(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=ft(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=zs):(fe(n,0),fe(n,0),fe(n,0),fe(n,0),fe(n,0),fe(n,n.level===9?2:n.strategy>=Ta||n.level<2?4:0),fe(n,M1),n.status=di);else{let o=So+(n.w_bits-8<<4)<<8,s=-1;n.strategy>=Ta||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,o|=s<<6,n.strstart!==0&&(o|=E1),o+=31-o%31,n.status=di,In(n,o),n.strstart!==0&&(In(n,t.adler>>>16),In(n,t.adler&65535)),t.adler=1}if(n.status===zs)if(n.gzhead.extra){for(r=n.pending;n.gzindex<(n.gzhead.extra.length&65535)&&!(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=ft(t.adler,n.pending_buf,n.pending-r,r)),Ir(t),r=n.pending,n.pending===n.pending_buf_size));)fe(n,n.gzhead.extra[n.gzindex]&255),n.gzindex++;n.gzhead.hcrc&&n.pending>r&&(t.adler=ft(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=$a)}else n.status=$a;if(n.status===$a)if(n.gzhead.name){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=ft(t.adler,n.pending_buf,n.pending-r,r)),Ir(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,fe(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>r&&(t.adler=ft(t.adler,n.pending_buf,n.pending-r,r)),i===0&&(n.gzindex=0,n.status=Ua)}else n.status=Ua;if(n.status===Ua)if(n.gzhead.comment){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=ft(t.adler,n.pending_buf,n.pending-r,r)),Ir(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,fe(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>r&&(t.adler=ft(t.adler,n.pending_buf,n.pending-r,r)),i===0&&(n.status=Fa)}else n.status=Fa;if(n.status===Fa&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Ir(t),n.pending+2<=n.pending_buf_size&&(fe(n,t.adler&255),fe(n,t.adler>>8&255),t.adler=0,n.status=di)):n.status=di),n.pending!==0){if(Ir(t),t.avail_out===0)return n.last_flush=-1,Xt}else if(t.avail_in===0&&Gf(e)<=Gf(a)&&e!==qr)return Br(t,as);if(n.status===Pn&&t.avail_in!==0)return Br(t,as);if(t.avail_in!==0||n.lookahead!==0||e!==Oi&&n.status!==Pn){let o=n.strategy===Ta?C1(n,e):n.strategy===u1?P1(n,e):Cn[n.level].func(n,e);if((o===xi||o===An)&&(n.status=Pn),o===rt||o===xi)return t.avail_out===0&&(n.last_flush=-1),Xt;if(o===ga&&(e===f1?s1(n):e!==Wf&&(a1(n,0,0,!1),e===c1&&(Tr(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ir(t),t.avail_out===0))return n.last_flush=-1,Xt}return e!==qr?Xt:n.wrap<=0?Zf:(n.wrap===2?(fe(n,t.adler&255),fe(n,t.adler>>8&255),fe(n,t.adler>>16&255),fe(n,t.adler>>24&255),fe(n,t.total_in&255),fe(n,t.total_in>>8&255),fe(n,t.total_in>>16&255),fe(n,t.total_in>>24&255)):(In(n,t.adler>>>16),In(n,t.adler&65535)),Ir(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Xt:Zf)},L1=t=>{if(!t||!t.state)return Nt;const e=t.state.status;return e!==Ao&&e!==zs&&e!==$a&&e!==Ua&&e!==Fa&&e!==di&&e!==Pn?Br(t,Nt):(t.state=null,e===di?Br(t,d1):Xt)},q1=(t,e)=>{let r=e.length;if(!t||!t.state)return Nt;const i=t.state,n=i.wrap;if(n===2||n===1&&i.status!==Ao||i.lookahead)return Nt;if(n===1&&(t.adler=oa(t.adler,e,r,0)),i.wrap=0,r>=i.w_size){n===0&&(Tr(i.head),i.strstart=0,i.block_start=0,i.insert=0);let l=new Uint8Array(i.w_size);l.set(e.subarray(r-i.w_size,r),0),e=l,r=i.w_size}const a=t.avail_in,o=t.next_in,s=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Si(i);i.lookahead>=oe;){let l=i.strstart,c=i.lookahead-(oe-1);do i.ins_h=$r(i,i.ins_h,i.window[l+oe-1]),i.prev[l&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=l,l++;while(--c);i.strstart=l,i.lookahead=oe-1,Si(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=oe-1,i.match_available=0,t.next_in=o,t.input=s,t.avail_in=a,i.wrap=n,Xt};var $1=z1,U1=Xd,F1=Jd,H1=Gd,V1=D1,K1=O1,j1=L1,W1=q1,Z1="pako deflate (from Nodeca project)",Ln={deflateInit:$1,deflateInit2:U1,deflateReset:F1,deflateResetKeep:H1,deflateSetHeader:V1,deflate:K1,deflateEnd:j1,deflateSetDictionary:W1,deflateInfo:Z1};const G1=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var J1=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(!!r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const i in r)G1(r,i)&&(t[i]=r[i])}}return t},X1=t=>{let e=0;for(let i=0,n=t.length;i<n;i++)e+=t[i].length;const r=new Uint8Array(e);for(let i=0,n=0,a=t.length;i<a;i++){let o=t[i];r.set(o,n),n+=o.length}return r},ko={assign:J1,flattenChunks:X1};let Yd=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Yd=!1}const sa=new Uint8Array(256);for(let t=0;t<256;t++)sa[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;sa[254]=sa[254]=1;var Y1=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,i,n,a,o=t.length,s=0;for(n=0;n<o;n++)r=t.charCodeAt(n),(r&64512)===55296&&n+1<o&&(i=t.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),a=0,n=0;a<s;n++)r=t.charCodeAt(n),(r&64512)===55296&&n+1<o&&(i=t.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const Q1=(t,e)=>{if(e<65534&&t.subarray&&Yd)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r};var ep=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,n;const a=new Array(r*2);for(n=0,i=0;i<r;){let o=t[i++];if(o<128){a[n++]=o;continue}let s=sa[o];if(s>4){a[n++]=65533,i+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&i<r;)o=o<<6|t[i++]&63,s--;if(s>1){a[n++]=65533;continue}o<65536?a[n++]=o:(o-=65536,a[n++]=55296|o>>10&1023,a[n++]=56320|o&1023)}return Q1(a,n)},tp=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+sa[t[r]]>e?r:e},fa={string2buf:Y1,buf2string:ep,utf8border:tp};function rp(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Qd=rp;const e0=Object.prototype.toString,{Z_NO_FLUSH:ip,Z_SYNC_FLUSH:np,Z_FULL_FLUSH:ap,Z_FINISH:op,Z_OK:Ja,Z_STREAM_END:sp,Z_DEFAULT_COMPRESSION:fp,Z_DEFAULT_STRATEGY:cp,Z_DEFLATED:dp}=zi;function _a(t){this.options=ko.assign({level:fp,method:dp,chunkSize:16384,windowBits:15,memLevel:8,strategy:cp},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qd,this.strm.avail_out=0;let r=Ln.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Ja)throw new Error(wi[r]);if(e.header&&Ln.deflateSetHeader(this.strm,e.header),e.dictionary){let i;if(typeof e.dictionary=="string"?i=fa.string2buf(e.dictionary):e0.call(e.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(e.dictionary):i=e.dictionary,r=Ln.deflateSetDictionary(this.strm,i),r!==Ja)throw new Error(wi[r]);this._dict_set=!0}}_a.prototype.push=function(t,e){const r=this.strm,i=this.options.chunkSize;let n,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?op:ip,typeof t=="string"?r.input=fa.string2buf(t):e0.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(a===np||a===ap)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(n=Ln.deflate(r,a),n===sp)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=Ln.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Ja;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};_a.prototype.onData=function(t){this.chunks.push(t)};_a.prototype.onEnd=function(t){t===Ja&&(this.result=ko.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function cf(t,e){const r=new _a(e);if(r.push(t,!0),r.err)throw r.msg||wi[r.err];return r.result}function lp(t,e){return e=e||{},e.raw=!0,cf(t,e)}function hp(t,e){return e=e||{},e.gzip=!0,cf(t,e)}var up=_a,pp=cf,bp=lp,mp=hp,vp=zi,yp={Deflate:up,deflate:pp,deflateRaw:bp,gzip:mp,constants:vp};const Ra=30,gp=12;var _p=function(e,r){let i,n,a,o,s,l,c,h,g,E,k,M,T,R,I,P,B,N,K,ee,$,j,F,V;const w=e.state;i=e.next_in,F=e.input,n=i+(e.avail_in-5),a=e.next_out,V=e.output,o=a-(r-e.avail_out),s=a+(e.avail_out-257),l=w.dmax,c=w.wsize,h=w.whave,g=w.wnext,E=w.window,k=w.hold,M=w.bits,T=w.lencode,R=w.distcode,I=(1<<w.lenbits)-1,P=(1<<w.distbits)-1;e:do{M<15&&(k+=F[i++]<<M,M+=8,k+=F[i++]<<M,M+=8),B=T[k&I];t:for(;;){if(N=B>>>24,k>>>=N,M-=N,N=B>>>16&255,N===0)V[a++]=B&65535;else if(N&16){K=B&65535,N&=15,N&&(M<N&&(k+=F[i++]<<M,M+=8),K+=k&(1<<N)-1,k>>>=N,M-=N),M<15&&(k+=F[i++]<<M,M+=8,k+=F[i++]<<M,M+=8),B=R[k&P];r:for(;;){if(N=B>>>24,k>>>=N,M-=N,N=B>>>16&255,N&16){if(ee=B&65535,N&=15,M<N&&(k+=F[i++]<<M,M+=8,M<N&&(k+=F[i++]<<M,M+=8)),ee+=k&(1<<N)-1,ee>l){e.msg="invalid distance too far back",w.mode=Ra;break e}if(k>>>=N,M-=N,N=a-o,ee>N){if(N=ee-N,N>h&&w.sane){e.msg="invalid distance too far back",w.mode=Ra;break e}if($=0,j=E,g===0){if($+=c-N,N<K){K-=N;do V[a++]=E[$++];while(--N);$=a-ee,j=V}}else if(g<N){if($+=c+g-N,N-=g,N<K){K-=N;do V[a++]=E[$++];while(--N);if($=0,g<K){N=g,K-=N;do V[a++]=E[$++];while(--N);$=a-ee,j=V}}}else if($+=g-N,N<K){K-=N;do V[a++]=E[$++];while(--N);$=a-ee,j=V}for(;K>2;)V[a++]=j[$++],V[a++]=j[$++],V[a++]=j[$++],K-=3;K&&(V[a++]=j[$++],K>1&&(V[a++]=j[$++]))}else{$=a-ee;do V[a++]=V[$++],V[a++]=V[$++],V[a++]=V[$++],K-=3;while(K>2);K&&(V[a++]=V[$++],K>1&&(V[a++]=V[$++]))}}else if((N&64)===0){B=R[(B&65535)+(k&(1<<N)-1)];continue r}else{e.msg="invalid distance code",w.mode=Ra;break e}break}}else if((N&64)===0){B=T[(B&65535)+(k&(1<<N)-1)];continue t}else if(N&32){w.mode=gp;break e}else{e.msg="invalid literal/length code",w.mode=Ra;break e}break}}while(i<n&&a<s);K=M>>3,i-=K,M-=K<<3,k&=(1<<M)-1,e.next_in=i,e.next_out=a,e.avail_in=i<n?5+(n-i):5-(i-n),e.avail_out=a<s?257+(s-a):257-(a-s),w.hold=k,w.bits=M};const qi=15,Jf=852,Xf=592,Yf=0,ss=1,Qf=2,wp=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),xp=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Sp=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ap=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),kp=(t,e,r,i,n,a,o,s)=>{const l=s.bits;let c=0,h=0,g=0,E=0,k=0,M=0,T=0,R=0,I=0,P=0,B,N,K,ee,$,j=null,F=0,V;const w=new Uint16Array(qi+1),f=new Uint16Array(qi+1);let u=null,m=0,v,S,b;for(c=0;c<=qi;c++)w[c]=0;for(h=0;h<i;h++)w[e[r+h]]++;for(k=l,E=qi;E>=1&&w[E]===0;E--);if(k>E&&(k=E),E===0)return n[a++]=1<<24|64<<16|0,n[a++]=1<<24|64<<16|0,s.bits=1,0;for(g=1;g<E&&w[g]===0;g++);for(k<g&&(k=g),R=1,c=1;c<=qi;c++)if(R<<=1,R-=w[c],R<0)return-1;if(R>0&&(t===Yf||E!==1))return-1;for(f[1]=0,c=1;c<qi;c++)f[c+1]=f[c]+w[c];for(h=0;h<i;h++)e[r+h]!==0&&(o[f[e[r+h]]++]=h);if(t===Yf?(j=u=o,V=19):t===ss?(j=wp,F-=257,u=xp,m-=257,V=256):(j=Sp,u=Ap,V=-1),P=0,h=0,c=g,$=a,M=k,T=0,K=-1,I=1<<k,ee=I-1,t===ss&&I>Jf||t===Qf&&I>Xf)return 1;for(;;){v=c-T,o[h]<V?(S=0,b=o[h]):o[h]>V?(S=u[m+o[h]],b=j[F+o[h]]):(S=32+64,b=0),B=1<<c-T,N=1<<M,g=N;do N-=B,n[$+(P>>T)+N]=v<<24|S<<16|b|0;while(N!==0);for(B=1<<c-1;P&B;)B>>=1;if(B!==0?(P&=B-1,P+=B):P=0,h++,--w[c]===0){if(c===E)break;c=e[r+o[h]]}if(c>k&&(P&ee)!==K){for(T===0&&(T=k),$+=g,M=c-T,R=1<<M;M+T<E&&(R-=w[M+T],!(R<=0));)M++,R<<=1;if(I+=1<<M,t===ss&&I>Jf||t===Qf&&I>Xf)return 1;K=P&ee,n[K]=k<<24|M<<16|$-a|0}}return P!==0&&(n[$+P]=c-T<<24|64<<16|0),s.bits=k,0};var qn=kp;const Ep=0,t0=1,r0=2,{Z_FINISH:ec,Z_BLOCK:Mp,Z_TREES:Pa,Z_OK:Ai,Z_STREAM_END:Ip,Z_NEED_DICT:Tp,Z_STREAM_ERROR:Lt,Z_DATA_ERROR:i0,Z_MEM_ERROR:n0,Z_BUF_ERROR:Rp,Z_DEFLATED:tc}=zi,a0=1,rc=2,ic=3,nc=4,ac=5,oc=6,sc=7,fc=8,cc=9,dc=10,Xa=11,pr=12,fs=13,lc=14,cs=15,hc=16,uc=17,pc=18,bc=19,Ca=20,Na=21,mc=22,vc=23,yc=24,gc=25,_c=26,ds=27,wc=28,xc=29,xe=30,o0=31,Pp=32,Cp=852,Np=592,Bp=15,Dp=Bp,Sc=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function zp(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const s0=t=>{if(!t||!t.state)return Lt;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=a0,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Cp),e.distcode=e.distdyn=new Int32Array(Np),e.sane=1,e.back=-1,Ai},f0=t=>{if(!t||!t.state)return Lt;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,s0(t)},c0=(t,e)=>{let r;if(!t||!t.state)return Lt;const i=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?Lt:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,f0(t))},d0=(t,e)=>{if(!t)return Lt;const r=new zp;t.state=r,r.window=null;const i=c0(t,e);return i!==Ai&&(t.state=null),i},Op=t=>d0(t,Dp);let Ac=!0,ls,hs;const Lp=t=>{if(Ac){ls=new Int32Array(512),hs=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(qn(t0,t.lens,0,288,ls,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;qn(r0,t.lens,0,32,hs,0,t.work,{bits:5}),Ac=!1}t.lencode=ls,t.lenbits=9,t.distcode=hs,t.distbits=5},l0=(t,e,r,i)=>{let n;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(n=a.wsize-a.wnext,n>i&&(n=i),a.window.set(e.subarray(r-i,r-i+n),a.wnext),i-=n,i?(a.window.set(e.subarray(r-i,r),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0},qp=(t,e)=>{let r,i,n,a,o,s,l,c,h,g,E,k,M,T,R=0,I,P,B,N,K,ee,$,j;const F=new Uint8Array(4);let V,w;const f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return Lt;r=t.state,r.mode===pr&&(r.mode=fs),o=t.next_out,n=t.output,l=t.avail_out,a=t.next_in,i=t.input,s=t.avail_in,c=r.hold,h=r.bits,g=s,E=l,j=Ai;e:for(;;)switch(r.mode){case a0:if(r.wrap===0){r.mode=fs;break}for(;h<16;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}if(r.wrap&2&&c===35615){r.check=0,F[0]=c&255,F[1]=c>>>8&255,r.check=ft(r.check,F,2,0),c=0,h=0,r.mode=rc;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=xe;break}if((c&15)!==tc){t.msg="unknown compression method",r.mode=xe;break}if(c>>>=4,h-=4,$=(c&15)+8,r.wbits===0)r.wbits=$;else if($>r.wbits){t.msg="invalid window size",r.mode=xe;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=c&512?dc:pr,c=0,h=0;break;case rc:for(;h<16;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}if(r.flags=c,(r.flags&255)!==tc){t.msg="unknown compression method",r.mode=xe;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=xe;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&(F[0]=c&255,F[1]=c>>>8&255,r.check=ft(r.check,F,2,0)),c=0,h=0,r.mode=ic;case ic:for(;h<32;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}r.head&&(r.head.time=c),r.flags&512&&(F[0]=c&255,F[1]=c>>>8&255,F[2]=c>>>16&255,F[3]=c>>>24&255,r.check=ft(r.check,F,4,0)),c=0,h=0,r.mode=nc;case nc:for(;h<16;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&(F[0]=c&255,F[1]=c>>>8&255,r.check=ft(r.check,F,2,0)),c=0,h=0,r.mode=ac;case ac:if(r.flags&1024){for(;h<16;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&(F[0]=c&255,F[1]=c>>>8&255,r.check=ft(r.check,F,2,0)),c=0,h=0}else r.head&&(r.head.extra=null);r.mode=oc;case oc:if(r.flags&1024&&(k=r.length,k>s&&(k=s),k&&(r.head&&($=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(i.subarray(a,a+k),$)),r.flags&512&&(r.check=ft(r.check,i,k,a)),s-=k,a+=k,r.length-=k),r.length))break e;r.length=0,r.mode=sc;case sc:if(r.flags&2048){if(s===0)break e;k=0;do $=i[a+k++],r.head&&$&&r.length<65536&&(r.head.name+=String.fromCharCode($));while($&&k<s);if(r.flags&512&&(r.check=ft(r.check,i,k,a)),s-=k,a+=k,$)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=fc;case fc:if(r.flags&4096){if(s===0)break e;k=0;do $=i[a+k++],r.head&&$&&r.length<65536&&(r.head.comment+=String.fromCharCode($));while($&&k<s);if(r.flags&512&&(r.check=ft(r.check,i,k,a)),s-=k,a+=k,$)break e}else r.head&&(r.head.comment=null);r.mode=cc;case cc:if(r.flags&512){for(;h<16;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}if(c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=xe;break}c=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=pr;break;case dc:for(;h<32;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}t.adler=r.check=Sc(c),c=0,h=0,r.mode=Xa;case Xa:if(r.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,r.hold=c,r.bits=h,Tp;t.adler=r.check=1,r.mode=pr;case pr:if(e===Mp||e===Pa)break e;case fs:if(r.last){c>>>=h&7,h-=h&7,r.mode=ds;break}for(;h<3;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}switch(r.last=c&1,c>>>=1,h-=1,c&3){case 0:r.mode=lc;break;case 1:if(Lp(r),r.mode=Ca,e===Pa){c>>>=2,h-=2;break e}break;case 2:r.mode=uc;break;case 3:t.msg="invalid block type",r.mode=xe}c>>>=2,h-=2;break;case lc:for(c>>>=h&7,h-=h&7;h<32;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=xe;break}if(r.length=c&65535,c=0,h=0,r.mode=cs,e===Pa)break e;case cs:r.mode=hc;case hc:if(k=r.length,k){if(k>s&&(k=s),k>l&&(k=l),k===0)break e;n.set(i.subarray(a,a+k),o),s-=k,a+=k,l-=k,o+=k,r.length-=k;break}r.mode=pr;break;case uc:for(;h<14;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}if(r.nlen=(c&31)+257,c>>>=5,h-=5,r.ndist=(c&31)+1,c>>>=5,h-=5,r.ncode=(c&15)+4,c>>>=4,h-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=xe;break}r.have=0,r.mode=pc;case pc:for(;r.have<r.ncode;){for(;h<3;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}r.lens[f[r.have++]]=c&7,c>>>=3,h-=3}for(;r.have<19;)r.lens[f[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,V={bits:r.lenbits},j=qn(Ep,r.lens,0,19,r.lencode,0,r.work,V),r.lenbits=V.bits,j){t.msg="invalid code lengths set",r.mode=xe;break}r.have=0,r.mode=bc;case bc:for(;r.have<r.nlen+r.ndist;){for(;R=r.lencode[c&(1<<r.lenbits)-1],I=R>>>24,P=R>>>16&255,B=R&65535,!(I<=h);){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}if(B<16)c>>>=I,h-=I,r.lens[r.have++]=B;else{if(B===16){for(w=I+2;h<w;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}if(c>>>=I,h-=I,r.have===0){t.msg="invalid bit length repeat",r.mode=xe;break}$=r.lens[r.have-1],k=3+(c&3),c>>>=2,h-=2}else if(B===17){for(w=I+3;h<w;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}c>>>=I,h-=I,$=0,k=3+(c&7),c>>>=3,h-=3}else{for(w=I+7;h<w;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}c>>>=I,h-=I,$=0,k=11+(c&127),c>>>=7,h-=7}if(r.have+k>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=xe;break}for(;k--;)r.lens[r.have++]=$}}if(r.mode===xe)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=xe;break}if(r.lenbits=9,V={bits:r.lenbits},j=qn(t0,r.lens,0,r.nlen,r.lencode,0,r.work,V),r.lenbits=V.bits,j){t.msg="invalid literal/lengths set",r.mode=xe;break}if(r.distbits=6,r.distcode=r.distdyn,V={bits:r.distbits},j=qn(r0,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,V),r.distbits=V.bits,j){t.msg="invalid distances set",r.mode=xe;break}if(r.mode=Ca,e===Pa)break e;case Ca:r.mode=Na;case Na:if(s>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,r.hold=c,r.bits=h,_p(t,E),o=t.next_out,n=t.output,l=t.avail_out,a=t.next_in,i=t.input,s=t.avail_in,c=r.hold,h=r.bits,r.mode===pr&&(r.back=-1);break}for(r.back=0;R=r.lencode[c&(1<<r.lenbits)-1],I=R>>>24,P=R>>>16&255,B=R&65535,!(I<=h);){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}if(P&&(P&240)===0){for(N=I,K=P,ee=B;R=r.lencode[ee+((c&(1<<N+K)-1)>>N)],I=R>>>24,P=R>>>16&255,B=R&65535,!(N+I<=h);){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}c>>>=N,h-=N,r.back+=N}if(c>>>=I,h-=I,r.back+=I,r.length=B,P===0){r.mode=_c;break}if(P&32){r.back=-1,r.mode=pr;break}if(P&64){t.msg="invalid literal/length code",r.mode=xe;break}r.extra=P&15,r.mode=mc;case mc:if(r.extra){for(w=r.extra;h<w;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=vc;case vc:for(;R=r.distcode[c&(1<<r.distbits)-1],I=R>>>24,P=R>>>16&255,B=R&65535,!(I<=h);){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}if((P&240)===0){for(N=I,K=P,ee=B;R=r.distcode[ee+((c&(1<<N+K)-1)>>N)],I=R>>>24,P=R>>>16&255,B=R&65535,!(N+I<=h);){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}c>>>=N,h-=N,r.back+=N}if(c>>>=I,h-=I,r.back+=I,P&64){t.msg="invalid distance code",r.mode=xe;break}r.offset=B,r.extra=P&15,r.mode=yc;case yc:if(r.extra){for(w=r.extra;h<w;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=xe;break}r.mode=gc;case gc:if(l===0)break e;if(k=E-l,r.offset>k){if(k=r.offset-k,k>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=xe;break}k>r.wnext?(k-=r.wnext,M=r.wsize-k):M=r.wnext-k,k>r.length&&(k=r.length),T=r.window}else T=n,M=o-r.offset,k=r.length;k>l&&(k=l),l-=k,r.length-=k;do n[o++]=T[M++];while(--k);r.length===0&&(r.mode=Na);break;case _c:if(l===0)break e;n[o++]=r.length,l--,r.mode=Na;break;case ds:if(r.wrap){for(;h<32;){if(s===0)break e;s--,c|=i[a++]<<h,h+=8}if(E-=l,t.total_out+=E,r.total+=E,E&&(t.adler=r.check=r.flags?ft(r.check,n,E,o-E):oa(r.check,n,E,o-E)),E=l,(r.flags?c:Sc(c))!==r.check){t.msg="incorrect data check",r.mode=xe;break}c=0,h=0}r.mode=wc;case wc:if(r.wrap&&r.flags){for(;h<32;){if(s===0)break e;s--,c+=i[a++]<<h,h+=8}if(c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=xe;break}c=0,h=0}r.mode=xc;case xc:j=Ip;break e;case xe:j=i0;break e;case o0:return n0;case Pp:default:return Lt}return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,r.hold=c,r.bits=h,(r.wsize||E!==t.avail_out&&r.mode<xe&&(r.mode<ds||e!==ec))&&l0(t,t.output,t.next_out,E-t.avail_out),g-=t.avail_in,E-=t.avail_out,t.total_in+=g,t.total_out+=E,r.total+=E,r.wrap&&E&&(t.adler=r.check=r.flags?ft(r.check,n,E,t.next_out-E):oa(r.check,n,E,t.next_out-E)),t.data_type=r.bits+(r.last?64:0)+(r.mode===pr?128:0)+(r.mode===Ca||r.mode===cs?256:0),(g===0&&E===0||e===ec)&&j===Ai&&(j=Rp),j},$p=t=>{if(!t||!t.state)return Lt;let e=t.state;return e.window&&(e.window=null),t.state=null,Ai},Up=(t,e)=>{if(!t||!t.state)return Lt;const r=t.state;return(r.wrap&2)===0?Lt:(r.head=e,e.done=!1,Ai)},Fp=(t,e)=>{const r=e.length;let i,n,a;return!t||!t.state||(i=t.state,i.wrap!==0&&i.mode!==Xa)?Lt:i.mode===Xa&&(n=1,n=oa(n,e,r,0),n!==i.check)?i0:(a=l0(t,e,r,r),a?(i.mode=o0,n0):(i.havedict=1,Ai))};var Hp=f0,Vp=c0,Kp=s0,jp=Op,Wp=d0,Zp=qp,Gp=$p,Jp=Up,Xp=Fp,Yp="pako inflate (from Nodeca project)",mr={inflateReset:Hp,inflateReset2:Vp,inflateResetKeep:Kp,inflateInit:jp,inflateInit2:Wp,inflate:Zp,inflateEnd:Gp,inflateGetHeader:Jp,inflateSetDictionary:Xp,inflateInfo:Yp};function Qp(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var e2=Qp;const h0=Object.prototype.toString,{Z_NO_FLUSH:t2,Z_FINISH:r2,Z_OK:ca,Z_STREAM_END:us,Z_NEED_DICT:ps,Z_STREAM_ERROR:i2,Z_DATA_ERROR:kc,Z_MEM_ERROR:n2}=zi;function wa(t){this.options=ko.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qd,this.strm.avail_out=0;let r=mr.inflateInit2(this.strm,e.windowBits);if(r!==ca)throw new Error(wi[r]);if(this.header=new e2,mr.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=fa.string2buf(e.dictionary):h0.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=mr.inflateSetDictionary(this.strm,e.dictionary),r!==ca)))throw new Error(wi[r])}wa.prototype.push=function(t,e){const r=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?r2:t2,h0.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),a=mr.inflate(r,o),a===ps&&n&&(a=mr.inflateSetDictionary(r,n),a===ca?a=mr.inflate(r,o):a===kc&&(a=ps));r.avail_in>0&&a===us&&r.state.wrap>0&&t[r.next_in]!==0;)mr.inflateReset(r),a=mr.inflate(r,o);switch(a){case i2:case kc:case ps:case n2:return this.onEnd(a),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||a===us))if(this.options.to==="string"){let l=fa.utf8border(r.output,r.next_out),c=r.next_out-l,h=fa.buf2string(r.output,l);r.next_out=c,r.avail_out=i-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===ca&&s===0)){if(a===us)return a=mr.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};wa.prototype.onData=function(t){this.chunks.push(t)};wa.prototype.onEnd=function(t){t===ca&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ko.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function df(t,e){const r=new wa(e);if(r.push(t),r.err)throw r.msg||wi[r.err];return r.result}function a2(t,e){return e=e||{},e.raw=!0,df(t,e)}var o2=wa,s2=df,f2=a2,c2=df,d2=zi,l2={Inflate:o2,inflate:s2,inflateRaw:f2,ungzip:c2,constants:d2};const{Deflate:h2,deflate:u2,deflateRaw:p2,gzip:b2}=yp,{Inflate:m2,inflate:v2,inflateRaw:y2,ungzip:g2}=l2;var _2=h2,w2=u2,x2=p2,S2=b2,A2=m2,k2=v2,E2=y2,M2=g2,I2=zi,Ba={Deflate:_2,deflate:w2,deflateRaw:x2,gzip:S2,Inflate:A2,inflate:k2,inflateRaw:E2,ungzip:M2,constants:I2};/**
 * EOSIO Signing Request v2.4.0
 * https://github.com/greymass/eosio-signing-request
 *
 * @license
 * Copyright  2021 Greymass Inc.
 * 
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the Software), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR
 * INTENDED FOR USE IN THE DESIGN, CONSTRUCTION, OPERATION OR
 * MAINTENANCE OF ANY MILITARY FACILITY.
 */const u0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",yr=new Uint8Array(256);for(let t=0;t<62;t++)yr[u0.charCodeAt(t)]=t;yr[43]=yr[45]=62;yr[47]=yr[95]=63;function lf(t,e=!0){const r=t.byteLength,i=r%3,n=r-i,a=u0+(e?"-_":"+/"),o=[];let s,l,c,h,g;for(let E=0;E<n;E+=3)g=t[E]<<16|t[E+1]<<8|t[E+2],s=(g&16515072)>>18,l=(g&258048)>>12,c=(g&4032)>>6,h=g&63,o.push(a[s]+a[l]+a[c]+a[h]);return i===1?(g=t[n],s=(g&252)>>2,l=(g&3)<<4,o.push(a[s]+a[l])):i===2&&(g=t[n]<<8|t[n+1],s=(g&64512)>>10,l=(g&1008)>>4,c=(g&15)<<2,o.push(a[s]+a[l]+a[c])),o.join("")}function hf(t){const e=t.length*.75,r=new Uint8Array(e);let i,n,a,o,s=0;for(let l=0;l<t.length;l+=4)i=yr[t.charCodeAt(l)],n=yr[t.charCodeAt(l+1)],a=yr[t.charCodeAt(l+2)],o=yr[t.charCodeAt(l+3)],r[s++]=i<<2|n>>4,r[s++]=(n&15)<<4|a>>2,r[s++]=(a&3)<<6|o&63;return r}var T2=Object.freeze({__proto__:null,encode:lf,decode:hf}),st;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.EOS=1]="EOS",t[t.TELOS=2]="TELOS",t[t.JUNGLE=3]="JUNGLE",t[t.KYLIN=4]="KYLIN",t[t.WORBLI=5]="WORBLI",t[t.BOS=6]="BOS",t[t.MEETONE=7]="MEETONE",t[t.INSIGHTS=8]="INSIGHTS",t[t.BEOS=9]="BEOS",t[t.WAX=10]="WAX",t[t.PROTON=11]="PROTON",t[t.FIO=12]="FIO"})(st||(st={}));let be=class extends ke{static from(e){if(Q(e,this))return e;if(typeof e=="number"&&(e=Ec.get(e),!e))throw new Error("Unknown chain id alias");return super.from(e)}get chainVariant(){const e=this.chainName;return e!==st.UNKNOWN?Yt.from(["chain_alias",e]):Yt.from(this)}get chainName(){const e=this.hexString;for(const[r,i]of Ec)if(i===e)return r;return st.UNKNOWN}};be=_([Di("chain_id")],be);let Os=class extends Or{};Os=_([Di("chain_alias")],Os);let Yt=class extends zt{get chainId(){return Q(this.value,be)?this.value:be.from(Number(this.value.value))}};Yt=_([zt.type("variant_id",[Os,be])],Yt);const Ec=new Map([[st.EOS,"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"],[st.TELOS,"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"],[st.JUNGLE,"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"],[st.KYLIN,"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"],[st.WORBLI,"73647cde120091e0a4b85bced2f3cfdb3041e266cbbe95cee59b73235a1b3b6f"],[st.BOS,"d5a3d18fbb3c084e3b1f3fa98c21014b5f3db536cc15d08f9f6479517c6a3d86"],[st.MEETONE,"cfe6486a83bad4962f232d48003b1824ab5665c36778141034d75e57b956e422"],[st.INSIGHTS,"b042025541e25a472bffde2d62edd457b7e70cee943412b1ea0f044f88591664"],[st.BEOS,"b912d19a6abd2b1b05611ae5be473355d64d95aeff0c09bedc8c166cd6468fe4"],[st.WAX,"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"],[st.PROTON,"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0"],[st.FIO,"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c"]]);var Ui;let Mc=class extends H{};Mc=_([Di("account_name")],Mc);let Ic=class extends H{};Ic=_([Di("permission_name")],Ic);let da=class extends p{};_([p.field($e,{optional:!0})],da.prototype,"permission",void 0);da=_([p.type("identity")],da);let ei=class extends p{};_([p.field("name")],ei.prototype,"scope",void 0);_([p.field($e,{optional:!0})],ei.prototype,"permission",void 0);ei=_([p.type("identity")],ei);let Ls=class extends zt{};Ls=_([zt.type("variant_req",[it,{type:it,array:!0},xt,da])],Ls);let qs=class extends zt{};qs=_([zt.type("variant_req",[it,{type:it,array:!0},xt,ei])],qs);let ti=Ui=class extends Or{get broadcast(){return(Number(this)&Ui.broadcast)!==0}set broadcast(e){this.setFlag(Ui.broadcast,e)}get background(){return(Number(this)&Ui.background)!==0}set background(e){this.setFlag(Ui.background,e)}setFlag(e,r){r?this.value=Or.from(Number(this)|e).value:this.value=Or.from(Number(this)&~e).value}};ti.broadcast=1<<0;ti.background=1<<1;ti=Ui=_([Di("request_flags")],ti);let ki=class extends p{};_([p.field("string")],ki.prototype,"key",void 0);_([p.field("bytes")],ki.prototype,"value",void 0);ki=_([p.type("info_pair")],ki);let ri=class extends p{};_([p.field(Yt)],ri.prototype,"chain_id",void 0);_([p.field(Ls)],ri.prototype,"req",void 0);_([p.field(ti)],ri.prototype,"flags",void 0);_([p.field("string")],ri.prototype,"callback",void 0);_([p.field(ki,{array:!0})],ri.prototype,"info",void 0);ri=_([p.type("signing_request")],ri);let ii=class extends p{};_([p.field(Yt)],ii.prototype,"chain_id",void 0);_([p.field(qs)],ii.prototype,"req",void 0);_([p.field(ti)],ii.prototype,"flags",void 0);_([p.field("string")],ii.prototype,"callback",void 0);_([p.field(ki,{array:!0})],ii.prototype,"info",void 0);ii=_([p.type("signing_request")],ii);let Dr=class extends p{};_([p.field("name")],Dr.prototype,"signer",void 0);_([p.field("signature")],Dr.prototype,"signature",void 0);Dr=_([p.type("request_signature")],Dr);var Nn;let ni=Nn=class extends p{static from(e){return Q(e,Nn)?e:typeof e=="string"?Nn.fromString(e):super.from(e)}static fromString(e){const r=e.split(" ");if(r.length!==2||r[0]!=="EOSIO")throw new Error("Invalid IdentityProof string");const i=hf(r[1]);return pe.decode({data:i,type:Nn})}static fromPayload(e,r={}){const i=Ct.from(e.req,r);if(!(i.version>=3&&i.isIdentity()))throw new Error("Not an identity request");return this.from({chainId:e.cid||i.getChainId(),scope:i.getIdentityScope(),expiration:e.ex,signer:{actor:e.sa,permission:e.sp},signature:e.sig})}get transaction(){const e=it.from({account:"",name:"identity",authorization:[this.signer],data:ei.from({scope:this.scope,permission:this.signer})});return xt.from({ref_block_num:0,ref_block_prefix:0,expiration:this.expiration,actions:[e]})}recover(){return this.signature.recoverDigest(this.transaction.signingDigest(this.chainId))}verify(e,r){return xr.from(r||new Date).toMilliseconds()<this.expiration.toMilliseconds()&&Wr.from(e).hasPermission(this.recover())}toString(){const e=pe.encode({object:this});return`EOSIO ${lf(e.array,!1)}`}};_([p.field(be)],ni.prototype,"chainId",void 0);_([p.field(H)],ni.prototype,"scope",void 0);_([p.field(xr)],ni.prototype,"expiration",void 0);_([p.field($e)],ni.prototype,"signer",void 0);_([p.field(mt)],ni.prototype,"signature",void 0);ni=Nn=_([p.type("identity_proof")],ni);const Ht=H.from("............1"),Rr=H.from("............2"),Tc=$e.from({actor:Ht,permission:Rr});class Ct{constructor(e,r,i,n,a){if(r.flags.broadcast&&r.req.variantName==="identity")throw new Error("Invalid request (identity request cannot be broadcast)");this.version=e,this.data=r,this.zlib=i,this.abiProvider=n,this.signature=a}static identityAbi(e){const r=pe.synthesize(this.identityType(e));return r.actions=[{name:"identity",type:"identity",ricardian_contract:""}],r}static identityType(e){return e===2?da:ei}static storageType(e){return e===2?ri:ii}static async create(e,r={}){let i;e.action?i=[e.action]:e.actions?i=e.actions:e.transaction?i=e.transaction.actions||[]:i=[];const n=i.filter(o=>!X.isBytes(o.data)&&o.data.constructor.abiName===void 0).map(o=>H.from(o.account)),a={};if(n.length>0){const o=r.abiProvider;if(!o)throw new Error("Missing abi provider");const s=await Promise.all(n.map(l=>o.getAbi(l)));for(const[l,c]of s.entries())a[n[l].toString()]=c}return this.createSync(e,r,a)}static createSync(e,r={},i={}){let n=2;const a={},o=h=>R2(h,i);if(e.chainId===null&&(n=3),e.identity!==void 0)e.identity.scope&&(n=3),a.req=["identity",this.identityType(n).from(e.identity)];else if(e.action&&!e.actions&&!e.transaction)a.req=["action",o(e.action)];else if(e.actions&&!e.action&&!e.transaction)e.actions.length===1?a.req=["action",o(e.actions[0])]:a.req=["action[]",e.actions.map(o)];else if(e.transaction&&!e.action&&!e.actions){const h=e.transaction;h.expiration===void 0&&(h.expiration="1970-01-01T00:00:00.000"),h.ref_block_num===void 0&&(h.ref_block_num=0),h.ref_block_prefix===void 0&&(h.ref_block_prefix=0),h.context_free_actions===void 0&&(h.context_free_actions=[]),h.transaction_extensions===void 0&&(h.transaction_extensions=[]),h.delay_sec===void 0&&(h.delay_sec=0),h.max_cpu_usage_ms===void 0&&(h.max_cpu_usage_ms=0),h.max_net_usage_words===void 0&&(h.max_net_usage_words=0),h.actions===void 0&&(h.actions=[]),h.context_free_actions===void 0&&(h.context_free_actions=[]),h.actions=h.actions.map(o),a.req=["transaction",h]}else throw new TypeError("Invalid arguments: Must have exactly one of action, actions or transaction");e.chainId===null?a.chain_id=Yt.from(["chain_alias",0]):a.chain_id=be.from(e.chainId||st.EOS).chainVariant;const s=ti.from(0);let l="";if(s.broadcast=e.broadcast!==void 0?e.broadcast:a.req[0]!=="identity",typeof e.callback=="string"?l=e.callback:typeof e.callback=="object"&&(l=e.callback.url,s.background=e.callback.background||!1),a.flags=s,a.callback=l,a.info=[],typeof e.info=="object"){for(const h in e.info)if(Object.prototype.hasOwnProperty.call(e.info,h)){let E=e.info[h];typeof E=="string"?E=X.from(E,"utf8"):E instanceof X||(E=pe.encode({object:E})),a.info.push({key:h,value:E})}}if(e.chainIds&&e.chainId===null){const h=e.chainIds.map(g=>be.from(g).chainVariant);a.info.push({key:"chain_ids",value:pe.encode({object:h,type:{type:Yt,array:!0}})})}const c=new Ct(n,this.storageType(n).from(a),r.zlib,r.abiProvider);return r.signatureProvider&&c.sign(r.signatureProvider),c}static identity(e,r={}){let i={actor:e.account||Ht,permission:e.permission||Rr};return i.actor===Ht&&i.permission===Rr&&(i=void 0),this.createSync({...e,identity:{permission:i,scope:e.scope},broadcast:!1},r)}static fromTransaction(e,r,i={}){const n=be.from(e);r=X.from(r);const a=new Qs;return a.writeByte(2),a.writeArray(pe.encode({object:n.chainVariant}).array),a.writeByte(2),a.writeArray(X.from(r).array),a.writeByte(ti.broadcast),a.writeByte(0),a.writeByte(0),Ct.fromData(a.getData(),i)}static from(e,r={}){if(typeof e!="string")throw new Error("Invalid request uri");const[i,n]=e.split(":");if(i!=="esr"&&i!=="web+esr")throw new Error("Invalid scheme");const a=hf(n.startsWith("//")?n.slice(2):n);return Ct.fromData(a,r)}static fromData(e,r={}){e=X.from(e);const i=e.array[0],n=i&~(1<<7);if(n!==2&&n!==3)throw new Error("Unsupported protocol version");let a=e.droppingFirst(1);if((i&1<<7)!==0){if(!r.zlib)throw new Error("Compressed URI needs zlib");a=X.from(r.zlib.inflateRaw(a.array))}const o=new Yi(a.array),s=pe.decode({data:o,type:this.storageType(n)});let l;return o.canRead()&&(l=pe.decode({data:o,type:Dr})),new Ct(n,s,r.zlib,r.abiProvider,l)}sign(e){const r=this.getSignatureDigest();this.signature=Dr.from(e.sign(r))}getSignatureDigest(){const e=[this.version,114,101,113,117,101,115,116];return ke.hash(X.from(e).appending(this.getData()))}setSignature(e,r){this.signature=Dr.from({signer:e,signature:r})}setCallback(e,r){this.data.callback=e,this.data.flags.background=r}setBroadcast(e){this.data.flags.broadcast=e}encode(e,r){const i=e!==void 0?e:this.zlib!==void 0;if(i&&this.zlib===void 0)throw new Error("Need zlib to compress");let n=this.version;const a=this.getData(),o=this.getSignatureData();let s=new Uint8Array(a.byteLength+o.byteLength);if(s.set(a,0),s.set(o,a.byteLength),i){const h=this.zlib.deflateRaw(s);s.byteLength>h.byteLength&&(n|=1<<7,s=h)}const l=new Uint8Array(1+s.byteLength);l[0]=n,l.set(s,1);let c="esr:";return r!==!1&&(c+="//"),c+lf(l)}getData(){return pe.encode({object:this.data}).array}getSignatureData(){return this.signature?pe.encode({object:this.signature}).array:new Uint8Array(0)}getRequiredAbis(){return this.getRawActions().filter(e=>!bs(e)).map(e=>e.account).filter((e,r,i)=>i.indexOf(e)===r)}requiresTapos(){const e=this.getRawTransaction();return!this.isIdentity()&&!Rc(e)}async fetchAbis(e){const r=this.getRequiredAbis();if(r.length>0){const i=e||this.abiProvider;if(!i)throw new Error("Missing ABI provider");const n=new Map;return await Promise.all(r.map(async a=>{n.set(a.toString(),De.from(await i.getAbi(a)))})),n}else return new Map}resolveActions(e,r){return this.getRawActions().map(i=>{let n;if(bs(i))n=this.constructor.identityAbi(this.version);else{const l=e.get(i.account.toString());if(!l)throw new Error(`Missing ABI definition for ${i.account}`);n=De.from(l)}if(!n.getActionType(i.name))throw new Error(`Missing type for action ${i.account}:${i.name} in ABI`);let o=i.decodeData(n),s=i.authorization;if(r){const l=$e.from(r),c=h=>{if(h instanceof H)return h.equals(Ht)?l.actor:h.equals(Rr)?l.permission:h;if(Array.isArray(h))return h.map(c);if(typeof h=="object"&&h!==null){for(const g of Object.keys(h))h[g]=c(h[g]);return h}else return h};o=c(o),s=s.map(h=>{let{actor:g,permission:E}=h;return g.equals(Ht)&&(g=l.actor),E.equals(Rr)&&(E=l.permission),E.equals(Ht)&&(E=l.permission),$e.from({actor:g,permission:E})})}return{...i,authorization:s,data:o}})}resolveTransaction(e,r,i={}){const n=this.getRawTransaction();if(!this.isIdentity()&&!Rc(n))if(i.expiration!==void 0&&i.ref_block_num!==void 0&&i.ref_block_prefix!==void 0)n.expiration=xr.from(i.expiration),n.ref_block_num=Kr.from(i.ref_block_num),n.ref_block_prefix=Oe.from(i.ref_block_prefix);else if(i.block_num!==void 0&&i.ref_block_prefix!==void 0&&i.timestamp!==void 0)n.expiration=Pc(i.timestamp,i.expire_seconds),n.ref_block_num=Kr.from(i.block_num),n.ref_block_prefix=Oe.from(i.ref_block_prefix);else throw new Error("Invalid transaction context, need either a reference block or explicit TaPoS values");else this.isIdentity()&&this.version>2&&(n.expiration=i.expiration?xr.from(i.expiration):Pc(i.timestamp,i.expire_seconds));const a=this.resolveActions(e,r),o=n.context_free_actions;return{...n,context_free_actions:o,actions:a}}resolve(e,r,i={}){const n=this.resolveTransaction(e,r,i),a=n.actions.map(l=>{let c;if(bs(l)?c=this.constructor.identityAbi(this.version):c=e.get(l.account.toString()),!c)throw new Error(`Missing ABI definition for ${l.account}`);const h=c.getActionType(l.name),g=pe.encode({object:l.data,type:h,abi:c});return it.from({...l,data:g})}),o=xt.from({...n,actions:a});let s;if(this.isMultiChain()){if(!i.chainId)throw new Error("Missing chosen chain ID for multi-chain request");s=be.from(i.chainId);const l=this.getChainIds();if(l&&!l.some(c=>s.equals(c)))throw new Error("Trying to resolve for chain ID not defined in request")}else s=this.getChainId();return new p0(this,$e.from(r),o,n,s)}getChainId(){return this.data.chain_id.chainId}getChainIds(){if(!this.isMultiChain())return null;const e=this.getInfoKey("chain_ids",{type:Yt,array:!0});return e?e.map(r=>r.chainId):null}setChainIds(e){const r=e.map(i=>be.from(i).chainVariant);this.setInfoKey("chain_ids",r,{type:Yt,array:!0})}isMultiChain(){return this.data.chain_id.variantIdx===0&&this.data.chain_id.value.equals(st.UNKNOWN)}getRawActions(){const e=this.data.req;switch(e.variantName){case"action":return[e.value];case"action[]":return e.value;case"identity":if(this.version===2){const r=e.value;let i="0101000000000000000200000000000000",n=[Tc];return r.permission&&(i=pe.encode({object:r}),n=[r.permission]),[it.from({account:"",name:"identity",authorization:n,data:i})]}else{let{scope:r,permission:i}=e.value;i||(i=Tc);const n=pe.encode({object:{scope:r,permission:i},type:ei});return[it.from({account:"",name:"identity",authorization:[i],data:n})]}case"transaction":return e.value.actions;default:throw new Error("Invalid signing request data")}}getRawTransaction(){const e=this.data.req;switch(e.variantName){case"transaction":return xt.from({...e.value});case"action":case"action[]":case"identity":return xt.from({actions:this.getRawActions(),context_free_actions:[],transaction_extensions:[],expiration:"1970-01-01T00:00:00.000",ref_block_num:0,ref_block_prefix:0,max_cpu_usage_ms:0,max_net_usage_words:0,delay_sec:0});default:throw new Error("Invalid signing request data")}}isIdentity(){return this.data.req.variantName==="identity"}shouldBroadcast(){return this.isIdentity()?!1:this.data.flags.broadcast}getIdentity(){if(!this.isIdentity())return null;const e=this.data.req.value;return e.permission&&!e.permission.actor.equals(Ht)?e.permission.actor:null}getIdentityPermission(){if(!this.isIdentity())return null;const e=this.data.req.value;return e.permission&&!e.permission.permission.equals(Rr)?e.permission.permission:null}getIdentityScope(){return!this.isIdentity()||this.version<=2?null:this.data.req.value.scope}getRawInfo(){const e={};for(const{key:r,value:i}of this.data.info)e[r]=i;return e}getRawInfoKey(e){const r=this.data.info.find(i=>i.key===e);if(r)return r.value}setRawInfoKey(e,r){let i=this.data.info.find(n=>n.key===e);i?i.value=X.from(r):(i=ki.from({key:e,value:r}),this.data.info.push(i))}setInfoKey(e,r,i){let n;typeof r=="string"&&!i?n=X.from(r,"utf8"):n=pe.encode({object:r,type:i}),this.setRawInfoKey(e,n)}getInfoKey(e,r){const i=this.getRawInfoKey(e);if(i)return r?pe.decode({data:i,type:r}):i.utf8String}clone(){let e;this.signature&&(e=Dr.from(JSON.parse(JSON.stringify(this.signature))));const i=this.constructor.storageType(this.version).from(JSON.parse(JSON.stringify(this.data)));return new Ct(this.version,i,this.zlib,this.abiProvider,e)}toString(){return this.encode()}toJSON(){return this.encode()}}class p0{constructor(e,r,i,n,a){this.request=e,this.signer=r,this.transaction=i,this.resolvedTransaction=n,this.chainId=a}static async fromPayload(e,r={}){const i=Ct.from(e.req,r),n=await i.fetchAbis();return i.resolve(n,{actor:e.sa,permission:e.sp},{ref_block_num:e.rbn,ref_block_prefix:e.rid,expiration:e.ex,chainId:e.cid||i.getChainId()})}get serializedTransaction(){return pe.encode({object:this.transaction}).array}get signingDigest(){return this.transaction.signingDigest(this.chainId)}get signingData(){return this.transaction.signingData(this.chainId)}getCallback(e,r){const{callback:i,flags:n}=this.request.data;if(!i||i.length===0)return null;if(!e||e.length===0)throw new Error("Must have at least one signature to resolve callback");const a=e.map(l=>mt.from(l)),o={sig:String(a[0]),tx:String(this.transaction.id),rbn:String(this.transaction.ref_block_num),rid:String(this.transaction.ref_block_prefix),ex:String(this.transaction.expiration),req:this.request.encode(),sa:String(this.signer.actor),sp:String(this.signer.permission),cid:String(this.chainId)};for(const[l,c]of a.slice(1).entries())o[`sig${l}`]=String(c);r&&(o.bn=String(Oe.from(r)));const s=i.replace(/({{([a-z0-9]+)}})/g,(l,c,h)=>o[h]||"");return{background:n.background,payload:o,url:s}}getIdentityProof(e){if(!this.request.isIdentity())throw new Error("Not a identity request");return ni.from({chainId:this.chainId,scope:this.request.getIdentityScope(),expiration:this.transaction.expiration,signer:this.signer,signature:e})}}function R2(t,e){if(X.isBytes(t.data)||t.data.constructor.abiName!==void 0)return it.from(t);const r=e[String(H.from(t.account))];if(!r)throw new Error(`Missing ABI for ${t.account}`);return it.from(t,r)}function bs(t){const e=H.from(t.account),r=H.from(t.name);return e.rawValue.equals(0)&&r.equals("identity")}function Rc(t){return!(t.expiration.equals(0)&&t.ref_block_num.equals(0)&&t.ref_block_prefix.equals(0))}function Pc(t,e=60){const r=xr.from(t||new Date),i=Oe.from(e);return xr.fromInteger(r.value.adding(i))}var $s={exports:{}};(function(t,e){(function(r){function i(n){var a=n&&n.Promise||r.Promise,o=n&&n.XMLHttpRequest||r.XMLHttpRequest;return function(){var s=Object.create(r,{fetch:{value:void 0,writable:!0}});return function(l,c){c(e)}(this,function(l){var c=typeof s<"u"&&s||typeof self<"u"&&self||typeof c<"u"&&c,h={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function g(b){return b&&DataView.prototype.isPrototypeOf(b)}if(h.arrayBuffer)var E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],k=ArrayBuffer.isView||function(b){return b&&E.indexOf(Object.prototype.toString.call(b))>-1};function M(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(b)||b==="")throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function T(b){return typeof b!="string"&&(b=String(b)),b}function R(b){var A={next:function(){var y=b.shift();return{done:y===void 0,value:y}}};return h.iterable&&(A[Symbol.iterator]=function(){return A}),A}function I(b){this.map={},b instanceof I?b.forEach(function(A,y){this.append(y,A)},this):Array.isArray(b)?b.forEach(function(A){this.append(A[0],A[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(A){this.append(A,b[A])},this)}I.prototype.append=function(b,A){b=M(b),A=T(A);var y=this.map[b];this.map[b]=y?y+", "+A:A},I.prototype.delete=function(b){delete this.map[M(b)]},I.prototype.get=function(b){return b=M(b),this.has(b)?this.map[b]:null},I.prototype.has=function(b){return this.map.hasOwnProperty(M(b))},I.prototype.set=function(b,A){this.map[M(b)]=T(A)},I.prototype.forEach=function(b,A){for(var y in this.map)this.map.hasOwnProperty(y)&&b.call(A,this.map[y],y,this)},I.prototype.keys=function(){var b=[];return this.forEach(function(A,y){b.push(y)}),R(b)},I.prototype.values=function(){var b=[];return this.forEach(function(A){b.push(A)}),R(b)},I.prototype.entries=function(){var b=[];return this.forEach(function(A,y){b.push([y,A])}),R(b)},h.iterable&&(I.prototype[Symbol.iterator]=I.prototype.entries);function P(b){if(b.bodyUsed)return a.reject(new TypeError("Already read"));b.bodyUsed=!0}function B(b){return new a(function(A,y){b.onload=function(){A(b.result)},b.onerror=function(){y(b.error)}})}function N(b){var A=new FileReader,y=B(A);return A.readAsArrayBuffer(b),y}function K(b){var A=new FileReader,y=B(A);return A.readAsText(b),y}function ee(b){for(var A=new Uint8Array(b),y=new Array(A.length),d=0;d<A.length;d++)y[d]=String.fromCharCode(A[d]);return y.join("")}function $(b){if(b.slice)return b.slice(0);var A=new Uint8Array(b.byteLength);return A.set(new Uint8Array(b)),A.buffer}function j(){return this.bodyUsed=!1,this._initBody=function(b){this.bodyUsed=this.bodyUsed,this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:h.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:h.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():h.arrayBuffer&&h.blob&&g(b)?(this._bodyArrayBuffer=$(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||k(b))?this._bodyArrayBuffer=$(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var b=P(this);if(b)return b;if(this._bodyBlob)return a.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return a.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return a.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var b=P(this);return b||(ArrayBuffer.isView(this._bodyArrayBuffer)?a.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):a.resolve(this._bodyArrayBuffer))}else return this.blob().then(N)}),this.text=function(){var b=P(this);if(b)return b;if(this._bodyBlob)return K(this._bodyBlob);if(this._bodyArrayBuffer)return a.resolve(ee(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return a.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function V(b){var A=b.toUpperCase();return F.indexOf(A)>-1?A:b}function w(b,A){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var y=A.body;if(b instanceof w){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,A.headers||(this.headers=new I(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!y&&b._bodyInit!=null&&(y=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new I(A.headers)),this.method=V(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&y)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(y),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var d=/([?&])_=[^&]*/;if(d.test(this.url))this.url=this.url.replace(d,"$1_="+new Date().getTime());else{var x=/\?/;this.url+=(x.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})};function f(b){var A=new FormData;return b.trim().split("&").forEach(function(y){if(y){var d=y.split("="),x=d.shift().replace(/\+/g," "),L=d.join("=").replace(/\+/g," ");A.append(decodeURIComponent(x),decodeURIComponent(L))}}),A}function u(b){var A=new I,y=b.replace(/\r?\n[\t ]+/g," ");return y.split("\r").map(function(d){return d.indexOf(`
`)===0?d.substr(1,d.length):d}).forEach(function(d){var x=d.split(":"),L=x.shift().trim();if(L){var W=x.join(":").trim();A.append(L,W)}}),A}j.call(w.prototype);function m(b,A){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in A?A.statusText:"",this.headers=new I(A.headers),this.url=A.url||"",this._initBody(b)}j.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new I(this.headers),url:this.url})},m.error=function(){var b=new m(null,{status:0,statusText:""});return b.type="error",b};var v=[301,302,303,307,308];m.redirect=function(b,A){if(v.indexOf(A)===-1)throw new RangeError("Invalid status code");return new m(null,{status:A,headers:{location:b}})},l.DOMException=c.DOMException;try{new l.DOMException}catch{l.DOMException=function(A,y){this.message=A,this.name=y;var d=Error(A);this.stack=d.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function S(b,A){return new a(function(y,d){var x=new w(b,A);if(x.signal&&x.signal.aborted)return d(new l.DOMException("Aborted","AbortError"));var L=new o;function W(){L.abort()}L.onload=function(){var G={status:L.status,statusText:L.statusText,headers:u(L.getAllResponseHeaders()||"")};G.url="responseURL"in L?L.responseURL:G.headers.get("X-Request-URL");var ne="response"in L?L.response:L.responseText;setTimeout(function(){y(new m(ne,G))},0)},L.onerror=function(){setTimeout(function(){d(new TypeError("Network request failed"))},0)},L.ontimeout=function(){setTimeout(function(){d(new TypeError("Network request failed"))},0)},L.onabort=function(){setTimeout(function(){d(new l.DOMException("Aborted","AbortError"))},0)};function Z(G){try{return G===""&&c.location.href?c.location.href:G}catch{return G}}L.open(x.method,Z(x.url),!0),x.credentials==="include"?L.withCredentials=!0:x.credentials==="omit"&&(L.withCredentials=!1),"responseType"in L&&(h.blob?L.responseType="blob":h.arrayBuffer&&x.headers.get("Content-Type")&&x.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(L.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof I)?Object.getOwnPropertyNames(A.headers).forEach(function(G){L.setRequestHeader(G,T(A.headers[G]))}):x.headers.forEach(function(G,ne){L.setRequestHeader(ne,G)}),x.signal&&(x.signal.addEventListener("abort",W),L.onreadystatechange=function(){L.readyState===4&&x.signal.removeEventListener("abort",W)}),L.send(typeof x._bodyInit>"u"?null:x._bodyInit)})}S.polyfill=!0,c.fetch||(c.fetch=S,c.Headers=I,c.Request=w,c.Response=m),l.Headers=I,l.Request=w,l.Response=m,l.fetch=S,Object.defineProperty(l,"__esModule",{value:!0})}),{fetch:s.fetch,Headers:s.Headers,Request:s.Request,Response:s.Response,DOMException:s.DOMException}}()}t.exports=i})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:li)})($s,$s.exports);const P2=L0($s.exports);/**
 * @greymass/miniaes v1.0.0
 * https://github.com/greymass/miniaes-js
 *
 * @license
 * Copyright (c) 2021 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 *//**
 * @file {@link http://asmjs.org Asm.js} implementation of the {@link https://en.wikipedia.org/wiki/Advanced_Encryption_Standard Advanced Encryption Standard}.
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */var Zt=function(){var t=!1,e,r;function i(){e=[],r=[];var k=1,M,T;for(M=0;M<255;M++)e[M]=k,T=k&128,k<<=1,k&=255,T===128&&(k^=27),k^=e[M],r[e[M]]=M;e[255]=e[0],r[0]=0,t=!0}function n(k,M){var T=e[(r[k]+r[M])%255];return(k===0||M===0)&&(T=0),T}function a(k){var M=e[255-r[k]];return k===0&&(M=0),M}var o=!1,s,l,c,h;function g(){t||i();function k(I){var P,B,N;for(B=N=a(I),P=0;P<4;P++)B=(B<<1|B>>>7)&255,N^=B;return N^=99,N}s=[],l=[],c=[[],[],[],[]],h=[[],[],[],[]];for(var M=0;M<256;M++){var T=k(M);s[M]=T,l[T]=M,c[0][M]=n(2,T)<<24|T<<16|T<<8|n(3,T),h[0][T]=n(14,M)<<24|n(9,M)<<16|n(13,M)<<8|n(11,M);for(var R=1;R<4;R++)c[R][M]=c[R-1][M]>>>8|c[R-1][M]<<24,h[R][T]=h[R-1][T]>>>8|h[R-1][T]<<24}o=!0}var E=function(k,M){o||g();var T=new Uint32Array(M);T.set(s,512),T.set(l,768);for(var R=0;R<4;R++)T.set(c[R],4096+1024*R>>2),T.set(h[R],8192+1024*R>>2);function I(N,K,ee,$,j,F,V,w,f){var u=T.subarray(0,60),m=T.subarray(256,256+60);u.set([K,ee,$,j,F,V,w,f]);for(var v=N,S=1;v<4*N+28;v++){var b=u[v-1];(v%N===0||N===8&&v%N===4)&&(b=s[b>>>24]<<24^s[b>>>16&255]<<16^s[b>>>8&255]<<8^s[b&255]),v%N===0&&(b=b<<8^b>>>24^S<<24,S=S<<1^(S&128?27:0)),u[v]=u[v-N]^b}for(var A=0;A<v;A+=4)for(var y=0;y<4;y++){var b=u[v-(4+A)+(4-y)%4];A<4||A>=v-4?m[A+y]=b:m[A+y]=h[0][s[b>>>24]]^h[1][s[b>>>16&255]]^h[2][s[b>>>8&255]]^h[3][s[b&255]]}B.set_rounds(N+5)}var P={Uint8Array,Uint32Array},B=function(N,K,ee){var $=0,j=0,F=0,V=0,w=0,f=0,u=0,m=0,v=0,S=0,b=0,A=0,y=0,d=0,x=0,L=0,W=0,Z=0,G=0,ne=0,le=0,J=new N.Uint32Array(ee),z=new N.Uint8Array(ee);function me(D,C,U,Y,te,re,qe,ie){D=D|0,C=C|0,U=U|0,Y=Y|0,te=te|0,re=re|0,qe=qe|0,ie=ie|0;var he=0,Pt=0,ue=0,ve=0,ur=0,_e=0,Ae=0,_t=0;for(he=U|1024,Pt=U|2048,ue=U|3072,te=te^J[(D|0)>>2],re=re^J[(D|4)>>2],qe=qe^J[(D|8)>>2],ie=ie^J[(D|12)>>2],_t=16;(_t|0)<=Y<<4;_t=_t+16|0)ve=J[(U|te>>22&1020)>>2]^J[(he|re>>14&1020)>>2]^J[(Pt|qe>>6&1020)>>2]^J[(ue|ie<<2&1020)>>2]^J[(D|_t|0)>>2],ur=J[(U|re>>22&1020)>>2]^J[(he|qe>>14&1020)>>2]^J[(Pt|ie>>6&1020)>>2]^J[(ue|te<<2&1020)>>2]^J[(D|_t|4)>>2],_e=J[(U|qe>>22&1020)>>2]^J[(he|ie>>14&1020)>>2]^J[(Pt|te>>6&1020)>>2]^J[(ue|re<<2&1020)>>2]^J[(D|_t|8)>>2],Ae=J[(U|ie>>22&1020)>>2]^J[(he|te>>14&1020)>>2]^J[(Pt|re>>6&1020)>>2]^J[(ue|qe<<2&1020)>>2]^J[(D|_t|12)>>2],te=ve,re=ur,qe=_e,ie=Ae;$=J[(C|te>>22&1020)>>2]<<24^J[(C|re>>14&1020)>>2]<<16^J[(C|qe>>6&1020)>>2]<<8^J[(C|ie<<2&1020)>>2]^J[(D|_t|0)>>2],j=J[(C|re>>22&1020)>>2]<<24^J[(C|qe>>14&1020)>>2]<<16^J[(C|ie>>6&1020)>>2]<<8^J[(C|te<<2&1020)>>2]^J[(D|_t|4)>>2],F=J[(C|qe>>22&1020)>>2]<<24^J[(C|ie>>14&1020)>>2]<<16^J[(C|te>>6&1020)>>2]<<8^J[(C|re<<2&1020)>>2]^J[(D|_t|8)>>2],V=J[(C|ie>>22&1020)>>2]<<24^J[(C|te>>14&1020)>>2]<<16^J[(C|re>>6&1020)>>2]<<8^J[(C|qe<<2&1020)>>2]^J[(D|_t|12)>>2]}function kr(D,C,U,Y){D=D|0,C=C|0,U=U|0,Y=Y|0,me(0,2048,4096,le,w^D,f^C,u^U,m^Y),w=$,f=j,u=F,m=V}function ge(D,C,U,Y){D=D|0,C=C|0,U=U|0,Y=Y|0;var te=0;me(1024,3072,8192,le,D,Y,U,C),te=j,j=V,V=te,$=$^w,j=j^f,F=F^u,V=V^m,w=D,f=C,u=U,m=Y}function Le(D,C,U,Y){D=D|0,C=C|0,U=U|0,Y=Y|0;var te=0,re=0,qe=0,ie=0,he=0,Pt=0,ue=0,ve=0,ur=0,_e=0;for(D=D^w,C=C^f,U=U^u,Y=Y^m,te=W|0,re=Z|0,qe=G|0,ie=ne|0;(ur|0)<128;ur=ur+1|0)te>>>31&&(he=he^D,Pt=Pt^C,ue=ue^U,ve=ve^Y),te=te<<1|re>>>31,re=re<<1|qe>>>31,qe=qe<<1|ie>>>31,ie=ie<<1,_e=Y&1,Y=Y>>>1|U<<31,U=U>>>1|C<<31,C=C>>>1|D<<31,D=D>>>1,_e&&(D=D^3774873600);w=he,f=Pt,u=ue,m=ve}function Aa(D){D=D|0,le=D}function Me(D,C,U,Y){D=D|0,C=C|0,U=U|0,Y=Y|0,$=D,j=C,F=U,V=Y}function Ie(D,C,U,Y){D=D|0,C=C|0,U=U|0,Y=Y|0,w=D,f=C,u=U,m=Y}function ka(D,C,U,Y){D=D|0,C=C|0,U=U|0,Y=Y|0,v=D,S=C,b=U,A=Y}function Te(D,C,U,Y){D=D|0,C=C|0,U=U|0,Y=Y|0,y=D,d=C,x=U,L=Y}function Re(D,C,U,Y){D=D|0,C=C|0,U=U|0,Y=Y|0,A=~L&A|L&Y,b=~x&b|x&U,S=~d&S|d&C,v=~y&v|y&D}function Ea(D){return D=D|0,D&15?-1:(z[D|0]=$>>>24,z[D|1]=$>>>16&255,z[D|2]=$>>>8&255,z[D|3]=$&255,z[D|4]=j>>>24,z[D|5]=j>>>16&255,z[D|6]=j>>>8&255,z[D|7]=j&255,z[D|8]=F>>>24,z[D|9]=F>>>16&255,z[D|10]=F>>>8&255,z[D|11]=F&255,z[D|12]=V>>>24,z[D|13]=V>>>16&255,z[D|14]=V>>>8&255,z[D|15]=V&255,16)}function Pe(D){return D=D|0,D&15?-1:(z[D|0]=w>>>24,z[D|1]=w>>>16&255,z[D|2]=w>>>8&255,z[D|3]=w&255,z[D|4]=f>>>24,z[D|5]=f>>>16&255,z[D|6]=f>>>8&255,z[D|7]=f&255,z[D|8]=u>>>24,z[D|9]=u>>>16&255,z[D|10]=u>>>8&255,z[D|11]=u&255,z[D|12]=m>>>24,z[D|13]=m>>>16&255,z[D|14]=m>>>8&255,z[D|15]=m&255,16)}function Ce(D,C,U){D=D|0,C=C|0,U=U|0;var Y=0;if(C&15)return-1;for(;(U|0)>=16;)Ne[D&7](z[C|0]<<24|z[C|1]<<16|z[C|2]<<8|z[C|3],z[C|4]<<24|z[C|5]<<16|z[C|6]<<8|z[C|7],z[C|8]<<24|z[C|9]<<16|z[C|10]<<8|z[C|11],z[C|12]<<24|z[C|13]<<16|z[C|14]<<8|z[C|15]),z[C|0]=$>>>24,z[C|1]=$>>>16&255,z[C|2]=$>>>8&255,z[C|3]=$&255,z[C|4]=j>>>24,z[C|5]=j>>>16&255,z[C|6]=j>>>8&255,z[C|7]=j&255,z[C|8]=F>>>24,z[C|9]=F>>>16&255,z[C|10]=F>>>8&255,z[C|11]=F&255,z[C|12]=V>>>24,z[C|13]=V>>>16&255,z[C|14]=V>>>8&255,z[C|15]=V&255,Y=Y+16|0,C=C+16|0,U=U-16|0;return Y|0}function Ma(D,C,U){D=D|0,C=C|0,U=U|0;var Y=0;if(C&15)return-1;for(;(U|0)>=16;)Be[D&1](z[C|0]<<24|z[C|1]<<16|z[C|2]<<8|z[C|3],z[C|4]<<24|z[C|5]<<16|z[C|6]<<8|z[C|7],z[C|8]<<24|z[C|9]<<16|z[C|10]<<8|z[C|11],z[C|12]<<24|z[C|13]<<16|z[C|14]<<8|z[C|15]),Y=Y+16|0,C=C+16|0,U=U-16|0;return Y|0}var Ne=[kr,kr,kr,ge,ge,ge,ge,ge],Be=[kr,kr];return{set_rounds:Aa,set_state:Me,set_iv:Ie,set_nonce:ka,set_mask:Te,set_counter:Re,get_state:Ea,get_iv:Pe,cipher:Ce,mac:Ma}}(P,k,M);return B.set_key=I,B};return E.ENC={CBC:2},E.DEC={CBC:3},E.MAC={CBC:0},E.HEAP_DATA=16384,E}();function C2(t,e){const r=t?t.byteLength:e||65536;if(r&4095||r<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return t=t||new Uint8Array(new ArrayBuffer(r)),t}function Cc(t,e,r,i,n){const a=t.length-e,o=a<n?a:n;return t.set(r.subarray(i,i+o),e),o}function Nc(t){return t instanceof Uint8Array}function Bc(...t){const e=t.reduce((n,a)=>n+a.length,0),r=new Uint8Array(e);let i=0;for(let n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r}class N2{constructor(e,r,i=!0,n){this.pos=0,this.len=0,this.mode=n,this.heap=C2().subarray(Zt.HEAP_DATA),this.asm=new Zt(null,this.heap.buffer),this.pos=0,this.len=0;const a=e.length;if(a!==16&&a!==24&&a!==32)throw new TypeError("illegal key size");const o=new DataView(e.buffer,e.byteOffset,e.byteLength);if(this.asm.set_key(a>>2,o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12),a>16?o.getUint32(16):0,a>16?o.getUint32(20):0,a>24?o.getUint32(24):0,a>24?o.getUint32(28):0),r!==void 0){if(r.length!==16)throw new TypeError("illegal iv size");const s=new DataView(r.buffer,r.byteOffset,r.byteLength);this.asm.set_iv(s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12))}else this.asm.set_iv(0,0,0,0);this.padding=i}AES_Encrypt_process(e){if(!Nc(e))throw new TypeError("data isn't of expected type");const r=this.asm,i=this.heap,n=Zt.ENC[this.mode],a=Zt.HEAP_DATA;let o=this.pos,s=this.len,l=0,c=e.length||0,h=0;const g=s+c&-16;let E=0;const k=new Uint8Array(g);for(;c>0;)E=Cc(i,o+s,e,l,c),s+=E,l+=E,c-=E,E=r.cipher(n,a+o,s),E&&k.set(i.subarray(o,o+E),h),h+=E,E<s?(o+=E,s-=E):(o=0,s=0);return this.pos=o,this.len=s,k}AES_Encrypt_finish(){const e=this.asm,r=this.heap,i=Zt.ENC[this.mode],n=Zt.HEAP_DATA,a=this.pos;let o=this.len;const s=16-o%16;let l=o;if(this.padding){for(let h=0;h<s;++h)r[a+o+h]=s;o+=s,l=o}else if(o%16)throw new TypeError("data length must be a multiple of the block size");const c=new Uint8Array(l);return o&&e.cipher(i,n+a,o),l&&c.set(r.subarray(a,a+l)),this.pos=0,this.len=0,c}AES_Decrypt_process(e){if(!Nc(e))throw new TypeError("data isn't of expected type");const r=this.asm,i=this.heap,n=Zt.DEC[this.mode],a=Zt.HEAP_DATA;let o=this.pos,s=this.len,l=0,c=e.length||0,h=0,g=s+c&-16,E=0,k=0;this.padding&&(E=s+c-g||16,g-=E);const M=new Uint8Array(g);for(;c>0;)k=Cc(i,o+s,e,l,c),s+=k,l+=k,c-=k,k=r.cipher(n,a+o,s-(c?0:E)),k&&M.set(i.subarray(o,o+k),h),h+=k,k<s?(o+=k,s-=k):(o=0,s=0);return this.pos=o,this.len=s,M}AES_Decrypt_finish(){const e=this.asm,r=this.heap,i=Zt.DEC[this.mode],n=Zt.HEAP_DATA,a=this.pos,o=this.len;let s=o;if(o>0){if(o%16)throw new Error("data length must be a multiple of the block size");if(e.cipher(i,n+a,o),this.padding){const c=r[a+s-1];if(c<1||c>16||c>s)throw new Error("bad padding");let h=0;for(let g=c;g>1;g--)h|=c^r[a+s-g];if(h)throw new Error("bad padding");s-=c}}const l=new Uint8Array(s);return s>0&&l.set(r.subarray(a,a+s)),this.pos=0,this.len=0,l}}class Ya{constructor(e,r,i=!0,n){this.aes=n||new N2(e,r,i,"CBC")}static encrypt(e,r,i=!0,n){return new Ya(r,n,i).encrypt(e)}static decrypt(e,r,i=!0,n){return new Ya(r,n,i).decrypt(e)}encrypt(e){const r=this.aes.AES_Encrypt_process(e),i=this.aes.AES_Encrypt_finish();return Bc(r,i)}decrypt(e){const r=this.aes.AES_Decrypt_process(e),i=this.aes.AES_Decrypt_finish();return Bc(r,i)}}var Da,B2=new Uint8Array(16);function D2(){if(!Da&&(Da=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Da))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Da(B2)}const z2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function O2(t){return typeof t=="string"&&z2.test(t)}var bt=[];for(var ms=0;ms<256;++ms)bt.push((ms+256).toString(16).substr(1));function L2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(bt[t[e+0]]+bt[t[e+1]]+bt[t[e+2]]+bt[t[e+3]]+"-"+bt[t[e+4]]+bt[t[e+5]]+"-"+bt[t[e+6]]+bt[t[e+7]]+"-"+bt[t[e+8]]+bt[t[e+9]]+"-"+bt[t[e+10]]+bt[t[e+11]]+bt[t[e+12]]+bt[t[e+13]]+bt[t[e+14]]+bt[t[e+15]]).toLowerCase();if(!O2(r))throw TypeError("Stringified UUID is invalid");return r}function q2(t,e,r){t=t||{};var i=t.random||(t.rng||D2)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(var n=0;n<16;++n)e[r+n]=i[n];return e}return L2(i)}var Fi=null;typeof WebSocket<"u"?Fi=WebSocket:typeof MozWebSocket<"u"?Fi=MozWebSocket:typeof li<"u"?Fi=li.WebSocket||li.MozWebSocket:typeof window<"u"?Fi=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Fi=self.WebSocket||self.MozWebSocket);var za=Fi;/**
 * Anchor Link v3.4.1
 * https://github.com/greymass/anchor-link
 *
 * @license
 * Copyright (c) 2020 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */class Dc extends Error{constructor(e){super(`User canceled request ${e?"("+e+")":""}`),this.code="E_CANCEL"}}class Tn extends Error{constructor(e){super(`Unable to verify identity ${e?"("+e+")":""}`),this.code="E_IDENTITY"}}class Ha extends Error{constructor(e,r,i){super(e),this.code=r,this.session=i}}var $n;(function(t){t.defaults={service:"https://cb.anchor.link",verifyProofs:!1,encodeChainIds:!0}})($n||($n={}));let Ei=class extends p{};_([p.field("public_key")],Ei.prototype,"from",void 0);_([p.field("uint64")],Ei.prototype,"nonce",void 0);_([p.field("bytes")],Ei.prototype,"ciphertext",void 0);_([p.field("uint32")],Ei.prototype,"checksum",void 0);Ei=_([p.type("sealed_message")],Ei);let Mi=class extends p{};_([p.field("name")],Mi.prototype,"session_name",void 0);_([p.field("public_key")],Mi.prototype,"request_key",void 0);_([p.field("string",{extension:!0})],Mi.prototype,"user_agent",void 0);Mi=_([p.type("link_create")],Mi);let Qa=class extends p{};_([p.field("time_point_sec")],Qa.prototype,"expiration",void 0);Qa=_([p.type("link_info")],Qa);const b0=P2().fetch;function $2(t,e,r,i){const n=e.sharedSecret(r);i||(i=ye.random());const a=Bi.hash(pe.encode({object:i}).appending(n.array)),o=new Ya(a.array.slice(0,32),a.array.slice(32,48)),s=X.from(o.encrypt(X.from(t,"utf8").array)),c=new DataView(ke.hash(a.array).array.buffer).getUint32(0,!0);return Ei.from({from:e.toPublic(),nonce:i,ciphertext:s,checksum:c})}function m0(t,e){const r={sameDevice:e.getRawInfo().return_path!==void 0};if(t.link_meta)try{const i=JSON.parse(t.link_meta);for(const n of Object.keys(i))r[F2(n)]=i[n]}catch(i){Un("Unable to parse link metadata",i,t.link_meta)}return r}function U2(t){return t.split("_").map(e=>(e[0]?e[0].toUpperCase():"_")+e.slice(1)).join("")}function F2(t){const e=U2(t);return e[0].toLowerCase()+e.slice(1)}function Un(...t){console.warn("[anchor-link]",...t)}class uf{constructor(){}async remove(){this.link.storage&&await this.link.removeSession(this.identifier,this.auth,this.chainId)}get client(){return this.link.getChain(this.chainId).client}static restore(e,r){switch(r.type){case"channel":return new v0(e,r.data,r.metadata);case"fallback":return new y0(e,r.data,r.metadata);default:throw new Error("Unable to restore, session data invalid")}}}class v0 extends uf{constructor(e,r,i){super(),this.type="channel",this.timeout=2*60*1e3,this.link=e,this.chainId=be.from(r.chainId),this.auth=$e.from(r.auth),this.publicKey=ct.from(r.publicKey),this.identifier=H.from(r.identifier);const n=Vn.from(r.requestKey);this.channelKey=ct.from(r.channel.key),this.channelUrl=r.channel.url,this.channelName=r.channel.name,this.encrypt=a=>$2(a.encode(!0,!1),n,this.channelKey),this.metadata={...i||{},timeout:this.timeout,name:this.channelName,request_key:n.toPublic()},this.serialize=()=>({type:"channel",data:{...r,channel:{url:this.channelUrl,key:this.channelKey,name:this.channelName}},metadata:this.metadata})}onSuccess(e,r){this.link.transport.onSuccess&&this.link.transport.onSuccess(e,r)}onFailure(e,r){this.link.transport.onFailure&&this.link.transport.onFailure(e,r)}onRequest(e,r){const i=Qa.from({expiration:new Date(Date.now()+this.timeout)});this.link.transport.onSessionRequest&&this.link.transport.onSessionRequest(this,e,r);const n=setTimeout(()=>{r(new Ha("Wallet did not respond in time","E_TIMEOUT",this))},this.timeout);e.setInfoKey("link",i);let a=!1;const o=pe.encode({object:this.encrypt(e)});if(this.link.transport.sendSessionPayload)try{a=this.link.transport.sendSessionPayload(o,this)}catch(s){Un("Unexpected error when transport tried to send session payload",s)}a||b0(this.channelUrl,{method:"POST",headers:{"X-Buoy-Soft-Wait":"10"},body:o.array}).then(s=>{Math.floor(s.status/100)!==2&&(clearTimeout(n),s.status===202&&Un("Missing delivery ack from session channel"),r(new Ha("Unable to push message","E_DELIVERY",this)))}).catch(s=>{clearTimeout(n),r(new Ha(`Unable to reach link service (${s.message||String(s)})`,"E_DELIVERY",this))})}addLinkInfo(e){const r=Mi.from({session_name:this.identifier,request_key:this.metadata.request_key,user_agent:this.link.getUserAgent()});e.setInfoKey("link",r)}prepare(e){return this.link.transport.prepare?this.link.transport.prepare(e,this):Promise.resolve(e)}showLoading(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}recoverError(e,r){return this.link.transport.recoverError?this.link.transport.recoverError(e,r):!1}makeSignatureProvider(){return this.link.makeSignatureProvider([this.publicKey.toString()],this.chainId,this)}async transact(e,r){const i=await this.link.transact(e,{...r,chain:this.chainId},this);if(i.payload.link_ch&&i.payload.link_key&&i.payload.link_name)try{const n={...this.metadata,...m0(i.payload,i.resolved.request)};this.channelUrl=i.payload.link_ch,this.channelKey=ct.from(i.payload.link_key),this.channelName=i.payload.link_name,n.name=i.payload.link_name,this.metadata=n}catch(n){Un("Unable to recover link session",n)}return i}}class y0 extends uf{constructor(e,r,i){super(),this.type="fallback",this.link=e,this.auth=$e.from(r.auth),this.publicKey=ct.from(r.publicKey),this.chainId=be.from(r.chainId),this.metadata=i||{},this.identifier=H.from(r.identifier),this.serialize=()=>({type:this.type,data:r,metadata:this.metadata})}onSuccess(e,r){this.link.transport.onSuccess&&this.link.transport.onSuccess(e,r)}onFailure(e,r){this.link.transport.onFailure&&this.link.transport.onFailure(e,r)}onRequest(e,r){this.link.transport.onSessionRequest?this.link.transport.onSessionRequest(this,e,r):this.link.transport.onRequest(e,r)}prepare(e){return this.link.transport.prepare?this.link.transport.prepare(e,this):Promise.resolve(e)}showLoading(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}makeSignatureProvider(){return this.link.makeSignatureProvider([this.publicKey.toString()],this.chainId,this)}transact(e,r){return this.link.transact(e,{...r,chain:this.chainId},this)}}class H2{constructor(e){this.address=e.trim().replace(/\/$/,"")}create(){const e=`${this.address}/${q2()}`;return new V2(e)}}class V2{constructor(e){this.url=e,this.ctx={}}wait(){return this.url.includes("hyperbuoy")?j2(this.url,this.ctx):K2(this.url,this.ctx)}cancel(){this.ctx.cancel&&this.ctx.cancel()}}function K2(t,e){return new Promise((r,i)=>{let n=!0,a=0;const o=t.replace(/^http/,"ws"),s=c=>{try{r(JSON.parse(c))}catch(h){h.message="Unable to parse callback JSON: "+h.message,i(h)}},l=()=>{const c=new za(o);e.cancel=()=>{n=!1,(c.readyState===za.OPEN||c.readyState===za.CONNECTING)&&c.close()},c.onmessage=h=>{if(n=!1,c.readyState===za.OPEN&&c.close(),typeof Blob<"u"&&h.data instanceof Blob){const g=new FileReader;g.onload=()=>{s(g.result)},g.onerror=E=>{i(E)},g.readAsText(h.data)}else typeof h.data=="string"?s(h.data):s(h.data.toString())},c.onopen=()=>{a=0},c.onclose=()=>{n&&setTimeout(l,W2(a++))}};l()})}async function j2(t,e){let r=!0;for(e.cancel=()=>{r=!1};r;){try{const i=await b0(t);if(i.status===408)continue;if(i.status===200)return await i.json();throw new Error(`HTTP ${i.status}: ${i.statusText}`)}catch(i){Un("Unexpected hyperbuoy error",i)}await Z2(1e3)}return null}function W2(t){return Math.min(Math.pow(t*10,2),10*1e3)}function Z2(t){return new Promise(e=>{setTimeout(e,t)})}class vs{constructor(e,r){this.abiCache=new Map,this.pendingAbis=new Map,this.chainId=be.from(e),this.client=typeof r=="string"?new nf({url:r}):r}async getAbi(e){const r=String(e);let i=this.abiCache.get(r);if(!i){let n=this.pendingAbis.get(r);n||(n=this.client.v1.chain.get_abi(e),this.pendingAbis.set(r,n)),i=(await n).abi,this.pendingAbis.delete(r),i&&this.abiCache.set(r,i)}return i}}class xa{constructor(e){if(typeof e!="object")throw new TypeError("Missing options object");if(!e.transport)throw new TypeError("options.transport is required");let r=e.chains||[];if(e.chainId&&e.client){if(e.chains.length>0)throw new TypeError("options.chainId and options.client are deprecated and cannot be used together with options.chains");r=[{chainId:e.chainId,nodeUrl:e.client}]}if(r.length===0)throw new TypeError("options.chains is required");this.chains=r.map(i=>{if(i instanceof vs)return i;if(!i.chainId)throw new TypeError("options.chains[].chainId is required");if(!i.nodeUrl)throw new TypeError("options.chains[].nodeUrl is required");return new vs(i.chainId,i.nodeUrl)}),e.service===void 0||typeof e.service=="string"?this.callbackService=new H2(e.service||$n.defaults.service):this.callbackService=e.service,this.transport=e.transport,e.storage!==null&&(this.storage=e.storage||this.transport.storage),this.verifyProofs=e.verifyProofs!==void 0?e.verifyProofs:$n.defaults.verifyProofs,this.encodeChainIds=e.encodeChainIds!==void 0?e.encodeChainIds:$n.defaults.encodeChainIds}get client(){return this.chains[0].client}getChain(e){if(e instanceof vs)return e;if(typeof e=="number"){const n=this.chains[e];if(!n)throw new Error(`Invalid chain index: ${e}`);return n}const r=be.from(e),i=this.chains.find(n=>n.chainId.equals(r));if(!i)throw new Error(`Unsupported chain: ${r}`);return i}async createRequest(e,r,i){const n=i||this.transport;let a;if(r||this.chains.length===1){const s=r||this.chains[0];a=await Ct.create({...e,chainId:s.chainId,broadcast:!1},{abiProvider:s,zlib:Ba})}else a=await Ct.create({...e,chainId:null,chainIds:this.encodeChainIds?this.chains.map(s=>s.chainId):void 0,broadcast:!1},{abiProvider:this.chains[0],zlib:Ba});n.prepare&&(a=await n.prepare(a));const o=this.callbackService.create();return a.setCallback(o.url,!0),{request:a,callback:o}}async sendRequest(e,r,i,n,a=!1){const o=n||this.transport;try{if(e.data.callback!==r.url)throw new Error("Invalid request callback");if(e.data.flags.broadcast===!0||e.data.flags.background===!1)throw new Error("Invalid request flags");let l=!1;const c=new Promise((P,B)=>{o.onRequest(e,N=>{if(l)return;const K=typeof N=="string"?new Dc(N):N;o.recoverError&&o.recoverError(K,e)===!0||(r.cancel(),B(K))})}),h=await Promise.race([r.wait(),c]);if(l=!0,typeof h.rejected=="string")throw new Dc(h.rejected);const g=h,E=$e.from({actor:g.sa,permission:g.sp}),k=Object.keys(g).filter(P=>P.startsWith("sig")&&P!=="sig0").map(P=>mt.from(g[P]));let M;if(!i&&this.chains.length>1){if(!g.cid)throw new Error("Multi chain response payload must specify resolved chain id (cid)");M=this.getChain(g.cid)}else if(M=i||this.getChain(0),g.cid&&!M.chainId.equals(g.cid))throw new Error("Got response for wrong chain id");const T=await p0.fromPayload(g,{zlib:Ba,abiProvider:M}),R=T.request.getInfoKey("cosig",{type:mt,array:!0});R&&k.unshift(...R);const I={resolved:T,chain:M,transaction:T.transaction,resolvedTransaction:T.resolvedTransaction,signatures:k,payload:g,signer:E};if(a){const P=yi.from({...T.transaction,signatures:k}),B=await M.client.v1.chain.push_transaction(P);I.processed=B.processed}return o.onSuccess&&o.onSuccess(e,I),I}catch(s){throw o.onFailure&&o.onFailure(e,s),s}}async transact(e,r,i){const n=r||{},a=i||this.transport,o=n.chain!==void 0?this.getChain(n.chain):void 0,s=n.broadcast!==!1,l=n.noModify!==void 0?n.noModify:!s;a&&a.showLoading&&a.showLoading();const c=e;e.actions&&(c.expiration||c.ref_block_num||c.ref_block_prefix||c.max_net_usage_words||c.max_cpu_usage_ms||c.delay_sec)&&(e={transaction:{expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...c}});const{request:h,callback:g}=await this.createRequest(e,o,a);return l&&h.setInfoKey("no_modify",!0,"bool"),await this.sendRequest(h,g,o,a,s)}async identify(e){const{request:r,callback:i}=await this.createRequest({identity:{permission:e.requestPermission,scope:e.scope},info:e.info}),n=await this.sendRequest(r,i);if(!n.resolved.request.isIdentity())throw new Tn("Unexpected response");let a;const o=n.resolved.getIdentityProof(n.signatures[0]);if(this.verifyProofs){if(a=await n.chain.client.v1.chain.get_account(n.signer.actor),!a)throw new Tn(`Signature from unknown account: ${o.signer.actor}`);const s=a.permissions.find(({perm_name:c})=>o.signer.permission.equals(c));if(!s)throw new Tn(`${o.signer.actor} signed for unknown permission: ${o.signer.permission}`);if(!o.verify(s.required_auth,a.head_block_time))throw new Tn(`Invalid identify proof for: ${o.signer}`)}if(e.requestPermission){const s=$e.from(e.requestPermission);if(!s.actor.equals(Ht)&&!s.actor.equals(o.signer.actor)||!s.permission.equals(Rr)&&!s.permission.equals(o.signer.permission))throw new Tn(`Identity proof singed by ${o.signer}, expected: ${Rn(s)} `)}return{...n,account:a,proof:o}}async login(e){const r=Vn.generate("K1"),i=r.toPublic(),n=Mi.from({session_name:e,request_key:i,user_agent:this.getUserAgent()}),a=await this.identify({scope:e,info:{link:n,scope:e}}),o=m0(a.payload,a.resolved.request),s=a.proof.recover();let l;return a.payload.link_ch&&a.payload.link_key&&a.payload.link_name?l=new v0(this,{identifier:e,chainId:a.chain.chainId,auth:a.signer,publicKey:s,channel:{url:a.payload.link_ch,key:a.payload.link_key,name:a.payload.link_name},requestKey:r},o):l=new y0(this,{identifier:e,chainId:a.chain.chainId,auth:a.signer,publicKey:s},o),await this.storeSession(l),{...a,session:l}}async restoreSession(e,r,i){if(!this.storage)throw new Error("Unable to restore session: No storage adapter configured");let n;if(r&&i)n=this.sessionKey(e,Rn($e.from(r)),String(be.from(i)));else{let l=await this.listSessions(e);if(r&&(l=l.filter(h=>h.auth.equals(r))),i){const h=be.from(i);l=l.filter(g=>g.chainId.equals(h))}const c=l[0];if(!c)return null;n=this.sessionKey(e,Rn(c.auth),String(c.chainId))}const a=await this.storage.read(n);if(!a)return null;let o;try{o=JSON.parse(a)}catch(l){throw new Error(`Unable to restore session: Stored JSON invalid (${l.message||String(l)})`)}const s=uf.restore(this,o);return(r||i)&&await this.touchSession(e,s.auth,s.chainId),s}async listSessions(e){if(!this.storage)throw new Error("Unable to list sessions: No storage adapter configured");const r=this.sessionKey(e,"list");let i;try{i=JSON.parse(await this.storage.read(r)||"[]")}catch(n){throw new Error(`Unable to list sessions: ${n.message||String(n)}`)}return i.map(({auth:n,chainId:a})=>({auth:$e.from(n),chainId:be.from(a)}))}async removeSession(e,r,i){if(!this.storage)throw new Error("Unable to remove session: No storage adapter configured");const n=this.sessionKey(e,Rn(r),String(i));await this.storage.remove(n),await this.touchSession(e,r,i,!0)}async clearSessions(e){if(!this.storage)throw new Error("Unable to clear sessions: No storage adapter configured");for(const{auth:r,chainId:i}of await this.listSessions(e))await this.removeSession(e,r,i)}makeSignatureProvider(e,r,i){return{getAvailableKeys:async()=>e,sign:async n=>{const a=i||this.transport,o=r?this.getChain(r):this.chains[0];let s=Ct.fromTransaction(n.chainId,n.serializedTransaction,{abiProvider:o,zlib:Ba});const l=this.callbackService.create();s.setCallback(l.url,!0),s.setBroadcast(!1),a.prepare&&(s=await a.prepare(s));const{transaction:c,signatures:h}=await this.sendRequest(s,l,o,a),g=pe.encode({object:c});return{...n,serializedTransaction:g,signatures:h}}}}async touchSession(e,r,i,n=!1){const a=await this.listSessions(e),o=a.findIndex(l=>l.auth.equals(r)&&l.chainId.equals(i));o>=0&&a.splice(o,1),n===!1&&a.unshift({auth:r,chainId:i});const s=this.sessionKey(e,"list");await this.storage.write(s,JSON.stringify(a))}async storeSession(e){if(this.storage){const r=this.sessionKey(e.identifier,Rn(e.auth),String(e.chainId)),i=JSON.stringify(e.serialize());await this.storage.write(r,i),await this.touchSession(e.identifier,e.auth,e.chainId)}}sessionKey(e,...r){return[String(H.from(e)),...r].join("-")}getUserAgent(){let e=`AnchorLink/${xa.version}`;return this.transport.userAgent&&(e+=" "+this.transport.userAgent()),e}}xa.version="3.4.1";function Rn(t){const e=$e.from(t),r=e.actor.equals(Ht)?"<any>":String(e.actor);let i;return e.permission.equals(Ht)||e.permission.equals(Rr)?i="<any>":i=String(e.permission),`${r}@${i}`}const pf={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.SNOWPACK_PUBLIC_BRANCH||"local",G2={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.SNOWPACK_PUBLIC_REV||"head",g0={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.SNOWPACK_PUBLIC_VERSION||"unknown",J2=pf==="HEAD",Ur=J2?"wallet.gm":`w.${pf.replace(/[^1-5a-z]+/g,"").slice(0,7)}.gm`,d6=`${g0} (${pf}-${G2})`,l6=`Version ${g0}`;var _0=(t=>(t[t.BidName=0]="BidName",t[t.BuyRAM=1]="BuyRAM",t[t.FIOBundledFees=2]="FIOBundledFees",t[t.Fuel=3]="Fuel",t[t.PowerUp=4]="PowerUp",t[t.REX=5]="REX",t[t.Staking=6]="Staking",t[t.VoteProducer=7]="VoteProducer",t[t.DelphiOracle=8]="DelphiOracle",t))(_0||{});const h6=[3,6,5,4];var X2=(t=>(t[t.Bloks=0]="Bloks",t))(X2||{});const Eo=[{id:"eos",chainFeatures:new Set([0,1,3,4,5,6,7,8]),chainId:be.from("aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"),coreTokenSymbol:se.Symbol.from("4,EOS"),coreTokenContract:H.from("eosio.token"),coreTokenTransfer:H.from("transfer"),name:"EOS",nodeUrl:"https://eos.greymass.com",testnet:!1,bloksUrl:"https://bloks.io",balanceProviders:new Set([0])},{id:"fio",chainFeatures:new Set([2,7]),chainId:be.from("21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c"),coreTokenSymbol:se.Symbol.from("9,FIO"),coreTokenContract:H.from("fio.token"),coreTokenTransfer:H.from("trnsfiopubky"),name:"FIO",nodeUrl:"https://fio.greymass.com",testnet:!1,bloksUrl:"https://fio.bloks.io",balanceProviders:new Set([0])},{id:"fio-testnet",chainFeatures:new Set([2,7]),chainId:be.from("b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e"),coreTokenSymbol:se.Symbol.from("9,FIO"),coreTokenContract:H.from("fio.token"),coreTokenTransfer:H.from("trnsfiopubky"),name:"FIO (Testnet)",nodeUrl:"https://fiotestnet.greymass.com",testnet:!0,bloksUrl:"https://fio-test.bloks.io"},{id:"jungle3",chainFeatures:new Set([0,1,3,4,5,6,7]),chainId:be.from("2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840"),coreTokenSymbol:se.Symbol.from("4,EOS"),coreTokenContract:H.from("eosio.token"),coreTokenTransfer:H.from("transfer"),name:"Jungle 3 (Testnet)",nodeUrl:"https://jungle3.greymass.com",testnet:!0,bloksUrl:"https://jungle3.bloks.io",balanceProviders:new Set([0])},{id:"proton",chainFeatures:new Set([6,7]),chainId:be.from("384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0"),coreTokenSymbol:se.Symbol.from("4,XPR"),coreTokenContract:H.from("eosio.token"),coreTokenTransfer:H.from("transfer"),name:"Proton",nodeUrl:"https://proton.greymass.com",testnet:!1,bloksUrl:"https://proton.bloks.io",balanceProviders:new Set([0])},{id:"telos",chainFeatures:new Set([0,1,3,5,6,7]),chainId:be.from("4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"),coreTokenSymbol:se.Symbol.from("4,TLOS"),coreTokenContract:H.from("eosio.token"),coreTokenTransfer:H.from("transfer"),name:"Telos",nodeUrl:"https://telos.greymass.com",resourceSampleAccount:"greymassfuel",resourceSampleMilliseconds:1e3,testnet:!1,bloksUrl:"https://telos.bloks.io",balanceProviders:new Set([0])},{id:"telos-testnet",chainFeatures:new Set([0,1,3,5,6,7]),chainId:be.from("1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f"),coreTokenSymbol:se.Symbol.from("4,TLOS"),coreTokenContract:H.from("eosio.token"),coreTokenTransfer:H.from("transfer"),name:"Telos (Testnet)",nodeUrl:"https://testnet.telos.net",resourceSampleAccount:"greymassfuel",resourceSampleMilliseconds:1e3,testnet:!0,bloksUrl:"https://telos-test.bloks.io",balanceProviders:new Set([0])},{id:"wax",chainFeatures:new Set([0,1,3,6,7,8]),chainId:be.from("1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"),coreTokenSymbol:se.Symbol.from("8,WAX"),coreTokenContract:H.from("eosio.token"),coreTokenTransfer:H.from("transfer"),name:"WAX",nodeUrl:"https://wax.greymass.com",resourceSampleAccount:"teamgreymass",testnet:!1,bloksUrl:"https://wax.bloks.io"}];function w0(t){return Eo.find(e=>e.chainId.equals(t))}const Y2=(t,e)=>e.some(r=>t instanceof r);let zc,Oc;function Q2(){return zc||(zc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eb(){return Oc||(Oc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x0=new WeakMap,Us=new WeakMap,S0=new WeakMap,ys=new WeakMap,bf=new WeakMap;function tb(t){const e=new Promise((r,i)=>{const n=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Fr(t.result)),n()},o=()=>{i(t.error),n()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&x0.set(r,t)}).catch(()=>{}),bf.set(e,t),e}function rb(t){if(Us.has(t))return;const e=new Promise((r,i)=>{const n=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),n()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Us.set(t,e)}let Fs={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Us.get(t);if(e==="objectStoreNames")return t.objectStoreNames||S0.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Fr(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ib(t){Fs=t(Fs)}function nb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const i=t.call(gs(this),e,...r);return S0.set(i,e.sort?e.sort():[e]),Fr(i)}:eb().includes(t)?function(...e){return t.apply(gs(this),e),Fr(x0.get(this))}:function(...e){return Fr(t.apply(gs(this),e))}}function ab(t){return typeof t=="function"?nb(t):(t instanceof IDBTransaction&&rb(t),Y2(t,Q2())?new Proxy(t,Fs):t)}function Fr(t){if(t instanceof IDBRequest)return tb(t);if(ys.has(t))return ys.get(t);const e=ab(t);return e!==t&&(ys.set(t,e),bf.set(e,t)),e}const gs=t=>bf.get(t);function ob(t,e,{blocked:r,upgrade:i,blocking:n,terminated:a}={}){const o=indexedDB.open(t,e),s=Fr(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Fr(o.result),l.oldVersion,l.newVersion,Fr(o.transaction))}),r&&o.addEventListener("blocked",()=>r()),s.then(l=>{a&&l.addEventListener("close",()=>a()),n&&l.addEventListener("versionchange",()=>n())}).catch(()=>{}),s}const sb=["get","getKey","getAll","getAllKeys","count"],fb=["put","add","delete","clear"],_s=new Map;function Lc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_s.get(e))return _s.get(e);const r=e.replace(/FromIndex$/,""),i=e!==r,n=fb.includes(r);if(!(r in(i?IDBIndex:IDBObjectStore).prototype)||!(n||sb.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,n?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(s.shift())),(await Promise.all([c[r](...s),n&&l.done]))[0]};return _s.set(e,a),a}ib(t=>({...t,get:(e,r,i)=>Lc(e,r)||t.get(e,r,i),has:(e,r)=>!!Lc(e,r)||t.has(e,r)}));/**
 * svelte-result-store v1.1.0
 * https://github.com/greymass/svelte-result-store
 *
 * @license
 * Copyright (c) 2021 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */class on{constructor(e){Ef(this,"subscribe");this.subscribe=e.subscribe}get value(){return{subscribe:e=>this.subscribe(r=>{r.error===void 0&&e(r.value)})}}catch(e){return{subscribe:r=>this.subscribe(i=>{if(i.error!==void 0){const n=e(i.error);n&&r(n)}else i.value!==void 0&&r(i.value)})}}map(e){const r={subscribe:i=>this.subscribe(n=>{if(n.error!==void 0||n.value!==void 0){let a={};try{a=e(n)}catch(o){a.error=o}i(a)}})};return new on(r)}mapValue(e){const r={subscribe:i=>this.subscribe(n=>{if(n.value!==void 0){let a;try{a=e(n.value)}catch(o){i({error:o});return}i({value:a})}})};return new on(r)}flatMap(e){return eo({subscribe:i=>this.subscribe(n=>{if(n.error!==void 0||n.value!==void 0){let a;try{a=e(n)}catch(o){i({error:o});return}i({value:a})}})})}flatMapValue(e){return eo({subscribe:i=>this.subscribe(n=>{if(n.value!==void 0){let a;try{a=e(n.value)}catch(o){i({error:o});return}i({value:a})}})})}get error(){return{subscribe:e=>this.subscribe(r=>{r.error!==void 0&&e(r.error)})}}get resolved(){return{subscribe:e=>this.subscribe(r=>{e(r.error!==void 0||r.value!==void 0)})}}get promise(){return new Promise((e,r)=>{const i=this.subscribe(n=>{n.error!==void 0?r(n.error):n.value!==void 0&&e(n.value),(n.error!==void 0||n.value!==void 0)&&setTimeout(()=>{i()},0)})})}}function A0(...t){return new on(cb(...t))}function Fn(t,e){const r=!Array.isArray(t),i=e.length<2,n=un(t,(a,o)=>{const s=r?[a]:a,l=s.find(c=>c.error!==void 0);if(l)o(l);else{const c=s.map(h=>h.value);if(c.every(h=>h!==void 0))try{const h=e(r?c[0]:c,g=>{o({value:g})},g=>{o({error:g})});if(h instanceof Promise)h.then(g=>{o({value:g})}).catch(g=>{o({error:g})});else if(i)o({value:h});else return h}catch(h){o({error:h})}else o({})}});return new on(n)}function eo(t,e){const r=e||10,n=O0({},a=>{const o=s=>l=>{if(l.error)a({error:l.error});else{if(l.value&&typeof l.value.subscribe=="function"&&s<r)return qc(l.value,o(s+1));a(l)}};return qc(t,o(0))});return new on(n)}function qc(t,e){let r=Hs;const i=t.subscribe(n=>{r(),r=e(n)||Hs});return()=>{r(),i()}}function cb(...t){let e,r={};return t.length===2?(r=t[0],e=t[1]):(e=typeof t[0]=="function"?t[0]:Hs,r=typeof t[0]=="object"&&(t[0].value!==void 0||t[0].error!==void 0)?t[0]:{}),Pi(r,i=>{try{const n=e(a=>{i({value:a})},a=>{i({error:a})});if(n instanceof Promise)n.then(a=>{a!==void 0&&i({value:a})}).catch(a=>{i({error:a})});else return n}catch(n){i({error:n})}})}function Hs(){}const db=3,sn=ob("wallet",db,{upgrade(t,e){e<1&&t.createObjectStore("account-cache").createIndex("by-updated","updated",{unique:!1}),e<2&&t.createObjectStore("preferences"),e<3&&t.createObjectStore("price-ticker").createIndex("by-updated","updated",{unique:!1})}});function mf(t){return A0((e,r)=>{const i=async()=>{const o=await sn,s=await t.load();return o.put(t.store,{updated:new Date,data:s},t.key).catch(l=>{console.warn(`Error caching ${t.store}:${t.key}`,l)}),s};(async()=>{const s=await(await sn).get(t.store,t.key);let l;if(s&&s.updated&&s.data!==void 0){const c=Date.now()-s.updated.getTime();c<t.maxAge&&(l=s.data,c>t.refreshInterval&&i().then(e).catch(r))}l===void 0&&(l=await i()),e(l)})().catch(r);const a=setInterval(()=>{i().then(e).catch(r)},t.refreshInterval);return()=>{clearInterval(a)}})}var lb=Object.defineProperty,hb=(t,e,r)=>e in t?lb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ub=(t,e,r)=>(hb(t,typeof e!="symbol"?e+"":e,r),r);class pb{constructor(){ub(this,"subscribers",[])}subscribe(e){return this.subscribers.length===0&&this.subscriptionBecameActive&&this.subscriptionBecameActive(),this.subscribers.push(e),e(this),()=>{let r=this.subscribers.indexOf(e);r!==-1&&this.subscribers.splice(r,1),this.subscribers.length===0&&this.subscriptionBecameInactive&&this.subscriptionBecameInactive()}}didChange(){for(const e of this.subscribers)e(this)}}var k0=Object.defineProperty,bb=Object.getOwnPropertyDescriptor,mb=(t,e,r)=>e in t?k0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vf=(t,e,r,i)=>{for(var n=i>1?void 0:i?bb(e,r):e,a=t.length-1,o;a>=0;a--)(o=t[a])&&(n=(i?o(e,r,n):o(n))||n);return i&&n&&k0(e,r,n),n},Vi=(t,e,r)=>(mb(t,typeof e!="symbol"?e+"":e,r),r);const E0=class extends pb{constructor(){super(...arguments),Vi(this,"expandNavbar"),Vi(this,"expandNavbarAdvanced"),Vi(this,"darkmode"),Vi(this,"storage",{})}write(t,e){this.storage[t]=e,this.didChange(),this.save(t,e).catch(r=>{console.warn("Unable to save setting",r)})}read(t){const e=this.constructor.settings[t];if(!e)throw new TypeError(`Unknown setting: ${t}`);return this.storage[t]===void 0?e.default:this.storage[t]}async initStorage(){let e=await(await sn).transaction("preferences").store.openCursor(),r=!1;for(;e;)r=!0,this.storage[e.key]=e.value,e=await e.continue();r&&this.didChange()}async save(t,e){await(await sn).put("preferences",e,t)}};let kn=E0;Vi(kn,"settings");Vi(kn,"shared",new E0);vf([yf({default:!1})],kn.prototype,"expandNavbar",2);vf([yf({default:!1})],kn.prototype,"expandNavbarAdvanced",2);vf([yf({default:null})],kn.prototype,"darkmode",2);function yf(t){return(e,r)=>{const i=e.constructor;i.settings||(i.settings={}),i.settings[r]=t;function n(){return this.read(r)}function a(o){this.write(r,o)}Object.defineProperty(e,r,{get:n,set:a})}}var M0=Object.defineProperty,vb=Object.getOwnPropertyDescriptor,yb=(t,e,r)=>e in t?M0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,O=(t,e,r,i)=>{for(var n=i>1?void 0:i?vb(e,r):e,a=t.length-1,o;a>=0;a--)(o=t[a])&&(n=(i?o(e,r,n):o(n))||n);return i&&n&&M0(e,r,n),n},q=(t,e,r)=>(yb(t,typeof e!="symbol"?e+"":e,r),r);let la=class extends p{constructor(){super(...arguments),q(this,"payer"),q(this,"receiver"),q(this,"bytes")}};O([p.field(H)],la.prototype,"payer",2);O([p.field(H)],la.prototype,"receiver",2);O([p.field(Oe)],la.prototype,"bytes",2);la=O([p.type("buyrambytes")],la);let fn=class extends p{constructor(){super(...arguments),q(this,"from"),q(this,"to"),q(this,"net_weight"),q(this,"cpu_weight")}};O([p.field(H)],fn.prototype,"from",2);O([p.field(H)],fn.prototype,"to",2);O([p.field(se)],fn.prototype,"net_weight",2);O([p.field(se)],fn.prototype,"cpu_weight",2);fn=O([p.type("delegated_bandwidth")],fn);let Ar=class extends p{constructor(){super(...arguments),q(this,"id"),q(this,"owner"),q(this,"value"),q(this,"median"),q(this,"timestamp")}};O([p.field(ye)],Ar.prototype,"id",2);O([p.field(H)],Ar.prototype,"owner",2);O([p.field(ye)],Ar.prototype,"value",2);O([p.field(ye)],Ar.prototype,"median",2);O([p.field(tf)],Ar.prototype,"timestamp",2);Ar=O([p.type("delphioracledatapoint")],Ar);let to=class extends Kr{};to=O([Di("asset_type")],to);let at=class extends p{constructor(){super(...arguments),q(this,"active"),q(this,"bounty_awarded"),q(this,"bounty_edited_by_custodians"),q(this,"proposer"),q(this,"name"),q(this,"bounty_amount"),q(this,"approving_custodians"),q(this,"approving_oracles"),q(this,"base_symbol"),q(this,"base_type"),q(this,"base_contract"),q(this,"quote_symbol"),q(this,"quote_type"),q(this,"quote_contract"),q(this,"quoted_precision")}};O([p.field("bool")],at.prototype,"active",2);O([p.field("bool")],at.prototype,"bounty_awarded",2);O([p.field("bool")],at.prototype,"bounty_edited_by_custodians",2);O([p.field(H)],at.prototype,"proposer",2);O([p.field(H)],at.prototype,"name",2);O([p.field(se)],at.prototype,"bounty_amount",2);O([p.field(H,{array:!0})],at.prototype,"approving_custodians",2);O([p.field(H,{array:!0})],at.prototype,"approving_oracles",2);O([p.field(se.Symbol)],at.prototype,"base_symbol",2);O([p.field(to)],at.prototype,"base_type",2);O([p.field(H)],at.prototype,"base_contract",2);O([p.field(se.Symbol)],at.prototype,"quote_symbol",2);O([p.field(to)],at.prototype,"quote_type",2);O([p.field(H)],at.prototype,"quote_contract",2);O([p.field(ye)],at.prototype,"quoted_precision",2);at=O([p.type("delphioraclepair")],at);let Ii=class extends p{constructor(){super(...arguments),q(this,"payee_public_key"),q(this,"amount"),q(this,"max_fee"),q(this,"actor"),q(this,"tpid")}};O([p.field("string")],Ii.prototype,"payee_public_key",2);O([p.field("int64")],Ii.prototype,"amount",2);O([p.field("int64")],Ii.prototype,"max_fee",2);O([p.field("name")],Ii.prototype,"actor",2);O([p.field("string")],Ii.prototype,"tpid",2);Ii=O([p.type("fiotransfer")],Ii);let ai=class extends p{constructor(){super(...arguments),q(this,"payer"),q(this,"receiver"),q(this,"days"),q(this,"net_frac"),q(this,"cpu_frac"),q(this,"max_payment")}};O([p.field("name")],ai.prototype,"payer",2);O([p.field("name")],ai.prototype,"receiver",2);O([p.field("uint32")],ai.prototype,"days",2);O([p.field("int64")],ai.prototype,"net_frac",2);O([p.field("int64")],ai.prototype,"cpu_frac",2);O([p.field("asset")],ai.prototype,"max_payment",2);ai=O([p.type("powerup")],ai);let ot=class extends p{constructor(){super(...arguments),q(this,"version"),q(this,"weight"),q(this,"weight_ratio"),q(this,"assumed_stake_weight"),q(this,"initial_weight_ratio"),q(this,"target_weight_ratio"),q(this,"initial_timestamp"),q(this,"target_timestamp"),q(this,"exponent"),q(this,"decay_secs"),q(this,"min_price"),q(this,"max_price"),q(this,"utilization"),q(this,"adjusted_utilization"),q(this,"utilization_timestamp")}};O([p.field("uint8")],ot.prototype,"version",2);O([p.field("int64")],ot.prototype,"weight",2);O([p.field("int64")],ot.prototype,"weight_ratio",2);O([p.field("int64")],ot.prototype,"assumed_stake_weight",2);O([p.field("int64")],ot.prototype,"initial_weight_ratio",2);O([p.field("int64")],ot.prototype,"target_weight_ratio",2);O([p.field("time_point_sec")],ot.prototype,"initial_timestamp",2);O([p.field("time_point_sec")],ot.prototype,"target_timestamp",2);O([p.field("float64")],ot.prototype,"exponent",2);O([p.field("uint32")],ot.prototype,"decay_secs",2);O([p.field("asset")],ot.prototype,"min_price",2);O([p.field("asset")],ot.prototype,"max_price",2);O([p.field("int64")],ot.prototype,"utilization",2);O([p.field("int64")],ot.prototype,"adjusted_utilization",2);O([p.field("time_point_sec")],ot.prototype,"utilization_timestamp",2);ot=O([p.type("powerupstateresource")],ot);let Ti=class extends p{constructor(){super(...arguments),q(this,"version"),q(this,"net"),q(this,"cpu"),q(this,"powerup_days"),q(this,"min_powerup_fee")}};O([p.field("uint8")],Ti.prototype,"version",2);O([p.field(ot)],Ti.prototype,"net",2);O([p.field(ot)],Ti.prototype,"cpu",2);O([p.field("uint32")],Ti.prototype,"powerup_days",2);O([p.field("asset")],Ti.prototype,"min_powerup_fee",2);Ti=O([p.type("powerupstate")],Ti);let ro=class extends p{constructor(){super(...arguments),q(this,"owner"),q(this,"amount")}};O([p.field("name")],ro.prototype,"owner",2);O([p.field("asset")],ro.prototype,"amount",2);ro=O([p.type("rexdeposit")],ro);let cn=class extends p{constructor(){super(...arguments),q(this,"from"),q(this,"receiver"),q(this,"loan_payment"),q(this,"loan_fund")}};O([p.field("name")],cn.prototype,"from",2);O([p.field("name")],cn.prototype,"receiver",2);O([p.field("asset")],cn.prototype,"loan_payment",2);O([p.field("asset")],cn.prototype,"loan_fund",2);cn=O([p.type("rexrentcpu")],cn);let dn=class extends p{constructor(){super(...arguments),q(this,"from"),q(this,"receiver"),q(this,"loan_payment"),q(this,"loan_fund")}};O([p.field("name")],dn.prototype,"from",2);O([p.field("name")],dn.prototype,"receiver",2);O([p.field("asset")],dn.prototype,"loan_payment",2);O([p.field("asset")],dn.prototype,"loan_fund",2);dn=O([p.type("rexrentnet")],dn);let dr=class extends p{constructor(){super(...arguments),q(this,"version"),q(this,"total_lent"),q(this,"total_unlent"),q(this,"total_rent"),q(this,"total_lendable"),q(this,"total_rex"),q(this,"namebid_proceeds"),q(this,"loan_num")}};O([p.field("uint8")],dr.prototype,"version",2);O([p.field("asset")],dr.prototype,"total_lent",2);O([p.field("asset")],dr.prototype,"total_unlent",2);O([p.field("asset")],dr.prototype,"total_rent",2);O([p.field("asset")],dr.prototype,"total_lendable",2);O([p.field("asset")],dr.prototype,"total_rex",2);O([p.field("asset")],dr.prototype,"namebid_proceeds",2);O([p.field("uint64")],dr.prototype,"loan_num",2);dr=O([p.type("rexstate")],dr);let io=class extends p{constructor(){super(...arguments),q(this,"account"),q(this,"bytes")}};O([p.field(H)],io.prototype,"account",2);O([p.field(wt)],io.prototype,"bytes",2);io=O([p.type("sellram")],io);let Ri=class extends p{constructor(){super(...arguments),q(this,"from"),q(this,"receiver"),q(this,"stake_net_quantity"),q(this,"stake_cpu_quantity"),q(this,"transfer")}};O([p.field("name")],Ri.prototype,"from",2);O([p.field("name")],Ri.prototype,"receiver",2);O([p.field("asset")],Ri.prototype,"stake_net_quantity",2);O([p.field("asset")],Ri.prototype,"stake_cpu_quantity",2);O([p.field("bool")],Ri.prototype,"transfer",2);Ri=O([p.type("stake")],Ri);let ln=class extends p{constructor(){super(...arguments),q(this,"from"),q(this,"to"),q(this,"quantity"),q(this,"memo")}};O([p.field("name")],ln.prototype,"from",2);O([p.field("name")],ln.prototype,"to",2);O([p.field("asset")],ln.prototype,"quantity",2);O([p.field("string")],ln.prototype,"memo",2);ln=O([p.type("transfer")],ln);const $c=new Map;function Sa(t){let e;if(t instanceof be){const i=String(t);if(e=Eo.find(n=>n.chainId.equals(i)),!e)throw new Error(`Unconfigured chain: ${i}`)}else e=t;let r=$c.get(String(e.chainId));return r||(r=new nf({url:e.nodeUrl}),$c.set(String(e.chainId),r)),r}const I0=1*60*1e3,T0=2*60*60*1e3;function gb(t){const e=Sa(t),r=mf({store:"price-ticker",key:`${t.id}-pairs`,load:async()=>{let i=await e.v1.chain.get_table_rows({type:at,code:"delphioracle",scope:"delphioracle",table:"pairs",limit:500});return pe.objectify(i.rows)},maxAge:6048e5,refreshInterval:864e5});return Fn(r,i=>i.map(n=>at.from(n)).filter(n=>n.active))}function _b(t,e){const r=Sa(t),i=mf({store:"price-ticker",key:`${t.id}-${e.name}`,load:async()=>{let a=(await r.v1.chain.get_table_rows({type:Ar,code:"delphioracle",scope:`${e.name}`,table:"datapoints",limit:1})).rows[0];if(!a)throw new Error(`No datapoints for ${e.name} on ${t.id}`);return pe.objectify(a)},maxAge:T0,refreshInterval:I0});return Fn(i,n=>Ar.from(n))}function wb(t,e){const r=t.id;return mf({store:"price-ticker",key:`${r}-fallback`,load:async()=>{if(e)throw new Error("Fallback only supports core symbol");let i="https://www.api.bloks.io/ticker/banana";r!=="eos"&&(i=`https://www.api.bloks.io/${r}/ticker/banana`);const a=await(await fetch(i)).json();if(typeof a=="number")return a;throw new Error("Unexpected response from bloks")},maxAge:T0,refreshInterval:I0})}const ws={};function xb(t,e){const r=`${t.id}-${e||"coresymbol"}`;if(ws[r])return ws[r];const i=t.chainFeatures.has(_0.DelphiOracle)?gb(t):A0({value:[]}),n=Fn(i,s=>{let l;return e?l=s.find(c=>c.name.equals(e)):l=s.find(c=>c.base_symbol.equals(t.coreTokenSymbol)&&c.quote_symbol.name==="USD"),l||null}),a=eo(Fn(n,s=>s?_b(t,s):null)),o=eo(Fn([a,n],([s,l])=>t.testnet?0:s&&l?s.median.toNumber()/Math.pow(10,l.quoted_precision.toNumber()):wb(t,e)));return ws[r]=o,o}const Sb=60*1e3,Uc=Pi(!1),Ab={stale:!0},R0=Pi(Ab,()=>{const t=setInterval(()=>{const r=Jc(oi);r&&Fc(r.auth.actor,r.chainId)},3e4),e=oi.subscribe(r=>{r&&Fc(r.auth.actor,r.chainId)});return()=>{e(),clearInterval(t)}});async function Fc(t,e,r=!1){Uc.set(!0),Eb(t,e,async i=>{var n;if(!((n=i.account)!=null&&n.core_liquid_balance)){const a=await kb(t,e).catch(o=>{console.warn("Error fetching account balance:",o)});a&&(i.account.core_liquid_balance=a[0])}R0.set(i)},r),Uc.set(!1)}function kb(t,e){const r=w0(e);return Sa(e).v1.chain.get_currency_balance(r.coreTokenContract,t)}function P0(t,e){return`${e}-${t}`}async function C0(t,e){await(await sn).put("account-cache",{account:pe.objectify(t),updated:new Date},P0(t.account_name,e))}async function Eb(t,e,r,i=!1){const n=P0(t,e);let o=await(await sn).get("account-cache",n),s=!0;if(o&&(s=Date.now()-o.updated.getTime()>Sb,r({account:Mu.v1.AccountObject.from(o.account),stale:s})),s||i){const l=await Sa(e).v1.chain.get_account(t);await C0(l,e),r({account:l,stale:!1})}}const u6=Pi(!1),oi=Pi(void 0),Mb=un(oi,t=>t?w0(t.chainId):Eo[0]),p6=un([Mb],([t],e)=>xb(t).value.subscribe(r=>{r!==void 0&&e(r)})),gf=Pi([]),Ib=kn.shared,Tb=un(R0,t=>t.account);un(Tb,t=>{if(t)return t.core_liquid_balance});const N0=Pi(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches);window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{N0.set(t.matches)});const b6=un([N0,Ib],([t,e])=>e.darkmode!==null?e.darkmode:t);/**
 * Anchor Link Browser Transport v3.3.0
 * https://github.com/greymass/anchor-link-browser-transport
 *
 * @license
 * Copyright (c) 2020 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */var Rb=`
/* Anchor Link */

.%prefix% * {
    box-sizing: border-box;
    line-height: 1;
    font-variant-numeric: tabular-nums;
}

.%prefix% {
    font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue',
        Arial, sans-serif;
    font-size: 13px;
    background: rgba(0, 0, 0, 0.65);
    position: fixed;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    z-index: 2147483647;
    display: none;
    align-items: center;
    justify-content: center;
}

.%prefix%-active {
    display: flex;
}

.%prefix%-inner {
    background: #EFF1F7;
    margin: 20px;
    padding-top: 50px;
    border-radius: 20px;
    box-shadow: 0px 4px 100px rgba(0, 0, 0, .5);
    width: 340px;
    position: relative;
}

.%prefix%-close {
    display: block;
    position: absolute;
    top: 11px;
    right: 16px;
    width: 28px;
    height: 28px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.57 12.1a.96.96 0 000 1.34c.37.36 1 .36 1.34 0L7 8.37l5.09 5.09c.36.35.97.35 1.34-.01a.96.96 0 000-1.34L8.34 7.01l5.08-5.08a.95.95 0 000-1.33.97.97 0 00-1.34-.01L6.99 5.68 1.91.59a.96.96 0 00-1.33 0 .97.97 0 00-.01 1.34l5.09 5.08-5.1 5.1z' fill='%23007AFF'/%3E%3C/svg%3E");
    background-size: 14px;
    background-repeat: no-repeat;
    background-position: 50% 7px;
    border-radius: 100%;
    cursor: pointer;
}

.%prefix%-close:hover {
    background-color: white;
}

.%prefix%-version {
    position: absolute;
    top: 19px;
    left: 20px;
    cursor: help;
    color: #B8C0DA;
    opacity: 0.1;
}

.%prefix%-version:hover {
    opacity: 1;
}

.%prefix%-logo {
    width: 70px;
    height: 70px;
    margin: 0 auto;
    margin-top: -56px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M18.81 9.19h33.25V59.5H18.81z'/%3E%3Cpath d='M38.45 28.88h-6.9L35 21.77l3.45 7.1z' fill='%233650A2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M35 70a35 35 0 100-70 35 35 0 000 70zm2.36-55.4a2.62 2.62 0 00-4.72 0L21.9 36.75h5.84l1.7-3.5h11.13l1.7 3.5h5.83L37.36 14.6zM48.13 44.2h-5.26a7.76 7.76 0 01-5.24 7v-10.5a2.62 2.62 0 10-5.25 0v10.5a7.76 7.76 0 01-5.25-7h-5.25c.16 7.06 6 12.69 13.12 12.69 7.12 0 12.97-5.63 13.13-12.7z' fill='%233650A2'/%3E%3C/svg%3E");
}

.%prefix%-logo.loading {
    border-radius: 100%;
    background-color: #3650A2;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0.5 0.5 45 45' xmlns='http://www.w3.org/2000/svg' stroke='%23fff'%3E%3Cg fill='none' fill-rule='evenodd' transform='translate(1 1)' stroke-width='2'%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='1.5s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='1.5s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='1.5s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='3s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='3s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='3s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='8'%3E%3Canimate attributeName='r' begin='0s' dur='1.5s' values='6;1;2;3;4;5;6' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3C/g%3E%3C/svg%3E");
}

.%prefix%-logo.error {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='70' height='70' fill='none'%3E%3Ccircle cx='35' cy='35' r='35' fill='%23fc3d39'/%3E%3Cpath fill-rule='evenodd' d='M32.88 17.614c.715-.403 1.522-.614 2.343-.614s1.628.212 2.343.614 1.314.983 1.74 1.685l.005.008 13.483 22.508.013.022c.417.722.638 1.541.64 2.375s-.214 1.654-.627 2.378-1.008 1.328-1.727 1.751-1.535.65-2.369.659h-.017-26.983c-.834-.009-1.651-.237-2.369-.659s-1.314-1.027-1.727-1.751-.629-1.544-.627-2.378.223-1.653.64-2.375l.013-.022L31.14 19.299c.426-.702 1.025-1.282 1.74-1.685zm2.343 2.569a1.59 1.59 0 0 0-1.359.763L20.392 43.438a1.59 1.59 0 0 0-.208.782c-.001.278.071.551.209.793a1.59 1.59 0 0 0 1.358.803h26.945a1.59 1.59 0 0 0 1.358-.803 1.59 1.59 0 0 0 .209-.793c-.001-.274-.073-.544-.208-.782L36.584 20.95c-.144-.236-.343-.428-.58-.561a1.59 1.59 0 0 0-.781-.205zm0 6.531a1.59 1.59 0 0 1 1.592 1.592v6.367a1.59 1.59 0 1 1-3.184 0v-6.367a1.59 1.59 0 0 1 1.592-1.592zm-1.592 14.326a1.59 1.59 0 0 1 1.592-1.592h.016a1.59 1.59 0 1 1 0 3.184h-.016a1.59 1.59 0 0 1-1.592-1.592z' fill='%23fff'/%3E%3C/svg%3E");
}

.%prefix%-logo.warning {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='70' height='70' fill='none' %3E%3Ccircle cx='35' cy='35' r='35' fill='%23f8b826'/%3E%3Cpath d='M35 20c-8.284 0-15 6.716-15 15s6.716 15 15 15 15-6.716 15-15-6.716-15-15-15zM16.667 35c0-10.125 8.208-18.333 18.333-18.333S53.333 24.875 53.333 35 45.125 53.334 35 53.334 16.667 45.126 16.667 35zM35 26.667c.921 0 1.667.746 1.667 1.667V35A1.67 1.67 0 0 1 35 36.667c-.921 0-1.667-.746-1.667-1.667v-6.667c0-.921.746-1.667 1.667-1.667zm-1.667 15A1.67 1.67 0 0 1 35 40h.017c.921 0 1.667.746 1.667 1.667s-.746 1.667-1.667 1.667H35a1.67 1.67 0 0 1-1.667-1.667z' fill-rule='evenodd' fill='%23fff'/%3E%3C/svg%3E");
}

.%prefix%-logo.success {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 70 70'%3E%3Cdefs/%3E%3Ccircle cx='35' cy='35' r='35' fill='%233DC55D'/%3E%3Cpath fill='%23fff' d='M30.9 49.7a2 2 0 001.8-1L48 24.9c.3-.5.4-1 .4-1.4 0-1-.7-1.7-1.7-1.7-.8 0-1.2.3-1.6 1L30.8 45.4 23.5 36c-.5-.6-1-.9-1.6-.9-1 0-1.8.8-1.8 1.8 0 .4.2.9.6 1.3L29 48.7c.6.7 1.1 1 1.9 1z'/%3E%3C/svg%3E");
}

.%prefix%-logo.fuel {
    background-image: url("data:image/svg+xml,%3Csvg width='70' height='70' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0)'%3E%3Cpath d='M69.23 30.31l-8.46-11a6.58 6.58 0 00-3.4-2.19L35.91 12.1a7.16 7.16 0 00-1.6-.16 7.73 7.73 0 00-2.18.28l-5.1 1.57a1.76 1.76 0 00-.17-1.4l-1.46-2.5a1.76 1.76 0 00-2.06-.8l-9.98 3.2a1.76 1.76 0 00-1.23 1.74l.13 3.39c.01.27.09.54.22.78l-2.28.7a5.85 5.85 0 00-3.24 2.7L.48 34.23a4.96 4.96 0 00.14 4.53l3.5 5.83a4.49 4.49 0 004.19 2.05l9.29-1.13a4.79 4.79 0 002.54 3.78l3.55 1.68a8.9 8.9 0 003.39.73h.27l8.06-.45c.26.04.5.13.73.28l8.02 8c1 .92 2.3 1.45 3.67 1.47.14 0 .28 0 .42-.03l6.6-.68a2.85 2.85 0 002.5-1.8c.36-1 .1-2.12-.73-3l-2.78-2.96 5.26-1.56a4.35 4.35 0 003-3.64l.41-4.29c.09-.42.26-.82.52-1.16l6-6.66a3.91 3.91 0 00.2-4.9z' fill='%23fff'/%3E%3Cpath d='M49.08 29.96a1.72 1.72 0 00-.92-2.25 1.72 1.72 0 00-1.3 3.17 1.7 1.7 0 002.22-.92zM27.54 26.41a1.02 1.02 0 001-1.23 1.02 1.02 0 00-1.85-.37 1.03 1.03 0 00.46 1.52c.12.05.25.08.39.08zM37.05 21.67a1.03 1.03 0 000-2.06 1.03 1.03 0 000 2.06zM21.54 35c-4.62 0-10.44 2.04-13.52 3.24a.68.68 0 00-.24.16.68.68 0 00-.18.53c.01.1.04.19.1.27l1.28 2.16c.07.1.17.2.28.25.11.06.24.08.37.07l9.15-1.13.45-.03a3.64 3.64 0 013.67 3.55v.3a.67.67 0 00.39.59l2.9 1.38c.42.16.86.26 1.3.28h.05l7.74-.45h.23c1.45.03 2.83.59 3.9 1.58l7.68 7.65c.1.06.22.1.35.12l1.67-.2c.06-.01.12-.03.16-.07a.32.32 0 00.1-.13.33.33 0 00-.03-.33l-.82-1.21a3.22 3.22 0 01-.01-4.58c.4-.4.9-.68 1.45-.82l6.47-1.92a.4.4 0 00.19-.13.41.41 0 00.08-.22l.35-3.53c.01-.06 0-.13-.02-.2a.41.41 0 00-.28-.24.37.37 0 00-.2.01c-2.27.62-6.27 1.6-8.73 1.6C37.4 43.53 29.68 35 21.54 35zm8.97 7.49a.8.8 0 01-.27.28c-.2.13-.45.19-.68.17a1.05 1.05 0 01-.77-1.62.73.73 0 01.28-.28 1.05 1.05 0 011.44 1.45zm17.6 3.72a.76.76 0 01-.27.28 1.05 1.05 0 01-1.17-1.73 1.05 1.05 0 011.32.13 1.04 1.04 0 01.13 1.32z' fill='%23F8B826'/%3E%3Cpath d='M21.54 35c-4.85 0-11.03 2.25-13.96 3.42a.29.29 0 00-.15.16c-.01.03-.02.07-.01.11 0 .04.01.07.03.1L9 41.38c.06.11.16.2.27.26.12.05.25.07.37.06l9.15-1.13c.15-.02.3-.02.46-.03a3.63 3.63 0 013.66 3.54l.02.56c0 .04.02.09.05.13.02.04.06.07.1.1l3.13 1.48c.41.16.85.26 1.3.28h.04l7.74-.45h.23c1.45.03 2.84.59 3.9 1.58l7.68 7.65c.1.06.23.1.35.12l2.22-.27-1.58-1.66c-.82-.88-.7-2.05-.4-3.13a3.28 3.28 0 012.3-2.27l6.71-2 .38-3.8.06-.58c-2.13.59-6.6 1.74-9.3 1.74C37.4 43.54 29.69 35 21.54 35zm8.89 7.62a.38.38 0 01-.07.07c-1.07.77-2.26-.42-1.49-1.5a.25.25 0 01.06-.07c1.08-.77 2.27.42 1.5 1.5zm17.6 3.72a.25.25 0 01-.06.06c-1.07.78-2.26-.42-1.49-1.5a.25.25 0 01.07-.06c1.07-.78 2.26.42 1.49 1.5z' fill='%23E99123'/%3E%3Cpath d='M47.53 34.9c-10.41 0-19.22-4.65-25.54-4.65-4.44 0-11.97 3.38-15.28 5.83a.55.55 0 00-.18.69l.35.78a.55.55 0 00.72.28c2.84-1.18 8.9-3.42 13.94-3.42 8.4 0 16.15 7.48 25.16 7.48 4 0 9.88-1.58 11.41-2.82.67-.7 2.86-3.32 4.4-4.93a.67.67 0 00.1-.8.67.67 0 00-.32-.28.65.65 0 00-.42-.03 64.85 64.85 0 01-14.34 1.86zm-.47 3.95c-.14.3-.38.55-.68.7a1.73 1.73 0 01-2.34-2.36c.14-.3.38-.55.68-.7a1.72 1.72 0 012.04.32 1.75 1.75 0 01.3 2.04z' fill='%23F8B826'/%3E%3Cpath d='M68.34 30.87l-8.46-11a5.52 5.52 0 00-2.77-1.78l-21.46-5.03a7.08 7.08 0 00-3.2.1l-7.55 2.3-.01.01h-.01l-.5-1.3v-.01l1.13-.4a.65.65 0 00.36-.93l-1.47-2.5a.64.64 0 00-.73-.27l-9.98 3.17a.64.64 0 00-.44.63l.13 3.39a.64.64 0 00.63.6c.07 0 .15-.02.22-.04l2.53-.91h.02l.44.87v.02l-6.7 2.05c-1.08.38-2 1.15-2.56 2.15L1.47 34.61a3.8 3.8 0 00.11 3.43l3.5 5.84a3.32 3.32 0 003.1 1.51l10.23-1.26a.2.2 0 01.2.04.2.2 0 01.06.08l.02.1.03.9a3.69 3.69 0 001.9 2.88l3.56 1.69c.98.42 2.05.63 3.12.61l8.06-.44c.58.02 1.13.23 1.57.6l8.03 8a4.38 4.38 0 003.18 1.12l6.6-.69c.77-.07 1.33-.46 1.55-1.07.23-.6.05-1.26-.48-1.82l-4.02-4.26-.01-.01v-.01l7-2.09a3.25 3.25 0 002.2-2.66l.43-4.3a4 4 0 01.8-1.81l6.01-6.67a2.76 2.76 0 00.12-3.45zM15.14 15.2l-.03-.51c0-.08.02-.16.06-.22.04-.07.1-.11.18-.14l7.73-2.5a.35.35 0 01.41.16l.13.23c.03.05.04.1.05.15 0 .05 0 .1-.02.14a.35.35 0 01-.08.13.38.38 0 01-.12.09L15.6 15.5a.34.34 0 01-.31-.04.36.36 0 01-.16-.27zm51.53 17.75l-6 6.66a5.95 5.95 0 00-1.32 3l-.42 4.3a1.22 1.22 0 01-.73.87l-7.32 2.17a1.8 1.8 0 00-1.34 2.28c.1.32.27.6.52.83l3.19 3.37a.4.4 0 01.09.43.42.42 0 01-.14.19.42.42 0 01-.21.08l-5.06.53c-.55 0-1.09-.19-1.51-.54l-8.03-8a4.62 4.62 0 00-3.14-1.2l-8.07.45c-.73.01-1.45-.13-2.12-.41l-3.56-1.7a1.4 1.4 0 01-.72-1.08l-.04-.9a2.35 2.35 0 00-.8-1.68 2.24 2.24 0 00-1.78-.53L7.92 43.32a1.32 1.32 0 01-1.07-.53l-3.49-5.82a1.78 1.78 0 01-.05-1.4L9.8 22.94c.32-.5.78-.89 1.33-1.1l21.94-6.67c.69-.18 1.42-.2 2.12-.07l21.46 5.02c.62.19 1.18.55 1.6 1.03l8.47 11c.08.11.12.25.12.4a.69.69 0 01-.16.39z' fill='%2329363F'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0'%3E%3Cpath fill='%23fff' transform='translate(0 9)' d='M0 0h70v52H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E");
}

.%prefix%-request {
    padding: 20px;
    border-radius: 20px;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
    background: white;
}

.%prefix%-info {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.%prefix%-title {
    color: #000000;
    font-size: 25px;
    margin-top: 14px;
    font-weight: 700;
    line-height: 30px;
    letter-spacing: 0.5px;
}

.%prefix%-subtitle {
    margin-top: 14px;
    color: #5C5C5C;
    text-align: center;
    line-height: 1.4;
    word-break: break-word;
}

.%prefix%-subtitle a {
    color: #000000;
    cursor: pointer;
    text-decoration: underline;
}

.%prefix%-manual {
    color: #007AFF;
    cursor: pointer;
}

.%prefix%-info hr {
    border: 0;
    height: 1px;
    width: 100%;
    background: #EFF1F7;
    margin: 24px 0 14px;
}

.%prefix%-uri {
    width: 100%;
}

.%prefix%-button {
    color: #007AFF;
    background: #EFF1F7;
    border: 1px solid #EFF1F7;
    text-decoration: none;
    font-size: 17px;
    flex-grow: 1;
    flex: 1;
    width: 100%;
    line-height: 1;
    padding: 20px 18px;
    border-radius: 12px;
    font-weight: 400;
    text-align: center;
    display: block;
    margin-top: 21px;
    cursor: pointer;
}

.%prefix%-button:hover {
    border: 1px solid #007AFF;
}

.%prefix%-qr {
    position: relative;
    margin-top: 21px;
    border: 4px solid #EFF1F7;
    padding: 11px;
    border-radius: 12px;
    background: #FFFFFF;
    transition: all 400ms ease-in-out;
    transform: scale(1) translateY(0);
}

.%prefix%-qr svg {
    width: 100%;
    display: block;
    cursor: zoom-in;
    shape-rendering: crispEdges;
}

.%prefix%-qr.zoom {
    transform: scale(2) translateY(-25px);
    border: 2px solid #1E89FE;
    box-sizing: border-box;
    box-shadow: 0px 4px 154px rgba(0, 0, 0, 0.35);
    border-radius: 10px;
    padding: 5px;
    z-index: 2147483647;
}

.%prefix%-qr.zoom svg {
    cursor: zoom-out;
}

.%prefix%-qr svg rect {
    fill: black;
}

.%prefix%-copy {
    position: absolute;
    bottom: -10px;
    left: 0px;
    width: 100%;
    color: green;
    text-align: center;
    opacity: 1;
    transition: all 200ms ease-in-out;
    transition-delay: 400ms;
}

.%prefix%-qr.zoom .%prefix%-copy {
    transition-delay: 0ms;
    background: transparent;
    opacity: 0;
}

.%prefix%-copy span,
.%prefix%-copy a {
    display: inline-block;
    background: white;
    padding: 0 20px;
    color: #007AFF;
    cursor: pointer;
    text-decoration: none;
}

.%prefix%-copy span {
    display: none;
    color: #5C5C5C;
    cursor: default;
}

.%prefix%-copy.copied a {
    display: none;
}

.%prefix%-copy.copied span {
    display: inline-block;
}

.%prefix%-copy span:before,
.%prefix%-copy a:before {
    content: '';
    display: inline-block;
    width: 26px;
    height: 16px;
    position: relative;
    top: 2px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='17' height='17' fill='none'%3E%3Cg clip-path='url(%23A)' stroke='%23157efa' stroke-linejoin='round' stroke-width='2'%3E%3Cpath d='M13.83 6.5h-6c-.73 0-1.33.6-1.33 1.33v6c0 .74.6 1.34 1.33 1.34h6c.74 0 1.34-.6 1.34-1.34v-6c0-.73-.6-1.33-1.34-1.33z'/%3E%3Cpath d='M3.83 10.5h-.66a1.33 1.33 0 01-1.34-1.33v-6a1.33 1.33 0 011.34-1.34h6a1.33 1.33 0 011.33 1.34v.66' stroke-linecap='round'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='A'%3E%3Cpath fill='%23fff' transform='translate(.5 .5)' d='M0 0h16v16H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E");
    background-repeat: no-repeat;
}

.%prefix%-copy span:before {
    background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.33 4L6 11.33 2.67 8' stroke='%23157EFA' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    top: 3.5px;
}

.%prefix%-footnote {
    text-align: center;
    width: 100%;
    position: absolute;
    bottom: -26px;
    left: 0;
    color: white;
}

.%prefix%-footnote a {
    color: white;
    text-decoration: underline;
}

.%prefix%-wskeepalive {
    display: none;
}

@media (prefers-color-scheme: dark) {
    .%prefix%-info hr,
    .%prefix%-inner {
        background: #262D43;
        color: white;
    }
    .%prefix%-request,
    .%prefix%-qr a,
    .%prefix%-qr span,
    .%prefix%-qr {
        background: #131B33;
    }
    .%prefix%-title {
        color: #FCFCFC;
    }
    .%prefix%-qr span,
    .%prefix%-subtitle {
        color: #B8C0DA;
    }
    .%prefix%-subtitle a {
        color: #FCFCFC;
    }
    .%prefix%-qr svg rect {
        fill: white;
    }
    .%prefix%-version {
        color: #546AAF;
    }
    .%prefix%-qr a,
    .%prefix%-manual,
    .%prefix%-button {
        color: #FCFCFC;
    }
    .%prefix%-button {
        background: #262D43;
        border: 1px solid #262D43;
    }
    .%prefix%-qr {
        border-color: #262D43;
    }
    .%prefix%-qr.zoom {
        border-color: #131B33;
    }
    .%prefix%-copy a:before {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='17' height='17' fill='none'%3E%3Cg clip-path='url(%23A)' stroke='%23fff' stroke-linejoin='round' stroke-width='2'%3E%3Cpath d='M13.83 6.5h-6c-.73 0-1.33.6-1.33 1.33v6c0 .74.6 1.34 1.33 1.34h6c.74 0 1.34-.6 1.34-1.34v-6c0-.73-.6-1.33-1.34-1.33z'/%3E%3Cpath d='M3.83 10.5h-.66a1.33 1.33 0 01-1.34-1.33v-6a1.33 1.33 0 011.34-1.34h6a1.33 1.33 0 011.33 1.34v.66' stroke-linecap='round'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='A'%3E%3Cpath fill='%23fff' transform='translate(.5 .5)' d='M0 0h16v16H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E");
    }
    .%prefix%-copy span:before {
        background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.33 4L6 11.33 2.67 8' stroke='%23fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    }
    .%prefix%-button:hover {
        color: #FCFCFC;
        border: 1px solid #FCFCFC;
        background: #333A50;
    }
    .%prefix%-close {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.57 12.1a.96.96 0 000 1.34c.37.36 1 .36 1.34 0L7 8.37l5.09 5.09c.36.35.97.35 1.34-.01a.96.96 0 000-1.34L8.34 7.01l5.08-5.08a.95.95 0 000-1.33.97.97 0 00-1.34-.01L6.99 5.68 1.91.59a.96.96 0 00-1.33 0 .97.97 0 00-.01 1.34l5.09 5.08-5.1 5.1z' fill='%23FCFCFC'/%3E%3C/svg%3E");
    }
    .%prefix%-close:hover {
        background-color: black;
    }
}

@media (max-height: 600px) { .%prefix%-inner { transform: scale(0.9); } }
@media (max-height: 540px) { .%prefix%-inner { transform: scale(0.8); } }
@media (max-height: 480px) { .%prefix%-inner { transform: scale(0.7); } }
@media (max-height: 420px) { .%prefix%-inner { transform: scale(0.6); } }
@media (max-height: 360px) { .%prefix%-inner { transform: scale(0.5); } }
@media (max-height: 300px) { .%prefix%-inner { transform: scale(0.4); } }

@media (max-width: 600px) and (orientation: portrait) {
    .%prefix%-qr.zoom {
        transform: scale(1.5) translateY(-25px);
    }
}

@media (max-width: 450px) and (orientation: portrait) {
    .%prefix%-qr.zoom {
        transform: scale(1.3) translateY(-25px);
    }
}

`,Bn={L:1,M:0,Q:3,H:2},Mt={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};class Pb{constructor(e){this.mode=Mt.MODE_8BIT_BYTE,this.data=e}getLength(){return this.data.length}write(e){for(let r=0;r<this.data.length;r++)e.put(this.data.charCodeAt(r),8)}}class Hc{constructor(){this.buffer=[],this.length=0}get(e){const r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)==1}put(e,r){for(let i=0;i<r;i++)this.putBit((e>>>r-i-1&1)==1)}getLengthInBits(){return this.length}putBit(e){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}}const dt={glog:function(t){if(t<1)throw new Error("glog("+t+")");return dt.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return dt.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(let t=0;t<8;t++)dt.EXP_TABLE[t]=1<<t;for(let t=8;t<256;t++)dt.EXP_TABLE[t]=dt.EXP_TABLE[t-4]^dt.EXP_TABLE[t-5]^dt.EXP_TABLE[t-6]^dt.EXP_TABLE[t-8];for(let t=0;t<255;t++)dt.LOG_TABLE[dt.EXP_TABLE[t]]=t;class hn{constructor(e,r){if(e.length==null)throw new Error(e.length+"/"+r);let i=0;for(;i<e.length&&e[i]==0;)i++;this.num=new Array(e.length-i+r);for(let n=0;n<e.length-i;n++)this.num[n]=e[n+i]}get(e){return this.num[e]}getLength(){return this.num.length}multiply(e){const r=new Array(this.getLength()+e.getLength()-1);for(let i=0;i<this.getLength();i++)for(let n=0;n<e.getLength();n++)r[i+n]^=dt.gexp(dt.glog(this.get(i))+dt.glog(e.get(n)));return new hn(r,0)}mod(e){if(this.getLength()-e.getLength()<0)return this;const r=dt.glog(this.get(0))-dt.glog(e.get(0)),i=new Array(this.getLength());for(let n=0;n<this.getLength();n++)i[n]=this.get(n);for(let n=0;n<e.getLength();n++)i[n]^=dt.gexp(dt.glog(e.get(n))+r);return new hn(i,0).mod(e)}}class Gt{constructor(e,r){this.totalCount=e,this.dataCount=r}static getRSBlocks(e,r){const i=Gt.getRsBlockTable(e,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+r);const n=i.length/3,a=[];for(let o=0;o<n;o++){const s=i[o*3+0],l=i[o*3+1],c=i[o*3+2];for(let h=0;h<s;h++)a.push(new Gt(l,c))}return a}static getRsBlockTable(e,r){switch(r){case Bn.L:return Gt.RS_BLOCK_TABLE[(e-1)*4+0];case Bn.M:return Gt.RS_BLOCK_TABLE[(e-1)*4+1];case Bn.Q:return Gt.RS_BLOCK_TABLE[(e-1)*4+2];case Bn.H:return Gt.RS_BLOCK_TABLE[(e-1)*4+3];default:return}}}Gt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];const Mr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Se={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){let e=t<<10;for(;Se.getBCHDigit(e)-Se.getBCHDigit(Se.G15)>=0;)e^=Se.G15<<Se.getBCHDigit(e)-Se.getBCHDigit(Se.G15);return(t<<10|e)^Se.G15_MASK},getBCHTypeNumber:function(t){let e=t<<12;for(;Se.getBCHDigit(e)-Se.getBCHDigit(Se.G18)>=0;)e^=Se.G18<<Se.getBCHDigit(e)-Se.getBCHDigit(Se.G18);return t<<12|e},getBCHDigit:function(t){let e=0;for(;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Se.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Mr.PATTERN000:return(e+r)%2==0;case Mr.PATTERN001:return e%2==0;case Mr.PATTERN010:return r%3==0;case Mr.PATTERN011:return(e+r)%3==0;case Mr.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Mr.PATTERN101:return e*r%2+e*r%3==0;case Mr.PATTERN110:return(e*r%2+e*r%3)%2==0;case Mr.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){let e=new hn([1],0);for(let r=0;r<t;r++)e=e.multiply(new hn([1,dt.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Mt.MODE_NUMBER:return 10;case Mt.MODE_ALPHA_NUM:return 9;case Mt.MODE_8BIT_BYTE:return 8;case Mt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Mt.MODE_NUMBER:return 12;case Mt.MODE_ALPHA_NUM:return 11;case Mt.MODE_8BIT_BYTE:return 16;case Mt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Mt.MODE_NUMBER:return 14;case Mt.MODE_ALPHA_NUM:return 13;case Mt.MODE_8BIT_BYTE:return 16;case Mt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){const e=t.getModuleCount();let r=0;for(let a=0;a<e;a++)for(let o=0;o<e;o++){let s=0;const l=t.isDark(a,o);for(let c=-1;c<=1;c++)if(!(a+c<0||e<=a+c))for(let h=-1;h<=1;h++)o+h<0||e<=o+h||c==0&&h==0||l==t.isDark(a+c,o+h)&&s++;s>5&&(r+=3+s-5)}for(let a=0;a<e-1;a++)for(let o=0;o<e-1;o++){let s=0;t.isDark(a,o)&&s++,t.isDark(a+1,o)&&s++,t.isDark(a,o+1)&&s++,t.isDark(a+1,o+1)&&s++,(s==0||s==4)&&(r+=3)}for(let a=0;a<e;a++)for(let o=0;o<e-6;o++)t.isDark(a,o)&&!t.isDark(a,o+1)&&t.isDark(a,o+2)&&t.isDark(a,o+3)&&t.isDark(a,o+4)&&!t.isDark(a,o+5)&&t.isDark(a,o+6)&&(r+=40);for(let a=0;a<e;a++)for(let o=0;o<e-6;o++)t.isDark(o,a)&&!t.isDark(o+1,a)&&t.isDark(o+2,a)&&t.isDark(o+3,a)&&t.isDark(o+4,a)&&!t.isDark(o+5,a)&&t.isDark(o+6,a)&&(r+=40);let i=0;for(let a=0;a<e;a++)for(let o=0;o<e;o++)t.isDark(o,a)&&i++;return r+=Math.abs(100*i/e/e-50)/5*10,r}};class zr{constructor(e,r){this.typeNumber=e,this.errorCorrectLevel=r,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}addData(e){const r=new Pb(e);this.dataList.push(r),this.dataCache=null}isDark(e,r){if(e<0||this.moduleCount<=e||r<0||this.moduleCount<=r)throw new Error(e+","+r);return this.modules[e][r]}getModuleCount(){return this.moduleCount}make(){if(this.typeNumber<1){let e=1;for(e=1;e<40;e++){const r=Gt.getRSBlocks(e,this.errorCorrectLevel),i=new Hc;let n=0;for(let a=0;a<r.length;a++)n+=r[a].dataCount;for(let a=0;a<this.dataList.length;a++){const o=this.dataList[a];i.put(o.mode,4),i.put(o.getLength(),Se.getLengthInBits(o.mode,e)),o.write(i)}if(i.getLengthInBits()<=n*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())}makeImpl(e,r){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(let n=0;n<this.moduleCount;n++)this.modules[i][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,r),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=zr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)}setupPositionProbePattern(e,r){for(let i=-1;i<=7;i++)if(!(e+i<=-1||this.moduleCount<=e+i))for(let n=-1;n<=7;n++)r+n<=-1||this.moduleCount<=r+n||(0<=i&&i<=6&&(n==0||n==6)||0<=n&&n<=6&&(i==0||i==6)||2<=i&&i<=4&&2<=n&&n<=4?this.modules[e+i][r+n]=!0:this.modules[e+i][r+n]=!1)}getBestMaskPattern(){let e=0,r=0;for(let i=0;i<8;i++){this.makeImpl(!0,i);const n=Se.getLostPoint(this);(i==0||e>n)&&(e=n,r=i)}return r}setupTimingPattern(){for(let e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(let e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)}setupPositionAdjustPattern(){const e=Se.getPatternPosition(this.typeNumber);for(let r=0;r<e.length;r++)for(let i=0;i<e.length;i++){const n=e[r],a=e[i];if(this.modules[n][a]==null)for(let o=-2;o<=2;o++)for(let s=-2;s<=2;s++)o==-2||o==2||s==-2||s==2||o==0&&s==0?this.modules[n+o][a+s]=!0:this.modules[n+o][a+s]=!1}}setupTypeNumber(e){const r=Se.getBCHTypeNumber(this.typeNumber);for(let i=0;i<18;i++){const n=!e&&(r>>i&1)==1;this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(let i=0;i<18;i++){const n=!e&&(r>>i&1)==1;this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}}setupTypeInfo(e,r){const i=this.errorCorrectLevel<<3|r,n=Se.getBCHTypeInfo(i);for(let a=0;a<15;a++){const o=!e&&(n>>a&1)==1;a<6?this.modules[a][8]=o:a<8?this.modules[a+1][8]=o:this.modules[this.moduleCount-15+a][8]=o}for(let a=0;a<15;a++){const o=!e&&(n>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=o:a<9?this.modules[8][15-a-1+1]=o:this.modules[8][15-a-1]=o}this.modules[this.moduleCount-8][8]=!e}mapData(e,r){let i=-1,n=this.moduleCount-1,a=7,o=0;for(let s=this.moduleCount-1;s>0;s-=2)for(s==6&&s--;;){for(let l=0;l<2;l++)if(this.modules[n][s-l]==null){let c=!1;o<e.length&&(c=(e[o]>>>a&1)==1),Se.getMask(r,n,s-l)&&(c=!c),this.modules[n][s-l]=c,a--,a==-1&&(o++,a=7)}if(n+=i,n<0||this.moduleCount<=n){n-=i,i=-i;break}}}static createData(e,r,i){const n=Gt.getRSBlocks(e,r),a=new Hc;for(let s=0;s<i.length;s++){const l=i[s];a.put(l.mode,4),a.put(l.getLength(),Se.getLengthInBits(l.mode,e)),l.write(a)}let o=0;for(let s=0;s<n.length;s++)o+=n[s].dataCount;if(a.getLengthInBits()>o*8)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+o*8+")");for(a.getLengthInBits()+4<=o*8&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=o*8||(a.put(zr.PAD0,8),a.getLengthInBits()>=o*8));)a.put(zr.PAD1,8);return zr.createBytes(a,n)}static createBytes(e,r){let i=0,n=0,a=0;const o=new Array(r.length),s=new Array(r.length);for(let g=0;g<r.length;g++){const E=r[g].dataCount,k=r[g].totalCount-E;n=Math.max(n,E),a=Math.max(a,k),o[g]=new Array(E);for(let I=0;I<o[g].length;I++)o[g][I]=255&e.buffer[I+i];i+=E;const M=Se.getErrorCorrectPolynomial(k),R=new hn(o[g],M.getLength()-1).mod(M);s[g]=new Array(M.getLength()-1);for(let I=0;I<s[g].length;I++){const P=I+R.getLength()-s[g].length;s[g][I]=P>=0?R.get(P):0}}let l=0;for(let g=0;g<r.length;g++)l+=r[g].totalCount;const c=new Array(l);let h=0;for(let g=0;g<n;g++)for(let E=0;E<r.length;E++)g<o[E].length&&(c[h++]=o[E][g]);for(let g=0;g<a;g++)for(let E=0;E<r.length;E++)g<s[E].length&&(c[h++]=s[E][g]);return c}}zr.PAD0=236;zr.PAD1=17;function Cb(t,e="L",r=-1){const i=new zr(r,Bn[e]),n=[];i.addData(t),i.make();const a=i.modules,o=a.length;for(const[l,c]of a.entries()){let h;for(const[g,E]of c.entries())E?(h||(h={x:g,y:l,width:0,height:1}),h.width++):(h&&h.width>0&&n.push(h),h=void 0);h&&h.width>0&&n.push(h)}const s=[`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${o} ${o}">`];for(const{x:l,y:c,width:h,height:g}of n)s.push(`<rect x="${l}" y="${c}" width="${h}" height="${g}" />`);return s.push("</svg>"),s.join("")}async function Nb(t,e){return(await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:e?JSON.stringify(e):void 0})).json()}const Bb="fuel/2";function Db(t){return Vc(t)>=Vc(Bb)}function Vc(t){const e=t.trim().split("/");return e.length===2&&e[0]==="fuel"?parseInt(e[1])||0:-1}async function zb(t,e,r,i,n){Ob(t,e),r("Detecting if network resources are required.");const a=t.getChainId(),o=i[String(a)];if(!o)throw new Error("Blockchain not supported by this resource provider.");const s=await Nb(o+"/v1/resource_provider/request_transaction",{ref:n,request:t,signer:e.auth});if(!s||!s.data)throw new Error("Invalid response from resource provider.");if(!s.data.signatures||!s.data.signatures[0])throw new Error("No signature returned from resource provider.");if(s.code===402&&!s.data.fee)throw new Error("Resource provider returned a response indicating required payment, but provided no fee amount.");const l=t.clone();if(s.code===402){if(t.getInfoKey("no_fee"))throw new Error("Fee required but sender opted out.");l.setInfoKey("txfee",s.data.fee)}s.data.costs&&(l.setInfoKey("txfeecpu",s.data.costs.cpu),l.setInfoKey("txfeenet",s.data.costs.net),l.setInfoKey("txfeeram",s.data.costs.ram));const c=s.data.signatures.map(h=>mt.from(h));return l.setInfoKey("cosig",c,{type:mt,array:!0}),l.data.req=(await Ct.create({transaction:{...s.data.request[1]}},{abiProvider:t.abiProvider})).data.req,l}function Ob(t,e){if(t.getRawInfoKey("no_modify"))throw new Error("Request cannot be modified.");if(t.isIdentity())throw new Error("Identity requests cannot be co-signed.");const r=t.getRawActions()[0];if(!r)throw new Error("No actions in request.");const i=r.authorization[0];if(!r)throw new Error("First authorization missing.");if(!i.actor.equals(e.auth.actor)&&!i.actor.equals(Ht))throw new Error("Not first authorizer.")}const Kc=Symbol(),jc=Symbol(),Wc=Symbol(),Lb={aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906:"https://eos.greymass.com","2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840":"https://jungle3.greymass.com","4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11":"https://telos.greymass.com","1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4":"https://wax.greymass.com"};class qb{constructor(e){this.keyPrefix=e}async write(e,r){localStorage.setItem(this.storageKey(e),r)}async read(e){return localStorage.getItem(this.storageKey(e))}async remove(e){localStorage.removeItem(this.storageKey(e))}storageKey(e){return`${this.keyPrefix}-${e}`}}class ha{constructor(e={}){this.options=e,this.classPrefix=e.classPrefix||"anchor-link",this.injectStyles=e.injectStyles!==!1,this.importantStyles=e.importantStyles!==!1,this.requestStatus=e.requestStatus!==!1,this.fuelEnabled=e.disableGreymassFuel!==!0,this.fuelReferrer=e.fuelReferrer||"teamgreymass",this.storage=new qb(e.storagePrefix||"anchor-link"),this.supportedChains=e.supportedChains||Lb,this.showingManual=!1}closeModal(){this.hide(),this.activeCancel&&(this.activeRequest=void 0,this.activeCancel("Modal closed"),this.activeCancel=void 0)}setupElements(){if(this.showingManual=!1,this.injectStyles&&!this.styleEl){this.styleEl=document.createElement("style"),this.styleEl.type="text/css";let e=Rb.replace(/%prefix%/g,this.classPrefix);this.importantStyles&&(e=e.split(`
`).map(r=>r.replace(/;$/i," !important;")).join(`
`)),this.styleEl.appendChild(document.createTextNode(e)),document.head.appendChild(this.styleEl)}if(this.containerEl||(this.containerEl=this.createEl(),this.containerEl.className=this.classPrefix,this.containerEl.onclick=e=>{e.target===this.containerEl&&(e.stopPropagation(),this.closeModal())},document.body.appendChild(this.containerEl)),!this.requestEl){const e=this.createEl({class:"inner"}),r=this.createEl({class:"close"});r.onclick=n=>{n.stopPropagation(),this.closeModal()},this.requestEl=this.createEl({class:"request"}),e.appendChild(this.requestEl),e.appendChild(r);const i=this.createEl({class:"version",text:`${ha.version} (${xa.version})`});i.onclick=n=>{n.stopPropagation(),window.open("https://github.com/greymass/anchor-link","_blank")},e.appendChild(i),this.containerEl.appendChild(e)}}createEl(e){e||(e={});const r=document.createElement(e.tag||"div");for(const i of Object.keys(e)){const n=e[i];switch(i){case"src":r.setAttribute(i,n);break;case"tag":break;case"content":typeof n=="string"?r.appendChild(document.createTextNode(n)):r.appendChild(n);break;case"text":r.appendChild(document.createTextNode(n));break;case"class":r.className=`${this.classPrefix}-${n}`;break;default:r.setAttribute(i,n)}}return r}hide(){this.containerEl&&this.containerEl.classList.remove(`${this.classPrefix}-active`),this.clearTimers()}show(){this.containerEl&&this.containerEl.classList.add(`${this.classPrefix}-active`)}showDialog(e){this.setupElements();const r=this.createEl({class:"info"}),i=this.createEl({class:"title",tag:"span",content:e.title}),n=this.createEl({class:"subtitle",tag:"span",content:e.subtitle});r.appendChild(i),r.appendChild(n);const a=this.createEl({class:"logo"});if(e.type&&a.classList.add(e.type),Ub(this.requestEl),this.requestEl.appendChild(a),this.requestEl.appendChild(r),e.content&&this.requestEl.appendChild(e.content),e.action){const o=this.createEl({tag:"a",class:"button",text:e.action.text});o.addEventListener("click",s=>{s.preventDefault(),e.action.callback()}),this.requestEl.appendChild(o)}if(e.footnote){const o=this.createEl({class:"footnote",content:e.footnote});this.requestEl.appendChild(o)}this.show()}async displayRequest(e,r,i,n=!0){const a=e.clone(),o=Gc();a.setInfoKey("same_device",!0),a.setInfoKey("return_path",o);const s=a.encode(!0,!1),l=e.encode(!0,!1),c=this.createEl({class:"qr"});try{c.innerHTML=Cb(l)}catch(P){console.warn("Unable to generate QR code",P)}const h=this.createEl({class:"copy"}),g=this.createEl({tag:"a",text:"Copy request link"}),E=this.createEl({tag:"span",text:"Link copied - Paste in Anchor"});h.appendChild(g),h.appendChild(E),c.appendChild(h),g.addEventListener("click",P=>{P.preventDefault(),Zb(l),h.classList.add("copied"),setTimeout(()=>{h.classList.remove("copied")},2e3)});const k=c.querySelector("svg");k&&k.addEventListener("click",P=>{P.preventDefault(),c.classList.toggle("zoom")});const M=this.createEl({class:"uri"}),T=this.createEl({tag:"a",class:"button",href:l,text:"Launch Anchor"});if(M.appendChild(T),B0()||Ks()){const P=this.createEl({class:"wskeepalive",src:"about:blank",tag:"iframe"});M.appendChild(P),T.addEventListener("click",B=>{B.preventDefault(),P.setAttribute("src",s)})}else T.addEventListener("click",P=>{P.preventDefault(),window.location.href=s});const R=this.createEl({class:"info"});R.appendChild(c),R.appendChild(M);let I;if(n){I=this.createEl({text:"Don't have Anchor yet? "});const P=this.createEl({tag:"a",target:"_blank",href:"https://greymass.com/anchor",text:"Download now"});I.appendChild(P)}this.showDialog({title:r,subtitle:i,footnote:I,content:R})}async showLoading(){const e=this.createEl({tag:"span",text:"Preparing request..."});this.prepareStatusEl=e,this.showDialog({title:"Loading",subtitle:e,type:"loading"})}onRequest(e,r){this.clearTimers(),this.activeRequest=e,this.activeCancel=r;const i=e.isIdentity()?"Login":"Sign",n="Scan the QR-code with Anchor on another device or use the button to open it here.";this.displayRequest(e,i,n).catch(r)}onSessionRequest(e,r,i){if(e.metadata.sameDevice&&r.setInfoKey("return_path",Gc()),e.type==="fallback"){this.onRequest(r,i),e.metadata.sameDevice&&(window.location.href=r.encode());return}this.clearTimers(),this.activeRequest=r,this.activeCancel=i;const n=e.metadata.timeout||60*1e3*2,a=e.metadata.name;let o;a&&a.length>0?o=`Please open Anchor Wallet on \u201C${a}\u201D to review and sign the transaction.`:o="Please review and sign the transaction in the linked wallet.";const s=this.createEl({tag:"span",text:"Sign"}),l=new Date(Date.now()+n),c=()=>{s.textContent=`Sign - ${Zc(l)}`};this.countdownTimer=setInterval(c,200),c();const h=this.createEl({class:"info"}),g=this.createEl({tag:"hr"}),E=this.createEl({tag:"a",text:"Sign manually or with another device",class:"manual"});E.addEventListener("click",k=>{k.preventDefault();const M=new Ha("Manual","E_TIMEOUT",e);M[Wc]=!0,i(M)}),h.appendChild(g),h.appendChild(E),this.showDialog({title:s,subtitle:o,content:h}),e.metadata.sameDevice&&(e.metadata.launchUrl?window.location.href=e.metadata.launchUrl:Vs()&&(window.location.href="anchor://link"))}sendSessionPayload(e,r){return!r.metadata.triggerUrl||!r.metadata.sameDevice||e.array.length>700?!1:(window.location.href=r.metadata.triggerUrl.replace("%s",T2.encode(e.array)),!0)}clearTimers(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=void 0),this.countdownTimer&&(clearTimeout(this.countdownTimer),this.countdownTimer=void 0)}async showFee(e,r){this.activeRequest=e;const i=new Promise((R,I)=>{this.activeCancel=P=>{let B;typeof P=="string"?B=new Error(P):B=P,B[Kc]=!0,I(B)}}),n=this.createEl({class:"info"}),a=this.createEl({tag:"span",text:"You can try to "}),o=this.createEl({tag:"a",text:"proceed without the fee"}),s=this.createEl({tag:"span",text:" or accept the fee shown below to pay for these costs."}),l=this.createEl({class:"subtitle",tag:"span"});l.appendChild(a),l.appendChild(o),l.appendChild(s),n.appendChild(l);const c=this.createEl({tag:"span",class:"subtitle",text:"Offer expires in --:--"});n.appendChild(c);const h=e.getRawTransaction().expiration.toDate(),g=setInterval(()=>{c.textContent=`Offer expires in ${Zc(h)}`,h.getTime()<Date.now()&&this.activeCancel("Offer expired")},200),E=this.createEl({tag:"span",text:"Resources offered by "}),k=this.createEl({tag:"a",target:"_blank",href:"https://greymass.com/en/fuel",text:"Greymass Fuel"});E.appendChild(k);const M=$b(o,"click").then(()=>{const R=new Error("Skipped fee");throw R[jc]=!0,R}),T=new Promise(R=>{this.showDialog({title:"Transaction Fee",subtitle:"Your account lacks the network resources for this transaction and it cannot be covered for free.",type:"fuel",content:n,action:{text:`Accept Fee of ${r}`,callback:R},footnote:E})});await Promise.race([T,M,i]).finally(()=>{clearInterval(g)})}showRecovery(e,r){if(e.data.info=e.data.info.filter(i=>i.key!=="return_path"),r.type==="channel"){const i=r;i.addLinkInfo&&i.addLinkInfo(e)}this.displayRequest(e,"Sign manually","Want to sign with another device or didn\u2019t get the signing request in your wallet, scan this QR or copy request and paste in app.",!1),this.showingManual=!0}async prepare(e,r){if(this.showLoading(),!this.fuelEnabled||!r||e.isIdentity()||typeof r.metadata.cosignerVersion=="string"&&Db(r.metadata.cosignerVersion))return e;try{const i=zb(e,r,s=>{this.prepareStatusEl&&(this.prepareStatusEl.textContent=s)},this.supportedChains,this.fuelReferrer),n=new Promise(s=>setTimeout(s,5e3)).then(()=>{throw new Error("API timeout after 5000ms")}),a=await Promise.race([i,n]),o=a.getInfoKey("txfee");return o&&await this.showFee(a,String(o)),a}catch(i){if(i[Kc])throw this.hide(),i;if(console.info(`Skipping resource provider: ${i.message||i}`),i[jc]){const n=e.clone();return n.setInfoKey("no_fee",!0,"bool"),n}}return e}recoverError(e,r){if(r===this.activeRequest&&(e.code==="E_DELIVERY"||e.code==="E_TIMEOUT")&&e.session){if(this.showingManual)return!0;const i=e.session;if(e[Wc])return this.showRecovery(r,i),!0;const n=i.metadata.name;let a;return n&&n.length>0?a=`Unable to deliver the request to \u201C${n}\u201D.`:a="Unable to deliver the request to the linked wallet.",a+=` ${e.message}.`,this.showDialog({title:"Unable to reach device",subtitle:a,type:"warning",action:{text:"Sign manually",callback:()=>{this.showRecovery(r,i)}}}),!0}return!1}onSuccess(e){e===this.activeRequest&&(this.clearTimers(),this.requestStatus?(this.showDialog({title:"Success!",subtitle:e.isIdentity()?"Login completed.":"Transaction signed.",type:"success"}),this.closeTimer=setTimeout(()=>{this.hide()},1.5*1e3)):this.hide())}onFailure(e,r){if(e===this.activeRequest&&r.code!=="E_CANCEL")if(this.clearTimers(),this.requestStatus){let i;Q(r,va)?r.name==="eosio_assert_message_exception"?i=r.details[0].message:r.details.length>0?i=r.details.map(n=>n.message).join(`
`):i=r.message:i=r.message||String(r),this.showDialog({title:"Transaction Error",subtitle:i,type:"error"})}else this.hide();else this.hide()}userAgent(){return`BrowserTransport/${ha.version} ${navigator.userAgent}`}}ha.version="3.3.0";function $b(t,e,r){return new Promise((i,n)=>{const a=o=>{t.removeEventListener(e,a),i(o)};t.addEventListener(e,a),r&&setTimeout(()=>{t.removeEventListener(e,a),n(new Error(`Timed out waiting for ${e}`))},r)})}function Zc(t){const e=t.getTime()-Date.now();return e>0?new Date(e).toISOString().substr(14,5):"00:00"}function Ub(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Gc(){if(Fb())return"googlechrome://";if(Vb())return"firefox:://";if(Vs()&&Ks())return"brave://";if(Vs()){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let e=window.location.href.split("#")[0]+"#";for(let r=0;r<8;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}return $i()&&B0()?"android-intent://org.mozilla.firefox":$i()&&jb()?"android-intent://com.microsoft.emmx":$i()&&Kb()?"android-intent://com.opera.browser":$i()&&Ks()?"android-intent://com.brave.browser":$i()&&Wb()?"android-intent://webview":$i()&&Hb()?"android-intent://com.android.chrome":window.location.href}function Vs(){return/iP(ad|od|hone)/i.test(navigator.userAgent)}function Fb(){return/CriOS/.test(navigator.userAgent)}function Hb(){return/Chrome\/[.0-9]* Mobile/i.test(navigator.userAgent)}function B0(){return/Firefox/i.test(navigator.userAgent)}function Vb(){return/FxiOS/.test(navigator.userAgent)}function Kb(){return/OPR/.test(navigator.userAgent)||/Opera/.test(navigator.userAgent)}function jb(){return/Edg/.test(navigator.userAgent)}function Ks(){return navigator.brave&&typeof navigator.brave.isBrave=="function"}function $i(){return/Android/.test(navigator.userAgent)}function Wb(){return/wv/.test(navigator.userAgent)||/Android.*AppleWebKit/.test(navigator.userAgent)}function Zb(t){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t);else{const e=document.createElement("textarea");try{e.setAttribute("contentEditable",""),e.value=t,document.body.appendChild(e),e.select();const r=document.createRange();r.selectNodeContents(e);const i=window.getSelection();i.removeAllRanges(),i.addRange(r),e.setSelectionRange(0,e.value.length),document.execCommand("copy")}finally{document.body.removeChild(e)}}}const Gb=new ha({requestStatus:!1}),Hr=new xa({chains:Eo.map(t=>({chainId:t.chainId,nodeUrl:Sa(t)})),transport:Gb});function Jb(t,e){return t.auth.equals(e.auth)&&t.chainId.equals(e.chainId)}async function m6(){const t=await Hr.listSessions(Ur);let e=null;if(window.location.search.includes("auth=")){const r=new URLSearchParams(window.location.search),i=$e.from(r.get("auth")||"");let n;r.has("chain")&&(n=be.from(r.get("chain")||"")),e=await Hr.restoreSession(Ur,i,n);const a=()=>{window.history&&window.history.replaceState(null,"",window.location.pathname)};if(e)a();else return Xb().finally(a)}else e=await Hr.restoreSession(Ur);gf.set(t),e&&oi.set(e)}async function Xb(){const t=await Hr.login(Ur);t.account&&C0(t.account,t.session.chainId);const e=await Hr.listSessions(Ur);gf.set(e),oi.set(t.session)}async function v6(t){const e=await Hr.restoreSession(Ur,t.auth,t.chainId);if(e){await e.remove();const r=await Hr.listSessions(Ur);let i=Jc(oi);i&&Jb(i,e)&&(r.length>0?Yb(r[0]):oi.set(void 0)),gf.set(r)}}async function Yb(t){const e=await Hr.restoreSession(Ur,t.auth,t.chainId);if(!e)throw new Error("No such session");oi.set(e)}export{m6 as $,se as A,X2 as B,be as C,fn as D,xb as E,Su as F,ke as G,Oe as H,xo as I,A0 as J,ct as K,ln as L,Ii as M,H as N,la as O,$e as P,io as Q,ai as R,p as S,xr as T,Xi as U,ro as V,cn as W,dn as X,Ri as Y,u6 as Z,_,gf as a,kn as a0,L0 as a1,oi as b,w0 as c,v6 as d,Eo as e,Yb as f,b6 as g,h6 as h,J2 as i,Mb as j,li as k,Xb as l,p6 as m,Tb as n,Ft as o,Ib as p,nf as q,l6 as r,Jb as s,ye as t,Fc as u,d6 as v,_0 as w,Sa as x,Ct as y,Ba as z};
